ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"Intonate.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev,"axG",%progbits,_ZN5daisy8patch_sm12DaisyPatch
  17              		.align	1
  18              		.p2align 2,,3
  19              		.weak	_ZN5daisy8patch_sm12DaisyPatchSMD2Ev
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN5daisy8patch_sm12DaisyPatchSMD2Ev:
  27              	.LVL0:
  28              	.LFB2528:
  29              		.file 1 "../../libDaisy//src/daisy_patch_sm.h"
   1:../../libDaisy//src/daisy_patch_sm.h **** #pragma once
   2:../../libDaisy//src/daisy_patch_sm.h **** 
   3:../../libDaisy//src/daisy_patch_sm.h **** #include "daisy.h"
   4:../../libDaisy//src/daisy_patch_sm.h **** 
   5:../../libDaisy//src/daisy_patch_sm.h **** namespace daisy
   6:../../libDaisy//src/daisy_patch_sm.h **** {
   7:../../libDaisy//src/daisy_patch_sm.h **** namespace patch_sm
   8:../../libDaisy//src/daisy_patch_sm.h **** {
   9:../../libDaisy//src/daisy_patch_sm.h ****     /** Accessors for the Analog Controls. 
  10:../../libDaisy//src/daisy_patch_sm.h ****      *  These cover the 8x Bipolar CV inputs
  11:../../libDaisy//src/daisy_patch_sm.h ****      *  as well as the 4x 0-3V3 ADC inputs on
  12:../../libDaisy//src/daisy_patch_sm.h ****      *  the hardware 
  13:../../libDaisy//src/daisy_patch_sm.h ****      * 
  14:../../libDaisy//src/daisy_patch_sm.h ****      *  When reading a value with DaisyPatchSM::GetAdcValue()
  15:../../libDaisy//src/daisy_patch_sm.h ****      * 
  16:../../libDaisy//src/daisy_patch_sm.h ****      *  patch.GetAdcValue(patch_sm::CV_1);
  17:../../libDaisy//src/daisy_patch_sm.h ****      */
  18:../../libDaisy//src/daisy_patch_sm.h ****     enum
  19:../../libDaisy//src/daisy_patch_sm.h ****     {
  20:../../libDaisy//src/daisy_patch_sm.h ****         CV_1 = 0,
  21:../../libDaisy//src/daisy_patch_sm.h ****         CV_2,
  22:../../libDaisy//src/daisy_patch_sm.h ****         CV_3,
  23:../../libDaisy//src/daisy_patch_sm.h ****         CV_4,
  24:../../libDaisy//src/daisy_patch_sm.h ****         CV_5,
  25:../../libDaisy//src/daisy_patch_sm.h ****         CV_6,
  26:../../libDaisy//src/daisy_patch_sm.h ****         CV_7,
  27:../../libDaisy//src/daisy_patch_sm.h ****         CV_8,
  28:../../libDaisy//src/daisy_patch_sm.h ****         ADC_9,
  29:../../libDaisy//src/daisy_patch_sm.h ****         ADC_10,
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 2


  30:../../libDaisy//src/daisy_patch_sm.h ****         ADC_11,
  31:../../libDaisy//src/daisy_patch_sm.h ****         ADC_12,
  32:../../libDaisy//src/daisy_patch_sm.h ****         ADC_LAST,
  33:../../libDaisy//src/daisy_patch_sm.h ****     };
  34:../../libDaisy//src/daisy_patch_sm.h **** 
  35:../../libDaisy//src/daisy_patch_sm.h ****     /** Enum for addressing the CV Outputs via the WriteCvOut function. */
  36:../../libDaisy//src/daisy_patch_sm.h ****     enum
  37:../../libDaisy//src/daisy_patch_sm.h ****     {
  38:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_BOTH = 0,
  39:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_1,
  40:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_2,
  41:../../libDaisy//src/daisy_patch_sm.h ****     };
  42:../../libDaisy//src/daisy_patch_sm.h **** 
  43:../../libDaisy//src/daisy_patch_sm.h **** 
  44:../../libDaisy//src/daisy_patch_sm.h ****     /** @brief Board support file for DaisyPatchSM hardware
  45:../../libDaisy//src/daisy_patch_sm.h ****      *  @author shensley
  46:../../libDaisy//src/daisy_patch_sm.h ****      *  @ingroup boards
  47:../../libDaisy//src/daisy_patch_sm.h ****      * 
  48:../../libDaisy//src/daisy_patch_sm.h ****      *  Daisy Patch SM is a complete Eurorack module DSP engine.
  49:../../libDaisy//src/daisy_patch_sm.h ****      *  Based on the Daisy Seed, with circuits added for 
  50:../../libDaisy//src/daisy_patch_sm.h ****      *  interfacing directly with eurorack modular synthesizers.
  51:../../libDaisy//src/daisy_patch_sm.h ****      */
  52:../../libDaisy//src/daisy_patch_sm.h ****     class DaisyPatchSM
  53:../../libDaisy//src/daisy_patch_sm.h ****     {
  54:../../libDaisy//src/daisy_patch_sm.h ****       public:
  55:../../libDaisy//src/daisy_patch_sm.h ****         /** Helper for mapping pins, and accessing them using the `GetPin` function */
  56:../../libDaisy//src/daisy_patch_sm.h ****         enum class PinBank
  57:../../libDaisy//src/daisy_patch_sm.h ****         {
  58:../../libDaisy//src/daisy_patch_sm.h ****             A,
  59:../../libDaisy//src/daisy_patch_sm.h ****             B,
  60:../../libDaisy//src/daisy_patch_sm.h ****             C,
  61:../../libDaisy//src/daisy_patch_sm.h ****             D
  62:../../libDaisy//src/daisy_patch_sm.h ****         };
  63:../../libDaisy//src/daisy_patch_sm.h **** 
  64:../../libDaisy//src/daisy_patch_sm.h ****         DaisyPatchSM() {}
  65:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
  30              		.loc 1 65 9 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              	.LBB264:
  36              	.LBI264:
  37              		.file 2 "../../libDaisy//src/hid/gatein.h"
   1:../../libDaisy//src/hid/gatein.h **** #pragma once
   2:../../libDaisy//src/hid/gatein.h **** #ifndef DSY_GATEIN_H
   3:../../libDaisy//src/hid/gatein.h **** #define DSY_GATEIN_H
   4:../../libDaisy//src/hid/gatein.h **** #include "per/gpio.h"
   5:../../libDaisy//src/hid/gatein.h **** 
   6:../../libDaisy//src/hid/gatein.h **** namespace daisy
   7:../../libDaisy//src/hid/gatein.h **** {
   8:../../libDaisy//src/hid/gatein.h **** /**
   9:../../libDaisy//src/hid/gatein.h ****    @brief Generic Class for handling gate inputs through GPIO.
  10:../../libDaisy//src/hid/gatein.h ****    @author Stephen Hensley
  11:../../libDaisy//src/hid/gatein.h ****    @date    March 2020
  12:../../libDaisy//src/hid/gatein.h ****    @ingroup controls
  13:../../libDaisy//src/hid/gatein.h **** */
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 3


  14:../../libDaisy//src/hid/gatein.h **** class GateIn
  15:../../libDaisy//src/hid/gatein.h **** {
  16:../../libDaisy//src/hid/gatein.h ****   public:
  17:../../libDaisy//src/hid/gatein.h ****     /** GateIn 
  18:../../libDaisy//src/hid/gatein.h ****     Constructor 
  19:../../libDaisy//src/hid/gatein.h ****     */
  20:../../libDaisy//src/hid/gatein.h ****     GateIn() {}
  21:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
  22:../../libDaisy//src/hid/gatein.h ****     Destructor 
  23:../../libDaisy//src/hid/gatein.h ****     */
  24:../../libDaisy//src/hid/gatein.h ****     ~GateIn() {}
  38              		.loc 2 24 5 view .LVU1
  39              		.loc 2 24 5 is_stmt 0 view .LVU2
  40              	.LBE264:
  41              	.LBB265:
  42              	.LBI265:
  43              		.loc 2 24 5 is_stmt 1 view .LVU3
  44              		.loc 2 24 5 is_stmt 0 view .LVU4
  45              	.LBE265:
  46              	.LBB266:
  47              	.LBI266:
  48              		.file 3 "../../libDaisy//src/dev/codec_pcm3060.h"
   1:../../libDaisy//src/dev/codec_pcm3060.h **** #pragma once
   2:../../libDaisy//src/dev/codec_pcm3060.h **** #ifndef DSY_CODEC_PCM3060_H
   3:../../libDaisy//src/dev/codec_pcm3060.h **** #define DSY_CODEC_PCM3060_H
   4:../../libDaisy//src/dev/codec_pcm3060.h **** #include "per/i2c.h"
   5:../../libDaisy//src/dev/codec_pcm3060.h **** namespace daisy
   6:../../libDaisy//src/dev/codec_pcm3060.h **** {
   7:../../libDaisy//src/dev/codec_pcm3060.h **** /**
   8:../../libDaisy//src/dev/codec_pcm3060.h ****  * @brief Driver for the TI PCM3060 Audio Codec.
   9:../../libDaisy//src/dev/codec_pcm3060.h ****  * @addtogroup codec
  10:../../libDaisy//src/dev/codec_pcm3060.h ****  * 
  11:../../libDaisy//src/dev/codec_pcm3060.h ****  * For now this is a limited interface that uses I2C to communicate with the PCM3060
  12:../../libDaisy//src/dev/codec_pcm3060.h ****  * The device can also be accessed with SPI, which is not yet supported.
  13:../../libDaisy//src/dev/codec_pcm3060.h ****  * 
  14:../../libDaisy//src/dev/codec_pcm3060.h ****  * For now all registers are set to their defaults, and the Init function will 
  15:../../libDaisy//src/dev/codec_pcm3060.h ****  * perform a MRST and SRST before setting the format to 24bit LJ, and disabling 
  16:../../libDaisy//src/dev/codec_pcm3060.h ****  * power save for both the ADC and DAC.
  17:../../libDaisy//src/dev/codec_pcm3060.h ****  *
  18:../../libDaisy//src/dev/codec_pcm3060.h ****  */
  19:../../libDaisy//src/dev/codec_pcm3060.h **** class Pcm3060
  20:../../libDaisy//src/dev/codec_pcm3060.h **** {
  21:../../libDaisy//src/dev/codec_pcm3060.h ****   public:
  22:../../libDaisy//src/dev/codec_pcm3060.h ****     enum class Result
  23:../../libDaisy//src/dev/codec_pcm3060.h ****     {
  24:../../libDaisy//src/dev/codec_pcm3060.h ****         OK,
  25:../../libDaisy//src/dev/codec_pcm3060.h ****         ERR,
  26:../../libDaisy//src/dev/codec_pcm3060.h ****     };
  27:../../libDaisy//src/dev/codec_pcm3060.h **** 
  28:../../libDaisy//src/dev/codec_pcm3060.h ****     Pcm3060() {}
  29:../../libDaisy//src/dev/codec_pcm3060.h ****     ~Pcm3060() {}
  49              		.loc 3 29 5 is_stmt 1 view .LVU5
  50              		.loc 3 29 5 is_stmt 0 view .LVU6
  51              	.LBE266:
  52              	.LBB267:
  53              	.LBI267:
  54              		.file 4 "../../libDaisy//src/hid/usb.h"
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 4


   1:../../libDaisy//src/hid/usb.h **** #pragma once
   2:../../libDaisy//src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../libDaisy//src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libDaisy//src/hid/usb.h **** #include <stdint.h>
   5:../../libDaisy//src/hid/usb.h **** #include <stdlib.h>
   6:../../libDaisy//src/hid/usb.h **** 
   7:../../libDaisy//src/hid/usb.h **** namespace daisy
   8:../../libDaisy//src/hid/usb.h **** /** @addtogroup human_interface
   9:../../libDaisy//src/hid/usb.h ****     @{
  10:../../libDaisy//src/hid/usb.h **** */
  11:../../libDaisy//src/hid/usb.h **** 
  12:../../libDaisy//src/hid/usb.h **** {
  13:../../libDaisy//src/hid/usb.h **** /** 
  14:../../libDaisy//src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libDaisy//src/hid/usb.h ****     @author Stephen Hensley
  16:../../libDaisy//src/hid/usb.h ****     @date December 2019
  17:../../libDaisy//src/hid/usb.h **** */
  18:../../libDaisy//src/hid/usb.h **** class UsbHandle
  19:../../libDaisy//src/hid/usb.h **** {
  20:../../libDaisy//src/hid/usb.h ****   public:
  21:../../libDaisy//src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../libDaisy//src/hid/usb.h ****     enum class Result
  23:../../libDaisy//src/hid/usb.h ****     {
  24:../../libDaisy//src/hid/usb.h ****         OK,
  25:../../libDaisy//src/hid/usb.h ****         ERR,
  26:../../libDaisy//src/hid/usb.h ****     };
  27:../../libDaisy//src/hid/usb.h **** 
  28:../../libDaisy//src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libDaisy//src/hid/usb.h ****     enum UsbPeriph
  30:../../libDaisy//src/hid/usb.h ****     {
  31:../../libDaisy//src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libDaisy//src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libDaisy//src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libDaisy//src/hid/usb.h ****     };
  35:../../libDaisy//src/hid/usb.h **** 
  36:../../libDaisy//src/hid/usb.h **** 
  37:../../libDaisy//src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libDaisy//src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libDaisy//src/hid/usb.h **** 
  40:../../libDaisy//src/hid/usb.h ****     UsbHandle() {}
  41:../../libDaisy//src/hid/usb.h **** 
  42:../../libDaisy//src/hid/usb.h ****     ~UsbHandle() {}
  55              		.loc 4 42 5 is_stmt 1 view .LVU7
  56              		.loc 4 42 5 is_stmt 0 view .LVU8
  57              	.LBE267:
  58              	.LBB268:
  59              	.LBI268:
  60              		.file 5 "../../libDaisy//src/per/adc.h"
   1:../../libDaisy//src/per/adc.h **** #pragma once
   2:../../libDaisy//src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../libDaisy//src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libDaisy//src/per/adc.h **** #include <stdint.h>
   5:../../libDaisy//src/per/adc.h **** #include <stdlib.h>
   6:../../libDaisy//src/per/adc.h **** #include "daisy_core.h"
   7:../../libDaisy//src/per/adc.h **** #include "per/gpio.h"
   8:../../libDaisy//src/per/adc.h **** 
   9:../../libDaisy//src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 5


  10:../../libDaisy//src/per/adc.h **** 
  11:../../libDaisy//src/per/adc.h **** namespace daisy
  12:../../libDaisy//src/per/adc.h **** {
  13:../../libDaisy//src/per/adc.h **** /** @addtogroup per_analog
  14:../../libDaisy//src/per/adc.h ****     @{
  15:../../libDaisy//src/per/adc.h **** */
  16:../../libDaisy//src/per/adc.h **** 
  17:../../libDaisy//src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../libDaisy//src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libDaisy//src/per/adc.h **** later without breaking existing functionality.
  20:../../libDaisy//src/per/adc.h **** */
  21:../../libDaisy//src/per/adc.h **** 
  22:../../libDaisy//src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../../libDaisy//src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../../libDaisy//src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../../libDaisy//src/per/adc.h ****  *           one channel.
  26:../../libDaisy//src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../../libDaisy//src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../../libDaisy//src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../../libDaisy//src/per/adc.h ****  *           inputs connected.
  30:../../libDaisy//src/per/adc.h **** */
  31:../../libDaisy//src/per/adc.h **** struct AdcChannelConfig
  32:../../libDaisy//src/per/adc.h **** {
  33:../../libDaisy//src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../../libDaisy//src/per/adc.h ****     enum MuxPin
  35:../../libDaisy//src/per/adc.h ****     {
  36:../../libDaisy//src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../../libDaisy//src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../../libDaisy//src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../../libDaisy//src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../../libDaisy//src/per/adc.h ****     };
  41:../../libDaisy//src/per/adc.h **** 
  42:../../libDaisy//src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  43:../../libDaisy//src/per/adc.h ****     \param pin Pin to init.
  44:../../libDaisy//src/per/adc.h ****      */
  45:../../libDaisy//src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin);
  46:../../libDaisy//src/per/adc.h **** 
  47:../../libDaisy//src/per/adc.h ****     /** 
  48:../../libDaisy//src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  49:../../libDaisy//src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  50:../../libDaisy//src/per/adc.h ****     You only need to supply the mux pins that are required,
  51:../../libDaisy//src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  52:../../libDaisy//src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  53:../../libDaisy//src/per/adc.h ****     \param mux_channels must be 1-8
  54:../../libDaisy//src/per/adc.h ****     \param mux_0 First mux pin
  55:../../libDaisy//src/per/adc.h ****     \param mux_1 Second mux pin
  56:../../libDaisy//src/per/adc.h ****     \param mux_2 Third mux pin
  57:../../libDaisy//src/per/adc.h ****     \param adc_pin &
  58:../../libDaisy//src/per/adc.h ****     */
  59:../../libDaisy//src/per/adc.h ****     void InitMux(dsy_gpio_pin adc_pin,
  60:../../libDaisy//src/per/adc.h ****                  size_t       mux_channels,
  61:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_0,
  62:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_1 = {DSY_GPIOX, 0},
  63:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_2 = {DSY_GPIOX, 0});
  64:../../libDaisy//src/per/adc.h **** 
  65:../../libDaisy//src/per/adc.h ****     dsy_gpio pin_;                   /**< & */
  66:../../libDaisy//src/per/adc.h ****     dsy_gpio mux_pin_[MUX_SEL_LAST]; /**< & */
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 6


  67:../../libDaisy//src/per/adc.h ****     uint8_t  mux_channels_;          /**< & */
  68:../../libDaisy//src/per/adc.h **** };
  69:../../libDaisy//src/per/adc.h **** 
  70:../../libDaisy//src/per/adc.h **** /**
  71:../../libDaisy//src/per/adc.h ****    @brief Handler for analog to digital conversion
  72:../../libDaisy//src/per/adc.h **** */
  73:../../libDaisy//src/per/adc.h **** class AdcHandle
  74:../../libDaisy//src/per/adc.h **** {
  75:../../libDaisy//src/per/adc.h ****   public:
  76:../../libDaisy//src/per/adc.h ****     /** Supported oversampling amounts */
  77:../../libDaisy//src/per/adc.h ****     enum OverSampling
  78:../../libDaisy//src/per/adc.h ****     {
  79:../../libDaisy//src/per/adc.h ****         OVS_NONE, /**< & */
  80:../../libDaisy//src/per/adc.h ****         OVS_4,    /**< & */
  81:../../libDaisy//src/per/adc.h ****         OVS_8,    /**< & */
  82:../../libDaisy//src/per/adc.h ****         OVS_16,   /**< & */
  83:../../libDaisy//src/per/adc.h ****         OVS_32,   /**< & */
  84:../../libDaisy//src/per/adc.h ****         OVS_64,   /**< & */
  85:../../libDaisy//src/per/adc.h ****         OVS_128,  /**< & */
  86:../../libDaisy//src/per/adc.h ****         OVS_256,  /**< & */
  87:../../libDaisy//src/per/adc.h ****         OVS_512,  /**< & */
  88:../../libDaisy//src/per/adc.h ****         OVS_1024, /**< & */
  89:../../libDaisy//src/per/adc.h ****         OVS_LAST, /**< & */
  90:../../libDaisy//src/per/adc.h ****     };
  91:../../libDaisy//src/per/adc.h **** 
  92:../../libDaisy//src/per/adc.h ****     AdcHandle() {}
  93:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
  61              		.loc 5 93 5 is_stmt 1 view .LVU9
  62              		.loc 5 93 5 is_stmt 0 view .LVU10
  63              	.LBE268:
  64              	.LBB269:
  65              	.LBI269:
  66              		.file 6 "../../libDaisy//src/hid/audio.h"
   1:../../libDaisy//src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libDaisy//src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libDaisy//src/hid/audio.h **** 
   4:../../libDaisy//src/hid/audio.h **** #include "per/sai.h"
   5:../../libDaisy//src/hid/audio.h **** 
   6:../../libDaisy//src/hid/audio.h **** namespace daisy
   7:../../libDaisy//src/hid/audio.h **** {
   8:../../libDaisy//src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../../libDaisy//src/hid/audio.h ****  *  @ingroup audio 
  10:../../libDaisy//src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../../libDaisy//src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../../libDaisy//src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../../libDaisy//src/hid/audio.h ****  *            is already taken  care of.
  14:../../libDaisy//src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../../libDaisy//src/hid/audio.h ****  *           you will have to take the following steps:
  16:../../libDaisy//src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../../libDaisy//src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../../libDaisy//src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../../libDaisy//src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../../libDaisy//src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../../libDaisy//src/hid/audio.h ****  */
  22:../../libDaisy//src/hid/audio.h **** class AudioHandle
  23:../../libDaisy//src/hid/audio.h **** {
  24:../../libDaisy//src/hid/audio.h ****   public:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 7


  25:../../libDaisy//src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../../libDaisy//src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../../libDaisy//src/hid/audio.h ****     struct Config
  28:../../libDaisy//src/hid/audio.h ****     {
  29:../../libDaisy//src/hid/audio.h ****         /** number of samples to process per callback */
  30:../../libDaisy//src/hid/audio.h ****         size_t blocksize;
  31:../../libDaisy//src/hid/audio.h **** 
  32:../../libDaisy//src/hid/audio.h ****         /**< Sample rate of audio */
  33:../../libDaisy//src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  34:../../libDaisy//src/hid/audio.h **** 
  35:../../libDaisy//src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  36:../../libDaisy//src/hid/audio.h ****         float postgain;
  37:../../libDaisy//src/hid/audio.h **** 
  38:../../libDaisy//src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  39:../../libDaisy//src/hid/audio.h ****          *  have unequal input/output ranges
  40:../../libDaisy//src/hid/audio.h ****          */
  41:../../libDaisy//src/hid/audio.h ****         float output_compensation;
  42:../../libDaisy//src/hid/audio.h **** 
  43:../../libDaisy//src/hid/audio.h ****         /** Sets default values for config struct */
  44:../../libDaisy//src/hid/audio.h ****         Config()
  45:../../libDaisy//src/hid/audio.h ****         : blocksize(48),
  46:../../libDaisy//src/hid/audio.h ****           samplerate(SaiHandle::Config::SampleRate::SAI_48KHZ),
  47:../../libDaisy//src/hid/audio.h ****           postgain(1.f),
  48:../../libDaisy//src/hid/audio.h ****           output_compensation(1.f)
  49:../../libDaisy//src/hid/audio.h ****         {
  50:../../libDaisy//src/hid/audio.h ****         }
  51:../../libDaisy//src/hid/audio.h ****     };
  52:../../libDaisy//src/hid/audio.h **** 
  53:../../libDaisy//src/hid/audio.h ****     enum class Result
  54:../../libDaisy//src/hid/audio.h ****     {
  55:../../libDaisy//src/hid/audio.h ****         OK,
  56:../../libDaisy//src/hid/audio.h ****         ERR,
  57:../../libDaisy//src/hid/audio.h ****     };
  58:../../libDaisy//src/hid/audio.h **** 
  59:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving input buffer
  60:../../libDaisy//src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  61:../../libDaisy//src/hid/audio.h ****      * const so that the user can't modify the input
  62:../../libDaisy//src/hid/audio.h ****      */
  63:../../libDaisy//src/hid/audio.h ****     typedef const float* const* InputBuffer;
  64:../../libDaisy//src/hid/audio.h **** 
  65:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving output buffer
  66:../../libDaisy//src/hid/audio.h ****      * Arranged by float[chn][sample] 
  67:../../libDaisy//src/hid/audio.h ****      */
  68:../../libDaisy//src/hid/audio.h ****     typedef float** OutputBuffer;
  69:../../libDaisy//src/hid/audio.h **** 
  70:../../libDaisy//src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  71:../../libDaisy//src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  72:../../libDaisy//src/hid/audio.h ****      */
  73:../../libDaisy//src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  74:../../libDaisy//src/hid/audio.h ****                                   OutputBuffer out,
  75:../../libDaisy//src/hid/audio.h ****                                   size_t       size);
  76:../../libDaisy//src/hid/audio.h **** 
  77:../../libDaisy//src/hid/audio.h ****     /** Interleaving Input buffer
  78:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  79:../../libDaisy//src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  80:../../libDaisy//src/hid/audio.h ****     */
  81:../../libDaisy//src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 8


  82:../../libDaisy//src/hid/audio.h **** 
  83:../../libDaisy//src/hid/audio.h ****     /** Interleaving Output buffer 
  84:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  85:../../libDaisy//src/hid/audio.h ****     */
  86:../../libDaisy//src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  87:../../libDaisy//src/hid/audio.h **** 
  88:../../libDaisy//src/hid/audio.h ****     /** Interleaving Audio Callback 
  89:../../libDaisy//src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  90:../../libDaisy//src/hid/audio.h ****      */
  91:../../libDaisy//src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  92:../../libDaisy//src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  93:../../libDaisy//src/hid/audio.h ****                                               size_t                   size);
  94:../../libDaisy//src/hid/audio.h **** 
  95:../../libDaisy//src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  96:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
  67              		.loc 6 96 5 is_stmt 1 view .LVU11
  68              		.loc 6 96 5 is_stmt 0 view .LVU12
  69              	.LBE269:
  70              	.LBB270:
  71              	.LBI270:
  72              		.file 7 "../../libDaisy//src/sys/system.h"
   1:../../libDaisy//src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libDaisy//src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libDaisy//src/sys/system.h **** 
   4:../../libDaisy//src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libDaisy//src/sys/system.h **** 
   6:../../libDaisy//src/sys/system.h **** #include <cstdint>
   7:../../libDaisy//src/sys/system.h **** #include "per/tim.h"
   8:../../libDaisy//src/sys/system.h **** 
   9:../../libDaisy//src/sys/system.h **** namespace daisy
  10:../../libDaisy//src/sys/system.h **** {
  11:../../libDaisy//src/sys/system.h **** /** A handle for interacting with the Core System. 
  12:../../libDaisy//src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libDaisy//src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libDaisy//src/sys/system.h ****  **
  15:../../libDaisy//src/sys/system.h ****  ** @author shensley
  16:../../libDaisy//src/sys/system.h ****  ** @ingroup system
  17:../../libDaisy//src/sys/system.h ****  */
  18:../../libDaisy//src/sys/system.h **** class System
  19:../../libDaisy//src/sys/system.h **** {
  20:../../libDaisy//src/sys/system.h ****   public:
  21:../../libDaisy//src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libDaisy//src/sys/system.h ****     struct Config
  23:../../libDaisy//src/sys/system.h ****     {
  24:../../libDaisy//src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libDaisy//src/sys/system.h ****         enum class SysClkFreq
  26:../../libDaisy//src/sys/system.h ****         {
  27:../../libDaisy//src/sys/system.h ****             FREQ_400MHZ,
  28:../../libDaisy//src/sys/system.h ****             FREQ_480MHZ,
  29:../../libDaisy//src/sys/system.h ****         };
  30:../../libDaisy//src/sys/system.h **** 
  31:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libDaisy//src/sys/system.h ****          ** Cache Enabled 
  34:../../libDaisy//src/sys/system.h ****          ** */
  35:../../libDaisy//src/sys/system.h ****         void Defaults()
  36:../../libDaisy//src/sys/system.h ****         {
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 9


  37:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  39:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  40:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  41:../../libDaisy//src/sys/system.h ****         }
  42:../../libDaisy//src/sys/system.h **** 
  43:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../../libDaisy//src/sys/system.h ****          ** Cache Enabled 
  46:../../libDaisy//src/sys/system.h ****          ** */
  47:../../libDaisy//src/sys/system.h ****         void Boost()
  48:../../libDaisy//src/sys/system.h ****         {
  49:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  51:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  52:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  53:../../libDaisy//src/sys/system.h ****         }
  54:../../libDaisy//src/sys/system.h **** 
  55:../../libDaisy//src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../../libDaisy//src/sys/system.h ****         bool       use_dcache;
  57:../../libDaisy//src/sys/system.h ****         bool       use_icache;
  58:../../libDaisy//src/sys/system.h ****         bool       skip_clocks;
  59:../../libDaisy//src/sys/system.h ****     };
  60:../../libDaisy//src/sys/system.h **** 
  61:../../libDaisy//src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy
  62:../../libDaisy//src/sys/system.h ****      * 
  63:../../libDaisy//src/sys/system.h ****      */
  64:../../libDaisy//src/sys/system.h ****     enum MemoryRegion
  65:../../libDaisy//src/sys/system.h ****     {
  66:../../libDaisy//src/sys/system.h ****         INTERNAL_FLASH = 0,
  67:../../libDaisy//src/sys/system.h ****         ITCMRAM,
  68:../../libDaisy//src/sys/system.h ****         DTCMRAM,
  69:../../libDaisy//src/sys/system.h ****         SRAM_D1,
  70:../../libDaisy//src/sys/system.h ****         SRAM_D2,
  71:../../libDaisy//src/sys/system.h ****         SRAM_D3,
  72:../../libDaisy//src/sys/system.h ****         SDRAM,
  73:../../libDaisy//src/sys/system.h ****         QSPI,
  74:../../libDaisy//src/sys/system.h ****         INVALID_ADDRESS,
  75:../../libDaisy//src/sys/system.h ****     };
  76:../../libDaisy//src/sys/system.h **** 
  77:../../libDaisy//src/sys/system.h ****     System() {}
  78:../../libDaisy//src/sys/system.h ****     ~System() {}
  73              		.loc 7 78 5 is_stmt 1 view .LVU13
  74              		.loc 7 78 5 is_stmt 0 view .LVU14
  75              	.LBE270:
  76              		.loc 1 65 26 view .LVU15
  77 0000 7047     		bx	lr
  78              		.cfi_endproc
  79              	.LFE2528:
  81              		.weak	_ZN5daisy8patch_sm12DaisyPatchSMD1Ev
  82              		.thumb_set _ZN5daisy8patch_sm12DaisyPatchSMD1Ev,_ZN5daisy8patch_sm12DaisyPatchSMD2Ev
  83 0002 00BF     		.section	.text._ZN7daisysp12PitchShifterD2Ev,"axG",%progbits,_ZN7daisysp12PitchShifterD5Ev,comdat
  84              		.align	1
  85              		.p2align 2,,3
  86              		.weak	_ZN7daisysp12PitchShifterD2Ev
  87              		.syntax unified
  88              		.thumb
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 10


  89              		.thumb_func
  90              		.fpu fpv5-d16
  92              	_ZN7daisysp12PitchShifterD2Ev:
  93              	.LVL1:
  94              	.LFB4447:
  95              		.file 8 "../../DaisySP//Source/Effects/pitchshifter.h"
   1:../../DaisySP//Source/Effects/pitchshifter.h **** #pragma once
   2:../../DaisySP//Source/Effects/pitchshifter.h **** #ifndef DSY_PITCHSHIFTER_H
   3:../../DaisySP//Source/Effects/pitchshifter.h **** #define DSY_PITCHSHIFTER_H
   4:../../DaisySP//Source/Effects/pitchshifter.h **** #include <stdint.h>
   5:../../DaisySP//Source/Effects/pitchshifter.h **** #include <cmath>
   6:../../DaisySP//Source/Effects/pitchshifter.h **** #ifdef USE_ARM_DSP
   7:../../DaisySP//Source/Effects/pitchshifter.h **** #include "arm_math.h"
   8:../../DaisySP//Source/Effects/pitchshifter.h **** #endif
   9:../../DaisySP//Source/Effects/pitchshifter.h **** #include "Utility/dsp.h"
  10:../../DaisySP//Source/Effects/pitchshifter.h **** #include "Utility/delayline.h"
  11:../../DaisySP//Source/Effects/pitchshifter.h **** #include "Control/phasor.h"
  12:../../DaisySP//Source/Effects/pitchshifter.h **** 
  13:../../DaisySP//Source/Effects/pitchshifter.h **** /** Shift can be 30-100 ms lets just start with 50 for now.
  14:../../DaisySP//Source/Effects/pitchshifter.h **** 0.050 * SR = 2400 samples (at 48kHz)
  15:../../DaisySP//Source/Effects/pitchshifter.h **** */
  16:../../DaisySP//Source/Effects/pitchshifter.h **** #define SHIFT_BUFFER_SIZE 16384
  17:../../DaisySP//Source/Effects/pitchshifter.h **** //#define SHIFT_BUFFER_SIZE 4800
  18:../../DaisySP//Source/Effects/pitchshifter.h **** //#define SHIFT_BUFFER_SIZE 8192
  19:../../DaisySP//Source/Effects/pitchshifter.h **** //#define SHIFT_BUFFER_SIZE 1024
  20:../../DaisySP//Source/Effects/pitchshifter.h **** 
  21:../../DaisySP//Source/Effects/pitchshifter.h **** namespace daisysp
  22:../../DaisySP//Source/Effects/pitchshifter.h **** {
  23:../../DaisySP//Source/Effects/pitchshifter.h **** static inline uint32_t hash_xs32(uint32_t x)
  24:../../DaisySP//Source/Effects/pitchshifter.h **** {
  25:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x << 13;
  26:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x >> 17;
  27:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x << 5;
  28:../../DaisySP//Source/Effects/pitchshifter.h ****     return x;
  29:../../DaisySP//Source/Effects/pitchshifter.h **** }
  30:../../DaisySP//Source/Effects/pitchshifter.h **** 
  31:../../DaisySP//Source/Effects/pitchshifter.h **** inline uint32_t myrand()
  32:../../DaisySP//Source/Effects/pitchshifter.h **** {
  33:../../DaisySP//Source/Effects/pitchshifter.h ****     static uint32_t seed = 1;
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     seed                 = hash_xs32(seed);
  35:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
  36:../../DaisySP//Source/Effects/pitchshifter.h **** }
  37:../../DaisySP//Source/Effects/pitchshifter.h **** 
  38:../../DaisySP//Source/Effects/pitchshifter.h **** /**  time-domain pitchshifter
  39:../../DaisySP//Source/Effects/pitchshifter.h **** 
  40:../../DaisySP//Source/Effects/pitchshifter.h **** Author: shensley
  41:../../DaisySP//Source/Effects/pitchshifter.h **** 
  42:../../DaisySP//Source/Effects/pitchshifter.h **** Based on "Pitch Shifting" from ucsd.edu 
  43:../../DaisySP//Source/Effects/pitchshifter.h **** 
  44:../../DaisySP//Source/Effects/pitchshifter.h **** t = 1 - ((s *f) / R)
  45:../../DaisySP//Source/Effects/pitchshifter.h **** 
  46:../../DaisySP//Source/Effects/pitchshifter.h **** where:
  47:../../DaisySP//Source/Effects/pitchshifter.h ****     s is the size of the delay
  48:../../DaisySP//Source/Effects/pitchshifter.h ****     f is the frequency of the lfo
  49:../../DaisySP//Source/Effects/pitchshifter.h ****     r is the sample_rate
  50:../../DaisySP//Source/Effects/pitchshifter.h **** 
  51:../../DaisySP//Source/Effects/pitchshifter.h **** solving for t = 12.0
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 11


  52:../../DaisySP//Source/Effects/pitchshifter.h **** f = (12 - 1) * 48000 / SHIFT_BUFFER_SIZE;
  53:../../DaisySP//Source/Effects/pitchshifter.h **** 
  54:../../DaisySP//Source/Effects/pitchshifter.h **** \todo - move hash_xs32 and myrand to dsp.h and give appropriate names
  55:../../DaisySP//Source/Effects/pitchshifter.h **** */
  56:../../DaisySP//Source/Effects/pitchshifter.h **** class PitchShifter
  57:../../DaisySP//Source/Effects/pitchshifter.h **** {
  58:../../DaisySP//Source/Effects/pitchshifter.h ****   public:
  59:../../DaisySP//Source/Effects/pitchshifter.h ****     PitchShifter() {}
  60:../../DaisySP//Source/Effects/pitchshifter.h ****     ~PitchShifter() {}
  96              		.loc 8 60 5 is_stmt 1 view -0
  97              		.cfi_startproc
  98              		@ args = 0, pretend = 0, frame = 0
  99              		@ frame_needed = 0, uses_anonymous_args = 0
 100              		@ link register save eliminated.
 101              		.loc 8 60 22 is_stmt 0 view .LVU17
 102 0000 7047     		bx	lr
 103              		.cfi_endproc
 104              	.LFE4447:
 106              		.weak	_ZN7daisysp12PitchShifterD1Ev
 107              		.thumb_set _ZN7daisysp12PitchShifterD1Ev,_ZN7daisysp12PitchShifterD2Ev
 108              		.section	.text._ZN7daisysp12PitchShifter7ProcessERf,"axG",%progbits,_ZN7daisysp12PitchShifter7Proc
 109              		.align	1
 110              		.p2align 2,,3
 111              		.weak	_ZN7daisysp12PitchShifter7ProcessERf
 112              		.syntax unified
 113              		.thumb
 114              		.thumb_func
 115              		.fpu fpv5-d16
 117              	_ZN7daisysp12PitchShifter7ProcessERf:
 118              	.LVL2:
 119              	.LFB4450:
  61:../../DaisySP//Source/Effects/pitchshifter.h ****     /** Initialize pitch shifter
  62:../../DaisySP//Source/Effects/pitchshifter.h ****     */
  63:../../DaisySP//Source/Effects/pitchshifter.h ****     void Init(float sr)
  64:../../DaisySP//Source/Effects/pitchshifter.h ****     {
  65:../../DaisySP//Source/Effects/pitchshifter.h ****         force_recalc_ = false;
  66:../../DaisySP//Source/Effects/pitchshifter.h ****         sr_           = sr;
  67:../../DaisySP//Source/Effects/pitchshifter.h ****         mod_freq_     = 5.0f;
  68:../../DaisySP//Source/Effects/pitchshifter.h ****         SetSemitones();
  69:../../DaisySP//Source/Effects/pitchshifter.h ****         for(uint8_t i = 0; i < 2; i++)
  70:../../DaisySP//Source/Effects/pitchshifter.h ****         {
  71:../../DaisySP//Source/Effects/pitchshifter.h ****             gain_[i] = 0.0f;
  72:../../DaisySP//Source/Effects/pitchshifter.h ****             d_[i].Init();
  73:../../DaisySP//Source/Effects/pitchshifter.h ****             phs_[i].Init(sr, 50, i == 0 ? 0 : PI_F);
  74:../../DaisySP//Source/Effects/pitchshifter.h ****         }
  75:../../DaisySP//Source/Effects/pitchshifter.h ****         shift_up_ = true;
  76:../../DaisySP//Source/Effects/pitchshifter.h ****         del_size_ = SHIFT_BUFFER_SIZE;
  77:../../DaisySP//Source/Effects/pitchshifter.h ****         SetDelSize(del_size_);
  78:../../DaisySP//Source/Effects/pitchshifter.h ****         fun_ = 0.0f;
  79:../../DaisySP//Source/Effects/pitchshifter.h ****     }
  80:../../DaisySP//Source/Effects/pitchshifter.h **** 
  81:../../DaisySP//Source/Effects/pitchshifter.h ****     /** process pitch shifter
  82:../../DaisySP//Source/Effects/pitchshifter.h ****     */
  83:../../DaisySP//Source/Effects/pitchshifter.h ****     float Process(float &in)
 120              		.loc 8 83 11 is_stmt 1 view -0
 121              		.cfi_startproc
 122              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 12


 123              		@ frame_needed = 0, uses_anonymous_args = 0
  84:../../DaisySP//Source/Effects/pitchshifter.h ****     {
  85:../../DaisySP//Source/Effects/pitchshifter.h ****         float val, fade1, fade2;
 124              		.loc 8 85 9 view .LVU19
  86:../../DaisySP//Source/Effects/pitchshifter.h ****         // First Process delay mod/crossfade
  87:../../DaisySP//Source/Effects/pitchshifter.h ****         fade1 = phs_[0].Process();
 125              		.loc 8 87 9 view .LVU20
  83:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 126              		.loc 8 83 11 is_stmt 0 view .LVU21
 127 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 128              		.cfi_def_cfa_offset 24
 129              		.cfi_offset 3, -24
 130              		.cfi_offset 4, -20
 131              		.cfi_offset 5, -16
 132              		.cfi_offset 6, -12
 133              		.cfi_offset 7, -8
 134              		.cfi_offset 14, -4
 135 0002 0546     		mov	r5, r0
 136              		.loc 8 87 32 view .LVU22
 137 0004 A748     		ldr	r0, .L14
 138              	.LVL3:
  83:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 139              		.loc 8 83 11 view .LVU23
 140 0006 0E46     		mov	r6, r1
 141              		.loc 8 87 32 view .LVU24
 142 0008 2844     		add	r0, r0, r5
  88:../../DaisySP//Source/Effects/pitchshifter.h ****         fade2 = phs_[1].Process();
  89:../../DaisySP//Source/Effects/pitchshifter.h ****         if(prev_phs_a_ > fade1)
 143              		.loc 8 89 12 view .LVU25
 144 000a 05F50034 		add	r4, r5, #131072
  83:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 145              		.loc 8 83 11 view .LVU26
 146 000e 2DED088B 		vpush.64	{d8, d9, d10, d11}
 147              		.cfi_def_cfa_offset 56
 148              		.cfi_offset 80, -56
 149              		.cfi_offset 81, -52
 150              		.cfi_offset 82, -48
 151              		.cfi_offset 83, -44
 152              		.cfi_offset 84, -40
 153              		.cfi_offset 85, -36
 154              		.cfi_offset 86, -32
 155              		.cfi_offset 87, -28
  87:../../DaisySP//Source/Effects/pitchshifter.h ****         fade2 = phs_[1].Process();
 156              		.loc 8 87 32 view .LVU27
 157 0012 FFF7FEFF 		bl	_ZN7daisysp6Phasor7ProcessEv
 158              	.LVL4:
  88:../../DaisySP//Source/Effects/pitchshifter.h ****         fade2 = phs_[1].Process();
 159              		.loc 8 88 32 view .LVU28
 160 0016 A448     		ldr	r0, .L14+4
  87:../../DaisySP//Source/Effects/pitchshifter.h ****         fade2 = phs_[1].Process();
 161              		.loc 8 87 32 view .LVU29
 162 0018 F0EE409A 		vmov.f32	s19, s0
 163              	.LVL5:
  88:../../DaisySP//Source/Effects/pitchshifter.h ****         fade2 = phs_[1].Process();
 164              		.loc 8 88 9 is_stmt 1 view .LVU30
  88:../../DaisySP//Source/Effects/pitchshifter.h ****         fade2 = phs_[1].Process();
 165              		.loc 8 88 32 is_stmt 0 view .LVU31
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 13


 166 001c 2844     		add	r0, r0, r5
 167 001e FFF7FEFF 		bl	_ZN7daisysp6Phasor7ProcessEv
 168              	.LVL6:
 169              		.loc 8 89 9 view .LVU32
 170 0022 D4ED1C7A 		vldr.32	s15, [r4, #112]
  88:../../DaisySP//Source/Effects/pitchshifter.h ****         fade2 = phs_[1].Process();
 171              		.loc 8 88 32 view .LVU33
 172 0026 F0EE40AA 		vmov.f32	s21, s0
 173              	.LVL7:
 174              		.loc 8 89 9 is_stmt 1 view .LVU34
 175 002a F4EEE97A 		vcmpe.f32	s15, s19
 176 002e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 177 0032 00F3F580 		bgt	.L5
  90:../../DaisySP//Source/Effects/pitchshifter.h ****         {
  91:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_a_amt_ = fun_ * ((float)(myrand() % 255) / 255.0f)
  92:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 178              		.loc 8 92 29 is_stmt 0 view .LVU35
 179 0036 236A     		ldr	r3, [r4, #32]
  93:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_coeff_[0]
  94:../../DaisySP//Source/Effects/pitchshifter.h ****                 = 0.0002f + (((float)(myrand() % 255) / 255.0f) * 0.001f);
  95:../../DaisySP//Source/Effects/pitchshifter.h ****         }
  96:../../DaisySP//Source/Effects/pitchshifter.h ****         if(prev_phs_b_ > fade2)
  97:../../DaisySP//Source/Effects/pitchshifter.h ****         {
  98:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_b_amt_ = fun_ * ((float)(myrand() % 255) / 255.0f)
  99:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 100:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_coeff_[1]
 101:../../DaisySP//Source/Effects/pitchshifter.h ****                 = 0.0002f + (((float)(myrand() % 255) / 255.0f) * 0.001f);
 102:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 103:../../DaisySP//Source/Effects/pitchshifter.h ****         slewed_mod_[0] += mod_coeff_[0] * (mod_a_amt_ - slewed_mod_[0]);
 180              		.loc 8 103 39 view .LVU36
 181 0038 D4ED205A 		vldr.32	s11, [r4, #128]
 182              		.loc 8 103 44 view .LVU37
 183 003c 94ED1A7A 		vldr.32	s14, [r4, #104]
 184              	.L6:
  96:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 185              		.loc 8 96 9 is_stmt 1 view .LVU38
 186 0040 D4ED1D7A 		vldr.32	s15, [r4, #116]
 187 0044 F4EEEA7A 		vcmpe.f32	s15, s21
 188 0048 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 189 004c 00F3A580 		bgt	.L7
 104:../../DaisySP//Source/Effects/pitchshifter.h ****         slewed_mod_[1] += mod_coeff_[1] * (mod_b_amt_ - slewed_mod_[1]);
 190              		.loc 8 104 39 is_stmt 0 view .LVU39
 191 0050 D4ED216A 		vldr.32	s13, [r4, #132]
 192              		.loc 8 104 44 view .LVU40
 193 0054 D4ED1B7A 		vldr.32	s15, [r4, #108]
 194              	.L8:
 103:../../DaisySP//Source/Effects/pitchshifter.h ****         slewed_mod_[1] += mod_coeff_[1] * (mod_b_amt_ - slewed_mod_[1]);
 195              		.loc 8 103 9 is_stmt 1 view .LVU41
 103:../../DaisySP//Source/Effects/pitchshifter.h ****         slewed_mod_[1] += mod_coeff_[1] * (mod_b_amt_ - slewed_mod_[1]);
 196              		.loc 8 103 24 is_stmt 0 view .LVU42
 197 0058 D4ED1E8A 		vldr.32	s17, [r4, #120]
 198              		.loc 8 104 24 view .LVU43
 199 005c 94ED1F8A 		vldr.32	s16, [r4, #124]
 103:../../DaisySP//Source/Effects/pitchshifter.h ****         slewed_mod_[1] += mod_coeff_[1] * (mod_b_amt_ - slewed_mod_[1]);
 200              		.loc 8 103 55 view .LVU44
 201 0060 37EE687A 		vsub.f32	s14, s14, s17
 105:../../DaisySP//Source/Effects/pitchshifter.h ****         prev_phs_a_ = fade1;
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 14


 106:../../DaisySP//Source/Effects/pitchshifter.h ****         prev_phs_b_ = fade2;
 107:../../DaisySP//Source/Effects/pitchshifter.h ****         if(shift_up_)
 202              		.loc 8 107 9 view .LVU45
 203 0064 94F82C20 		ldrb	r2, [r4, #44]	@ zero_extendqisi2
 104:../../DaisySP//Source/Effects/pitchshifter.h ****         prev_phs_a_ = fade1;
 204              		.loc 8 104 55 view .LVU46
 205 0068 77EEC87A 		vsub.f32	s15, s15, s16
 105:../../DaisySP//Source/Effects/pitchshifter.h ****         prev_phs_a_ = fade1;
 206              		.loc 8 105 21 view .LVU47
 207 006c C4ED1C9A 		vstr.32	s19, [r4, #112]
 106:../../DaisySP//Source/Effects/pitchshifter.h ****         if(shift_up_)
 208              		.loc 8 106 21 view .LVU48
 209 0070 C4ED1DAA 		vstr.32	s21, [r4, #116]
 103:../../DaisySP//Source/Effects/pitchshifter.h ****         slewed_mod_[1] += mod_coeff_[1] * (mod_b_amt_ - slewed_mod_[1]);
 210              		.loc 8 103 24 view .LVU49
 211 0074 E7EE258A 		vfma.f32	s17, s14, s11
 104:../../DaisySP//Source/Effects/pitchshifter.h ****         prev_phs_a_ = fade1;
 212              		.loc 8 104 24 view .LVU50
 213 0078 A7EEA68A 		vfma.f32	s16, s15, s13
 103:../../DaisySP//Source/Effects/pitchshifter.h ****         slewed_mod_[1] += mod_coeff_[1] * (mod_b_amt_ - slewed_mod_[1]);
 214              		.loc 8 103 24 view .LVU51
 215 007c C4ED1E8A 		vstr.32	s17, [r4, #120]
 104:../../DaisySP//Source/Effects/pitchshifter.h ****         prev_phs_a_ = fade1;
 216              		.loc 8 104 9 is_stmt 1 view .LVU52
 104:../../DaisySP//Source/Effects/pitchshifter.h ****         prev_phs_a_ = fade1;
 217              		.loc 8 104 24 is_stmt 0 view .LVU53
 218 0080 84ED1F8A 		vstr.32	s16, [r4, #124]
 105:../../DaisySP//Source/Effects/pitchshifter.h ****         prev_phs_b_ = fade2;
 219              		.loc 8 105 9 is_stmt 1 view .LVU54
 106:../../DaisySP//Source/Effects/pitchshifter.h ****         if(shift_up_)
 220              		.loc 8 106 9 view .LVU55
 221              		.loc 8 107 9 view .LVU56
 222 0084 2AB1     		cbz	r2, .L9
 108:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 109:../../DaisySP//Source/Effects/pitchshifter.h ****             fade1 = 1.0f - fade1;
 223              		.loc 8 109 13 view .LVU57
 224              		.loc 8 109 19 is_stmt 0 view .LVU58
 225 0086 F7EE007A 		vmov.f32	s15, #1.0e+0
 226 008a 77EEE99A 		vsub.f32	s19, s15, s19
 227              	.LVL8:
 110:../../DaisySP//Source/Effects/pitchshifter.h ****             fade2 = 1.0f - fade2;
 228              		.loc 8 110 13 is_stmt 1 view .LVU59
 229              		.loc 8 110 19 is_stmt 0 view .LVU60
 230 008e 77EEEAAA 		vsub.f32	s21, s15, s21
 231              	.LVL9:
 232              	.L9:
 111:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 112:../../DaisySP//Source/Effects/pitchshifter.h ****         mod_[0] = fade1 * (del_size_ - 1);
 233              		.loc 8 112 9 is_stmt 1 view .LVU61
 234              		.loc 8 112 38 is_stmt 0 view .LVU62
 235 0092 013B     		subs	r3, r3, #1
 113:../../DaisySP//Source/Effects/pitchshifter.h ****         mod_[1] = fade2 * (del_size_ - 1);
 114:../../DaisySP//Source/Effects/pitchshifter.h **** #ifdef USE_ARM_DSP
 115:../../DaisySP//Source/Effects/pitchshifter.h ****         gain_[0] = arm_sin_f32(fade1 * (float)M_PI);
 116:../../DaisySP//Source/Effects/pitchshifter.h ****         gain_[1] = arm_sin_f32(fade2 * (float)M_PI);
 117:../../DaisySP//Source/Effects/pitchshifter.h **** #else
 118:../../DaisySP//Source/Effects/pitchshifter.h ****         gain_[0] = sinf(fade1 * PI_F);
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 15


 236              		.loc 8 118 24 view .LVU63
 237 0094 9FED85BA 		vldr.32	s22, .L14+8
 112:../../DaisySP//Source/Effects/pitchshifter.h ****         mod_[1] = fade2 * (del_size_ - 1);
 238              		.loc 8 112 38 view .LVU64
 239 0098 09EE103A 		vmov	s18, r3	@ int
 240              		.loc 8 118 24 view .LVU65
 241 009c 29EE8B0A 		vmul.f32	s0, s19, s22
 112:../../DaisySP//Source/Effects/pitchshifter.h ****         mod_[1] = fade2 * (del_size_ - 1);
 242              		.loc 8 112 25 view .LVU66
 243 00a0 B8EE499A 		vcvt.f32.u32	s18, s18
 244 00a4 69EE299A 		vmul.f32	s19, s18, s19
 245              	.LVL10:
 113:../../DaisySP//Source/Effects/pitchshifter.h ****         mod_[1] = fade2 * (del_size_ - 1);
 246              		.loc 8 113 25 view .LVU67
 247 00a8 29EE2A9A 		vmul.f32	s18, s18, s21
 112:../../DaisySP//Source/Effects/pitchshifter.h ****         mod_[1] = fade2 * (del_size_ - 1);
 248              		.loc 8 112 17 view .LVU68
 249 00ac C4ED169A 		vstr.32	s19, [r4, #88]
 113:../../DaisySP//Source/Effects/pitchshifter.h ****         mod_[1] = fade2 * (del_size_ - 1);
 250              		.loc 8 113 9 is_stmt 1 view .LVU69
 119:../../DaisySP//Source/Effects/pitchshifter.h ****         gain_[1] = sinf(fade2 * PI_F);
 120:../../DaisySP//Source/Effects/pitchshifter.h **** #endif
 121:../../DaisySP//Source/Effects/pitchshifter.h **** 
 122:../../DaisySP//Source/Effects/pitchshifter.h ****         // Handle Delay Writing
 123:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[0].Write(in);
 124:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[1].Write(in);
 125:../../DaisySP//Source/Effects/pitchshifter.h ****         // Modulate Delay Lines
 126:../../DaisySP//Source/Effects/pitchshifter.h ****         //mod_a_amt = mod_b_amt = 0.0f;
 127:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[0].SetDelay(mod_[0] + mod_a_amt_);
 128:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[1].SetDelay(mod_[1] + mod_b_amt_);
 129:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[0].SetDelay(mod_[0] + slewed_mod_[0]);
 251              		.loc 8 129 23 is_stmt 0 view .LVU70
 252 00b0 78EEA98A 		vadd.f32	s17, s17, s19
 113:../../DaisySP//Source/Effects/pitchshifter.h **** #ifdef USE_ARM_DSP
 253              		.loc 8 113 17 view .LVU71
 254 00b4 84ED179A 		vstr.32	s18, [r4, #92]
 118:../../DaisySP//Source/Effects/pitchshifter.h ****         gain_[1] = sinf(fade2 * PI_F);
 255              		.loc 8 118 9 is_stmt 1 view .LVU72
 130:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[1].SetDelay(mod_[1] + slewed_mod_[1]);
 256              		.loc 8 130 23 is_stmt 0 view .LVU73
 257 00b8 38EE098A 		vadd.f32	s16, s16, s18
 118:../../DaisySP//Source/Effects/pitchshifter.h ****         gain_[1] = sinf(fade2 * PI_F);
 258              		.loc 8 118 24 view .LVU74
 259 00bc FFF7FEFF 		bl	sinf
 260              	.LVL11:
 261 00c0 B0EE40AA 		vmov.f32	s20, s0
 119:../../DaisySP//Source/Effects/pitchshifter.h **** #endif
 262              		.loc 8 119 24 view .LVU75
 263 00c4 2AEE8B0A 		vmul.f32	s0, s21, s22
 118:../../DaisySP//Source/Effects/pitchshifter.h ****         gain_[1] = sinf(fade2 * PI_F);
 264              		.loc 8 118 18 view .LVU76
 265 00c8 84ED14AA 		vstr.32	s20, [r4, #80]
 119:../../DaisySP//Source/Effects/pitchshifter.h **** #endif
 266              		.loc 8 119 9 is_stmt 1 view .LVU77
 119:../../DaisySP//Source/Effects/pitchshifter.h **** #endif
 267              		.loc 8 119 24 is_stmt 0 view .LVU78
 268 00cc FFF7FEFF 		bl	sinf
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 16


 269              	.LVL12:
 270              	.LBB299:
 271              	.LBB300:
 272              		.file 9 "../../DaisySP//Source/Utility/delayline.h"
   1:../../DaisySP//Source/Utility/delayline.h **** #pragma once
   2:../../DaisySP//Source/Utility/delayline.h **** #ifndef DSY_DELAY_H
   3:../../DaisySP//Source/Utility/delayline.h **** #define DSY_DELAY_H
   4:../../DaisySP//Source/Utility/delayline.h **** #include <stdlib.h>
   5:../../DaisySP//Source/Utility/delayline.h **** #include <stdint.h>
   6:../../DaisySP//Source/Utility/delayline.h **** namespace daisysp
   7:../../DaisySP//Source/Utility/delayline.h **** {
   8:../../DaisySP//Source/Utility/delayline.h **** /** Simple Delay line.
   9:../../DaisySP//Source/Utility/delayline.h **** November 2019
  10:../../DaisySP//Source/Utility/delayline.h **** 
  11:../../DaisySP//Source/Utility/delayline.h **** Converted to Template December 2019
  12:../../DaisySP//Source/Utility/delayline.h **** 
  13:../../DaisySP//Source/Utility/delayline.h **** declaration example: (1 second of floats)
  14:../../DaisySP//Source/Utility/delayline.h **** 
  15:../../DaisySP//Source/Utility/delayline.h **** DelayLine<float, SAMPLE_RATE> del;
  16:../../DaisySP//Source/Utility/delayline.h **** 
  17:../../DaisySP//Source/Utility/delayline.h **** By: shensley
  18:../../DaisySP//Source/Utility/delayline.h **** */
  19:../../DaisySP//Source/Utility/delayline.h **** template <typename T, size_t max_size>
  20:../../DaisySP//Source/Utility/delayline.h **** class DelayLine
  21:../../DaisySP//Source/Utility/delayline.h **** {
  22:../../DaisySP//Source/Utility/delayline.h ****   public:
  23:../../DaisySP//Source/Utility/delayline.h ****     DelayLine() {}
  24:../../DaisySP//Source/Utility/delayline.h ****     ~DelayLine() {}
  25:../../DaisySP//Source/Utility/delayline.h ****     /** initializes the delay line by clearing the values within, and setting delay to 1 sample.
  26:../../DaisySP//Source/Utility/delayline.h ****     */
  27:../../DaisySP//Source/Utility/delayline.h ****     void Init() { Reset(); }
  28:../../DaisySP//Source/Utility/delayline.h ****     /** clears buffer, sets write ptr to 0, and delay to 1 sample.
  29:../../DaisySP//Source/Utility/delayline.h ****     */
  30:../../DaisySP//Source/Utility/delayline.h ****     void Reset()
  31:../../DaisySP//Source/Utility/delayline.h ****     {
  32:../../DaisySP//Source/Utility/delayline.h ****         for(size_t i = 0; i < max_size; i++)
  33:../../DaisySP//Source/Utility/delayline.h ****         {
  34:../../DaisySP//Source/Utility/delayline.h ****             line_[i] = T(0);
  35:../../DaisySP//Source/Utility/delayline.h ****         }
  36:../../DaisySP//Source/Utility/delayline.h ****         write_ptr_ = 0;
  37:../../DaisySP//Source/Utility/delayline.h ****         delay_     = 1;
  38:../../DaisySP//Source/Utility/delayline.h ****     }
  39:../../DaisySP//Source/Utility/delayline.h **** 
  40:../../DaisySP//Source/Utility/delayline.h ****     /** sets the delay time in samples
  41:../../DaisySP//Source/Utility/delayline.h ****         If a float is passed in, a fractional component will be calculated for interpolating the de
  42:../../DaisySP//Source/Utility/delayline.h ****     */
  43:../../DaisySP//Source/Utility/delayline.h ****     inline void SetDelay(size_t delay)
  44:../../DaisySP//Source/Utility/delayline.h ****     {
  45:../../DaisySP//Source/Utility/delayline.h ****         frac_  = 0.0f;
  46:../../DaisySP//Source/Utility/delayline.h ****         delay_ = delay < max_size ? delay : max_size - 1;
  47:../../DaisySP//Source/Utility/delayline.h ****     }
  48:../../DaisySP//Source/Utility/delayline.h **** 
  49:../../DaisySP//Source/Utility/delayline.h ****     /** sets the delay time in samples
  50:../../DaisySP//Source/Utility/delayline.h ****         If a float is passed in, a fractional component will be calculated for interpolating the de
  51:../../DaisySP//Source/Utility/delayline.h ****     */
  52:../../DaisySP//Source/Utility/delayline.h ****     inline void SetDelay(float delay)
  53:../../DaisySP//Source/Utility/delayline.h ****     {
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 17


  54:../../DaisySP//Source/Utility/delayline.h ****         int32_t int_delay = static_cast<int32_t>(delay);
 273              		.loc 9 54 17 view .LVU79
 274 00d0 BDEEE87A 		vcvt.s32.f32	s14, s17
 275              	.LBE300:
 276              	.LBE299:
 277              	.LBB306:
 278              	.LBB307:
  55:../../DaisySP//Source/Utility/delayline.h ****         frac_             = delay - static_cast<float>(int_delay);
  56:../../DaisySP//Source/Utility/delayline.h ****         delay_ = static_cast<size_t>(int_delay) < max_size ? int_delay
  57:../../DaisySP//Source/Utility/delayline.h ****                                                            : max_size - 1;
  58:../../DaisySP//Source/Utility/delayline.h ****     }
  59:../../DaisySP//Source/Utility/delayline.h **** 
  60:../../DaisySP//Source/Utility/delayline.h ****     /** writes the sample of type T to the delay line, and advances the write ptr
  61:../../DaisySP//Source/Utility/delayline.h ****     */
  62:../../DaisySP//Source/Utility/delayline.h ****     inline void Write(const T sample)
  63:../../DaisySP//Source/Utility/delayline.h ****     {
  64:../../DaisySP//Source/Utility/delayline.h ****         line_[write_ptr_] = sample;
 279              		.loc 9 64 15 view .LVU80
 280 00d4 6A68     		ldr	r2, [r5, #4]
  65:../../DaisySP//Source/Utility/delayline.h ****         write_ptr_        = (write_ptr_ - 1 + max_size) % max_size;
 281              		.loc 9 65 45 view .LVU81
 282 00d6 43F6FF73 		movw	r3, #16383
 283              	.LBE307:
 284              	.LBE306:
 285              	.LBB312:
 286              	.LBB313:
  54:../../DaisySP//Source/Utility/delayline.h ****         frac_             = delay - static_cast<float>(int_delay);
 287              		.loc 9 54 17 view .LVU82
 288 00da FDEEC87A 		vcvt.s32.f32	s15, s16
 289              	.LBE313:
 290              	.LBE312:
 119:../../DaisySP//Source/Effects/pitchshifter.h **** #endif
 291              		.loc 8 119 18 view .LVU83
 292 00de 84ED150A 		vstr.32	s0, [r4, #84]
 123:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[1].Write(in);
 293              		.loc 8 123 9 is_stmt 1 view .LVU84
 294              	.LBB321:
 295              	.LBB308:
  64:../../DaisySP//Source/Utility/delayline.h ****         write_ptr_        = (write_ptr_ - 1 + max_size) % max_size;
 296              		.loc 9 64 27 is_stmt 0 view .LVU85
 297 00e2 05EB8201 		add	r1, r5, r2, lsl #2
 298              	.LBE308:
 299              	.LBE321:
 123:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[1].Write(in);
 300              		.loc 8 123 20 view .LVU86
 301 00e6 D6F800C0 		ldr	ip, [r6]	@ float
 302              	.LVL13:
 303              	.LBB322:
 304              	.LBI306:
  62:../../DaisySP//Source/Utility/delayline.h ****     {
 305              		.loc 9 62 17 is_stmt 1 view .LVU87
 306              	.LBE322:
 307              	.LBB323:
 308              	.LBB301:
  56:../../DaisySP//Source/Utility/delayline.h ****                                                            : max_size - 1;
 309              		.loc 9 56 60 is_stmt 0 view .LVU88
 310 00ea 17EE104A 		vmov	r4, s14	@ int
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 18


 311              	.LBE301:
 312              	.LBE323:
 313              	.LBB324:
 314              	.LBB309:
 315              		.loc 9 65 45 view .LVU89
 316 00ee 1A44     		add	r2, r2, r3
  64:../../DaisySP//Source/Utility/delayline.h ****         write_ptr_        = (write_ptr_ - 1 + max_size) % max_size;
 317              		.loc 9 64 27 view .LVU90
 318 00f0 C1F80CC0 		str	ip, [r1, #12]	@ float
 319              	.LBE309:
 320              	.LBE324:
 321              	.LBB325:
 322              	.LBB314:
  56:../../DaisySP//Source/Utility/delayline.h ****                                                            : max_size - 1;
 323              		.loc 9 56 60 view .LVU91
 324 00f4 17EE900A 		vmov	r0, s15	@ int
 325              	.LBE314:
 326              	.LBE325:
 327              	.LBB326:
 328              	.LBB327:
  64:../../DaisySP//Source/Utility/delayline.h ****         write_ptr_        = (write_ptr_ - 1 + max_size) % max_size;
 329              		.loc 9 64 15 view .LVU92
 330 00f8 05F58031 		add	r1, r5, #65536
 331              	.LBE327:
 332              	.LBE326:
 333              	.LBB332:
 334              	.LBB302:
  56:../../DaisySP//Source/Utility/delayline.h ****                                                            : max_size - 1;
 335              		.loc 9 56 60 view .LVU93
 336 00fc 9C42     		cmp	r4, r3
 337              	.LBE302:
 338              	.LBE332:
 339              	.LBB333:
 340              	.LBB310:
 341              		.loc 9 65 57 view .LVU94
 342 00fe C2F30D02 		ubfx	r2, r2, #0, #14
 343              	.LBE310:
 344              	.LBE333:
 345              	.LBB334:
 346              	.LBB303:
  55:../../DaisySP//Source/Utility/delayline.h ****         delay_ = static_cast<size_t>(int_delay) < max_size ? int_delay
 347              		.loc 9 55 37 view .LVU95
 348 0102 F8EEC75A 		vcvt.f32.s32	s11, s14
  56:../../DaisySP//Source/Utility/delayline.h ****                                                            : max_size - 1;
 349              		.loc 9 56 60 view .LVU96
 350 0106 28BF     		it	cs
 351 0108 1C46     		movcs	r4, r3
 352              	.LBE303:
 353              	.LBE334:
 354              	.LBB335:
 355              	.LBB315:
 356 010a 9842     		cmp	r0, r3
 357              	.LBE315:
 358              	.LBE335:
 359              	.LBB336:
 360              	.LBB311:
 361              		.loc 9 65 27 view .LVU97
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 19


 362 010c 6A60     		str	r2, [r5, #4]
 363              	.LVL14:
 364              		.loc 9 65 27 view .LVU98
 365              	.LBE311:
 366              	.LBE336:
 124:../../DaisySP//Source/Effects/pitchshifter.h ****         // Modulate Delay Lines
 367              		.loc 8 124 9 is_stmt 1 view .LVU99
 368              	.LBB337:
 369              	.LBI326:
  62:../../DaisySP//Source/Utility/delayline.h ****     {
 370              		.loc 9 62 17 view .LVU100
 371              	.LBE337:
 372              	.LBB338:
 373              	.LBB316:
  55:../../DaisySP//Source/Utility/delayline.h ****         delay_ = static_cast<size_t>(int_delay) < max_size ? int_delay
 374              		.loc 9 55 37 is_stmt 0 view .LVU101
 375 010e B8EEE76A 		vcvt.f32.s32	s12, s15
 376              	.LBE316:
 377              	.LBE338:
 378              	.LBB339:
 379              	.LBB328:
  64:../../DaisySP//Source/Utility/delayline.h ****         write_ptr_        = (write_ptr_ - 1 + max_size) % max_size;
 380              		.loc 9 64 15 view .LVU102
 381 0112 0E69     		ldr	r6, [r1, #16]
 382              	.LVL15:
  64:../../DaisySP//Source/Utility/delayline.h ****         write_ptr_        = (write_ptr_ - 1 + max_size) % max_size;
 383              		.loc 9 64 15 view .LVU103
 384              	.LBE328:
 385              	.LBE339:
 386              	.LBB340:
 387              	.LBB317:
  56:../../DaisySP//Source/Utility/delayline.h ****                                                            : max_size - 1;
 388              		.loc 9 56 60 view .LVU104
 389 0114 28BF     		it	cs
 390 0116 1846     		movcs	r0, r3
 391              	.LBE317:
 392              	.LBE340:
 393              	.LBB341:
 394              	.LBB304:
  55:../../DaisySP//Source/Utility/delayline.h ****         delay_ = static_cast<size_t>(int_delay) < max_size ? int_delay
 395              		.loc 9 55 35 view .LVU105
 396 0118 78EEE58A 		vsub.f32	s17, s17, s11
 397              	.LBE304:
 398              	.LBE341:
 399              	.LBB342:
 400              	.LBB343:
  66:../../DaisySP//Source/Utility/delayline.h ****     }
  67:../../DaisySP//Source/Utility/delayline.h **** 
  68:../../DaisySP//Source/Utility/delayline.h ****     /** returns the next sample of type T in the delay line, interpolated if necessary.
  69:../../DaisySP//Source/Utility/delayline.h ****     */
  70:../../DaisySP//Source/Utility/delayline.h ****     inline const T Read() const
  71:../../DaisySP//Source/Utility/delayline.h ****     {
  72:../../DaisySP//Source/Utility/delayline.h ****         T a = line_[(write_ptr_ + delay_) % max_size];
 401              		.loc 9 72 33 view .LVU106
 402 011c 2244     		add	r2, r2, r4
 403              	.LBE343:
 404              	.LBE342:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 20


 405              	.LBB350:
 406              	.LBB329:
  65:../../DaisySP//Source/Utility/delayline.h ****     }
 407              		.loc 9 65 45 view .LVU107
 408 011e 3344     		add	r3, r3, r6
  64:../../DaisySP//Source/Utility/delayline.h ****         write_ptr_        = (write_ptr_ - 1 + max_size) % max_size;
 409              		.loc 9 64 27 view .LVU108
 410 0120 01EB8606 		add	r6, r1, r6, lsl #2
 411              	.LBE329:
 412              	.LBE350:
 413              	.LBB351:
 414              	.LBB318:
  55:../../DaisySP//Source/Utility/delayline.h ****         delay_ = static_cast<size_t>(int_delay) < max_size ? int_delay
 415              		.loc 9 55 35 view .LVU109
 416 0124 38EE468A 		vsub.f32	s16, s16, s12
 417              	.LBE318:
 418              	.LBE351:
 419              	.LBB352:
 420              	.LBB330:
  65:../../DaisySP//Source/Utility/delayline.h ****     }
 421              		.loc 9 65 57 view .LVU110
 422 0128 C3F30D03 		ubfx	r3, r3, #0, #14
  64:../../DaisySP//Source/Utility/delayline.h ****         write_ptr_        = (write_ptr_ - 1 + max_size) % max_size;
 423              		.loc 9 64 27 view .LVU111
 424 012c C6F818C0 		str	ip, [r6, #24]	@ float
 425              	.LBE330:
 426              	.LBE352:
 119:../../DaisySP//Source/Effects/pitchshifter.h **** #endif
 427              		.loc 8 119 24 view .LVU112
 428 0130 F0EE406A 		vmov.f32	s13, s0
 131:../../DaisySP//Source/Effects/pitchshifter.h ****         val = 0.0f;
 132:../../DaisySP//Source/Effects/pitchshifter.h ****         val += (d_[0].Read() * gain_[0]);
 429              		.loc 8 132 13 view .LVU113
 430 0134 9FED5E0A 		vldr.32	s0, .L14+12
 431              	.LBB353:
 432              	.LBB331:
  65:../../DaisySP//Source/Utility/delayline.h ****     }
 433              		.loc 9 65 27 view .LVU114
 434 0138 0B61     		str	r3, [r1, #16]
 435              	.LVL16:
  65:../../DaisySP//Source/Utility/delayline.h ****     }
 436              		.loc 9 65 27 view .LVU115
 437              	.LBE331:
 438              	.LBE353:
 127:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[1].SetDelay(mod_[1] + mod_b_amt_);
 439              		.loc 8 127 9 is_stmt 1 view .LVU116
 128:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[0].SetDelay(mod_[0] + slewed_mod_[0]);
 440              		.loc 8 128 9 view .LVU117
 129:../../DaisySP//Source/Effects/pitchshifter.h ****         d_[1].SetDelay(mod_[1] + slewed_mod_[1]);
 441              		.loc 8 129 9 view .LVU118
 442              	.LBB354:
 443              	.LBI299:
  52:../../DaisySP//Source/Utility/delayline.h ****     {
 444              		.loc 9 52 17 view .LVU119
  52:../../DaisySP//Source/Utility/delayline.h ****     {
 445              		.loc 9 52 17 is_stmt 0 view .LVU120
 446              	.LBE354:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 21


 447              	.LBB355:
 448              	.LBB356:
 449              		.loc 9 72 33 view .LVU121
 450 013a 0344     		add	r3, r3, r0
 451              	.LBE356:
 452              	.LBE355:
 453              	.LBB362:
 454              	.LBB305:
  55:../../DaisySP//Source/Utility/delayline.h ****         delay_ = static_cast<size_t>(int_delay) < max_size ? int_delay
 455              		.loc 9 55 27 view .LVU122
 456 013c C5ED008A 		vstr.32	s17, [r5]
  56:../../DaisySP//Source/Utility/delayline.h ****                                                            : max_size - 1;
 457              		.loc 9 56 16 view .LVU123
 458 0140 AC60     		str	r4, [r5, #8]
 459              	.LVL17:
  56:../../DaisySP//Source/Utility/delayline.h ****                                                            : max_size - 1;
 460              		.loc 9 56 16 view .LVU124
 461              	.LBE305:
 462              	.LBE362:
 130:../../DaisySP//Source/Effects/pitchshifter.h ****         val = 0.0f;
 463              		.loc 8 130 9 is_stmt 1 view .LVU125
 464              	.LBB363:
 465              	.LBI312:
  52:../../DaisySP//Source/Utility/delayline.h ****     {
 466              		.loc 9 52 17 view .LVU126
 467              	.LBB319:
  56:../../DaisySP//Source/Utility/delayline.h ****                                                            : max_size - 1;
 468              		.loc 9 56 16 is_stmt 0 view .LVU127
 469 0142 4861     		str	r0, [r1, #20]
 470              	.LVL18:
  56:../../DaisySP//Source/Utility/delayline.h ****                                                            : max_size - 1;
 471              		.loc 9 56 16 view .LVU128
 472              	.LBE319:
 473              	.LBE363:
 131:../../DaisySP//Source/Effects/pitchshifter.h ****         val += (d_[0].Read() * gain_[0]);
 474              		.loc 8 131 9 is_stmt 1 view .LVU129
 475              		.loc 8 132 9 view .LVU130
 476              	.LBB364:
 477              	.LBI342:
  70:../../DaisySP//Source/Utility/delayline.h ****     {
 478              		.loc 9 70 20 view .LVU131
 479              	.LBB344:
 480              		.loc 9 72 43 is_stmt 0 view .LVU132
 481 0144 C2F30D00 		ubfx	r0, r2, #0, #14
  73:../../DaisySP//Source/Utility/delayline.h ****         T b = line_[(write_ptr_ + delay_ + 1) % max_size];
 482              		.loc 9 73 42 view .LVU133
 483 0148 0132     		adds	r2, r2, #1
 484              	.LBE344:
 485              	.LBE364:
 486              	.LBB365:
 487              	.LBB320:
  55:../../DaisySP//Source/Utility/delayline.h ****         delay_ = static_cast<size_t>(int_delay) < max_size ? int_delay
 488              		.loc 9 55 27 view .LVU134
 489 014a 81ED038A 		vstr.32	s16, [r1, #12]
 490              	.LBE320:
 491              	.LBE365:
 492              	.LBB366:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 22


 493              	.LBB345:
  72:../../DaisySP//Source/Utility/delayline.h ****         T b = line_[(write_ptr_ + delay_ + 1) % max_size];
 494              		.loc 9 72 11 view .LVU135
 495 014e 05EB8000 		add	r0, r5, r0, lsl #2
 496              		.loc 9 73 47 view .LVU136
 497 0152 C2F30D02 		ubfx	r2, r2, #0, #14
  72:../../DaisySP//Source/Utility/delayline.h ****         T b = line_[(write_ptr_ + delay_ + 1) % max_size];
 498              		.loc 9 72 11 view .LVU137
 499 0156 90ED037A 		vldr.32	s14, [r0, #12]
 500              	.LVL19:
  72:../../DaisySP//Source/Utility/delayline.h ****         T b = line_[(write_ptr_ + delay_ + 1) % max_size];
 501              		.loc 9 72 11 view .LVU138
 502              	.LBE345:
 503              	.LBE366:
 504              	.LBB367:
 505              	.LBB357:
 506              		.loc 9 73 42 view .LVU139
 507 015a 581C     		adds	r0, r3, #1
 508              	.LBE357:
 509              	.LBE367:
 510              	.LBB368:
 511              	.LBB346:
 512              		.loc 9 73 11 view .LVU140
 513 015c 05EB8202 		add	r2, r5, r2, lsl #2
 514              	.LBE346:
 515              	.LBE368:
 516              	.LBB369:
 517              	.LBB358:
  72:../../DaisySP//Source/Utility/delayline.h ****         T b = line_[(write_ptr_ + delay_ + 1) % max_size];
 518              		.loc 9 72 43 view .LVU141
 519 0160 C3F30D03 		ubfx	r3, r3, #0, #14
 520              	.LBE358:
 521              	.LBE369:
 522              	.LBB370:
 523              	.LBB347:
  74:../../DaisySP//Source/Utility/delayline.h ****         return a + (b - a) * frac_;
 524              		.loc 9 74 23 view .LVU142
 525 0164 92ED036A 		vldr.32	s12, [r2, #12]
 526              	.LBE347:
 527              	.LBE370:
 528              	.LBB371:
 529              	.LBB359:
  73:../../DaisySP//Source/Utility/delayline.h ****         return a + (b - a) * frac_;
 530              		.loc 9 73 47 view .LVU143
 531 0168 C0F30D02 		ubfx	r2, r0, #0, #14
  72:../../DaisySP//Source/Utility/delayline.h ****         T b = line_[(write_ptr_ + delay_ + 1) % max_size];
 532              		.loc 9 72 11 view .LVU144
 533 016c 01EB8303 		add	r3, r1, r3, lsl #2
 534              	.LBE359:
 535              	.LBE371:
 536              	.LBB372:
 537              	.LBB348:
 538              		.loc 9 74 23 view .LVU145
 539 0170 36EE476A 		vsub.f32	s12, s12, s14
 540              	.LBE348:
 541              	.LBE372:
 542              	.LBB373:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 23


 543              	.LBB360:
  73:../../DaisySP//Source/Utility/delayline.h ****         return a + (b - a) * frac_;
 544              		.loc 9 73 11 view .LVU146
 545 0174 01EB8202 		add	r2, r1, r2, lsl #2
  72:../../DaisySP//Source/Utility/delayline.h ****         T b = line_[(write_ptr_ + delay_ + 1) % max_size];
 546              		.loc 9 72 11 view .LVU147
 547 0178 D3ED067A 		vldr.32	s15, [r3, #24]
 548              	.LBE360:
 549              	.LBE373:
 550              	.LBB374:
 551              	.LBB349:
 552              		.loc 9 74 30 view .LVU148
 553 017c A8EE867A 		vfma.f32	s14, s17, s12
 554              	.LVL20:
 555              		.loc 9 74 30 view .LVU149
 556              	.LBE349:
 557              	.LBE374:
 558              	.LBB375:
 559              	.LBB361:
 560              		.loc 9 74 23 view .LVU150
 561 0180 92ED066A 		vldr.32	s12, [r2, #24]
 562 0184 36EE676A 		vsub.f32	s12, s12, s15
 563              		.loc 9 74 30 view .LVU151
 564 0188 E8EE067A 		vfma.f32	s15, s16, s12
 565              	.LBE361:
 566              	.LBE375:
 567              		.loc 8 132 13 view .LVU152
 568 018c AAEE070A 		vfma.f32	s0, s20, s14
 569              	.LVL21:
 133:../../DaisySP//Source/Effects/pitchshifter.h ****         val += (d_[1].Read() * gain_[1]);
 570              		.loc 8 133 9 is_stmt 1 view .LVU153
 571              	.LBB376:
 572              	.LBI355:
  70:../../DaisySP//Source/Utility/delayline.h ****     {
 573              		.loc 9 70 20 view .LVU154
  70:../../DaisySP//Source/Utility/delayline.h ****     {
 574              		.loc 9 70 20 is_stmt 0 view .LVU155
 575              	.LBE376:
 134:../../DaisySP//Source/Effects/pitchshifter.h ****         return val;
 576              		.loc 8 134 9 is_stmt 1 view .LVU156
 135:../../DaisySP//Source/Effects/pitchshifter.h ****     }
 577              		.loc 8 135 5 is_stmt 0 view .LVU157
 578 0190 BDEC088B 		vldm	sp!, {d8-d11}
 579              		.cfi_remember_state
 580              		.cfi_restore 86
 581              		.cfi_restore 87
 582              		.cfi_restore 84
 583              		.cfi_restore 85
 584              		.cfi_restore 82
 585              		.cfi_restore 83
 586              		.cfi_restore 80
 587              		.cfi_restore 81
 588              		.cfi_def_cfa_offset 24
 589 0194 A6EEA70A 		vfma.f32	s0, s13, s15
 590              	.LVL22:
 591              		.loc 8 135 5 view .LVU158
 592 0198 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 24


 593              	.LVL23:
 594              	.L7:
 595              		.cfi_restore_state
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 596              		.loc 8 98 13 is_stmt 1 view .LVU159
 597              	.LBB377:
 598              	.LBI377:
  31:../../DaisySP//Source/Effects/pitchshifter.h **** {
 599              		.loc 8 31 17 view .LVU160
 600              	.LBB378:
  33:../../DaisySP//Source/Effects/pitchshifter.h ****     seed                 = hash_xs32(seed);
 601              		.loc 8 33 5 view .LVU161
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
 602              		.loc 8 34 5 view .LVU162
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
 603              		.loc 8 34 37 is_stmt 0 view .LVU163
 604 019a 464F     		ldr	r7, .L14+16
 605              	.LBE378:
 606              	.LBE377:
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 607              		.loc 8 98 51 view .LVU164
 608 019c 4649     		ldr	r1, .L14+20
 609              	.LBB391:
 610              	.LBB387:
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
 611              		.loc 8 34 37 view .LVU165
 612 019e 3A68     		ldr	r2, [r7]
 613              	.LVL24:
 614              	.LBB379:
 615              	.LBI379:
  23:../../DaisySP//Source/Effects/pitchshifter.h **** {
 616              		.loc 8 23 24 is_stmt 1 view .LVU166
 617              	.LBB380:
  25:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x >> 17;
 618              		.loc 8 25 5 view .LVU167
 619              	.LBE380:
 620              	.LBE379:
 621              	.LBE387:
 622              	.LBE391:
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 623              		.loc 8 98 58 is_stmt 0 view .LVU168
 624 01a0 9FED465A 		vldr.32	s10, .L14+24
 625              	.LBB392:
 626              	.LBB388:
 627              	.LBB384:
 628              	.LBB381:
  25:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x >> 17;
 629              		.loc 8 25 7 view .LVU169
 630 01a4 82EA4232 		eor	r2, r2, r2, lsl #13
 631              	.LVL25:
  26:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x << 5;
 632              		.loc 8 26 5 is_stmt 1 view .LVU170
 633              	.LBE381:
 634              	.LBE384:
 635              	.LBE388:
 636              	.LBE392:
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 25


 637              		.loc 8 98 31 is_stmt 0 view .LVU171
 638 01a8 D4ED193A 		vldr.32	s7, [r4, #100]
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 639              		.loc 8 101 27 view .LVU172
 640 01ac 9FED446A 		vldr.32	s12, .L14+28
 641              	.LBB393:
 642              	.LBB389:
 643              	.LBB385:
 644              	.LBB382:
  26:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x << 5;
 645              		.loc 8 26 7 view .LVU173
 646 01b0 82EA5242 		eor	r2, r2, r2, lsr #17
 647              	.LVL26:
  27:../../DaisySP//Source/Effects/pitchshifter.h ****     return x;
 648              		.loc 8 27 5 is_stmt 1 view .LVU174
 649              	.LBE382:
 650              	.LBE385:
 651              	.LBE389:
 652              	.LBE393:
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 653              		.loc 8 101 27 is_stmt 0 view .LVU175
 654 01b4 DFED434A 		vldr.32	s9, .L14+32
 655              	.LBB394:
 656              	.LBB390:
 657              	.LBB386:
 658              	.LBB383:
  27:../../DaisySP//Source/Effects/pitchshifter.h ****     return x;
 659              		.loc 8 27 7 view .LVU176
 660 01b8 82EA4212 		eor	r2, r2, r2, lsl #5
 661              	.LVL27:
  28:../../DaisySP//Source/Effects/pitchshifter.h **** }
 662              		.loc 8 28 5 is_stmt 1 view .LVU177
  28:../../DaisySP//Source/Effects/pitchshifter.h **** }
 663              		.loc 8 28 5 is_stmt 0 view .LVU178
 664              	.LBE383:
 665              	.LBE386:
  35:../../DaisySP//Source/Effects/pitchshifter.h **** }
 666              		.loc 8 35 5 is_stmt 1 view .LVU179
 667              	.LBE390:
 668              	.LBE394:
 669              	.LBB395:
 670              	.LBB396:
 671              	.LBB397:
 672              	.LBB398:
  25:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x >> 17;
 673              		.loc 8 25 7 is_stmt 0 view .LVU180
 674 01bc 82EA4230 		eor	r0, r2, r2, lsl #13
  26:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x << 5;
 675              		.loc 8 26 7 view .LVU181
 676 01c0 80EA5040 		eor	r0, r0, r0, lsr #17
  27:../../DaisySP//Source/Effects/pitchshifter.h ****     return x;
 677              		.loc 8 27 7 view .LVU182
 678 01c4 80EA4010 		eor	r0, r0, r0, lsl #5
 679              	.LBE398:
 680              	.LBE397:
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
 681              		.loc 8 34 26 view .LVU183
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 26


 682 01c8 3860     		str	r0, [r7]
 683              	.LBE396:
 684              	.LBE395:
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 685              		.loc 8 98 51 view .LVU184
 686 01ca A1FB027C 		umull	r7, ip, r1, r2
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 687              		.loc 8 101 48 view .LVU185
 688 01ce A1FB0071 		umull	r7, r1, r1, r0
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 689              		.loc 8 98 51 view .LVU186
 690 01d2 4FEADC1C 		lsr	ip, ip, #7
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 691              		.loc 8 101 48 view .LVU187
 692 01d6 C909     		lsrs	r1, r1, #7
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 693              		.loc 8 98 51 view .LVU188
 694 01d8 CCEB0C2C 		rsb	ip, ip, ip, lsl #8
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 695              		.loc 8 101 48 view .LVU189
 696 01dc C1EB0121 		rsb	r1, r1, r1, lsl #8
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 697              		.loc 8 98 51 view .LVU190
 698 01e0 A2EB0C02 		sub	r2, r2, ip
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 699              		.loc 8 101 48 view .LVU191
 700 01e4 411A     		subs	r1, r0, r1
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 701              		.loc 8 98 34 view .LVU192
 702 01e6 07EE902A 		vmov	s15, r2	@ int
 703 01ea F8EEE76A 		vcvt.f32.s32	s13, s15
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 704              		.loc 8 98 58 view .LVU193
 705 01ee C6EE857A 		vdiv.f32	s15, s13, s10
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 706              		.loc 8 101 31 view .LVU194
 707 01f2 06EE901A 		vmov	s13, r1	@ int
 708 01f6 F8EEE66A 		vcvt.f32.s32	s13, s13
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 709              		.loc 8 101 55 view .LVU195
 710 01fa 86EE854A 		vdiv.f32	s8, s13, s10
  99:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_coeff_[1]
 711              		.loc 8 99 26 view .LVU196
 712 01fe 06EE903A 		vmov	s13, r3	@ int
 713 0202 FBEEEF6A 		vcvt.f32.u32	s13, s13, #1
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 714              		.loc 8 98 31 view .LVU197
 715 0206 67EEA37A 		vmul.f32	s15, s15, s7
  99:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_coeff_[1]
 716              		.loc 8 99 26 view .LVU198
 717 020a 67EEA67A 		vmul.f32	s15, s15, s13
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 718              		.loc 8 101 27 view .LVU199
 719 020e F0EE466A 		vmov.f32	s13, s12
  98:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 720              		.loc 8 98 24 view .LVU200
 721 0212 C4ED1B7A 		vstr.32	s15, [r4, #108]
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 27


 100:../../DaisySP//Source/Effects/pitchshifter.h ****                 = 0.0002f + (((float)(myrand() % 255) / 255.0f) * 0.001f);
 722              		.loc 8 100 13 is_stmt 1 view .LVU201
 723              	.LBB402:
 724              	.LBI395:
  31:../../DaisySP//Source/Effects/pitchshifter.h **** {
 725              		.loc 8 31 17 view .LVU202
 726              	.LBB401:
  33:../../DaisySP//Source/Effects/pitchshifter.h ****     seed                 = hash_xs32(seed);
 727              		.loc 8 33 5 view .LVU203
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
 728              		.loc 8 34 5 view .LVU204
 729              	.LVL28:
 730              	.LBB400:
 731              	.LBI397:
  23:../../DaisySP//Source/Effects/pitchshifter.h **** {
 732              		.loc 8 23 24 view .LVU205
 733              	.LBB399:
  25:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x >> 17;
 734              		.loc 8 25 5 view .LVU206
  26:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x << 5;
 735              		.loc 8 26 5 view .LVU207
  27:../../DaisySP//Source/Effects/pitchshifter.h ****     return x;
 736              		.loc 8 27 5 view .LVU208
  28:../../DaisySP//Source/Effects/pitchshifter.h **** }
 737              		.loc 8 28 5 view .LVU209
  28:../../DaisySP//Source/Effects/pitchshifter.h **** }
 738              		.loc 8 28 5 is_stmt 0 view .LVU210
 739              	.LBE399:
 740              	.LBE400:
  35:../../DaisySP//Source/Effects/pitchshifter.h **** }
 741              		.loc 8 35 5 is_stmt 1 view .LVU211
 742              	.LBE401:
 743              	.LBE402:
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 744              		.loc 8 101 27 is_stmt 0 view .LVU212
 745 0216 E4EE246A 		vfma.f32	s13, s8, s9
 101:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 746              		.loc 8 101 17 view .LVU213
 747 021a C4ED216A 		vstr.32	s13, [r4, #132]
 748 021e 1BE7     		b	.L8
 749              	.L5:
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 750              		.loc 8 91 13 is_stmt 1 view .LVU214
 751              	.LBB403:
 752              	.LBI403:
  31:../../DaisySP//Source/Effects/pitchshifter.h **** {
 753              		.loc 8 31 17 view .LVU215
 754              	.LBB404:
  33:../../DaisySP//Source/Effects/pitchshifter.h ****     seed                 = hash_xs32(seed);
 755              		.loc 8 33 5 view .LVU216
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
 756              		.loc 8 34 5 view .LVU217
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
 757              		.loc 8 34 37 is_stmt 0 view .LVU218
 758 0220 244F     		ldr	r7, .L14+16
 759              	.LBE404:
 760              	.LBE403:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 28


  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 761              		.loc 8 91 51 view .LVU219
 762 0222 2548     		ldr	r0, .L14+20
 763              	.LBB417:
 764              	.LBB413:
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
 765              		.loc 8 34 37 view .LVU220
 766 0224 3A68     		ldr	r2, [r7]
 767              	.LVL29:
 768              	.LBB405:
 769              	.LBI405:
  23:../../DaisySP//Source/Effects/pitchshifter.h **** {
 770              		.loc 8 23 24 is_stmt 1 view .LVU221
 771              	.LBB406:
  25:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x >> 17;
 772              		.loc 8 25 5 view .LVU222
 773              	.LBE406:
 774              	.LBE405:
 775              	.LBE413:
 776              	.LBE417:
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 777              		.loc 8 91 58 is_stmt 0 view .LVU223
 778 0226 DFED256A 		vldr.32	s13, .L14+24
 779              	.LBB418:
 780              	.LBB414:
 781              	.LBB410:
 782              	.LBB407:
  25:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x >> 17;
 783              		.loc 8 25 7 view .LVU224
 784 022a 82EA4232 		eor	r2, r2, r2, lsl #13
 785              	.LVL30:
  26:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x << 5;
 786              		.loc 8 26 5 is_stmt 1 view .LVU225
 787              	.LBE407:
 788              	.LBE410:
 789              	.LBE414:
 790              	.LBE418:
  92:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_coeff_[0]
 791              		.loc 8 92 29 is_stmt 0 view .LVU226
 792 022e 236A     		ldr	r3, [r4, #32]
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 793              		.loc 8 91 31 view .LVU227
 794 0230 94ED194A 		vldr.32	s8, [r4, #100]
 795              	.LBB419:
 796              	.LBB415:
 797              	.LBB411:
 798              	.LBB408:
  26:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x << 5;
 799              		.loc 8 26 7 view .LVU228
 800 0234 82EA5242 		eor	r2, r2, r2, lsr #17
 801              	.LVL31:
  27:../../DaisySP//Source/Effects/pitchshifter.h ****     return x;
 802              		.loc 8 27 5 is_stmt 1 view .LVU229
 803              	.LBE408:
 804              	.LBE411:
 805              	.LBE415:
 806              	.LBE419:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 29


  94:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 807              		.loc 8 94 27 is_stmt 0 view .LVU230
 808 0238 9FED226A 		vldr.32	s12, .L14+32
 809 023c DFED205A 		vldr.32	s11, .L14+28
  92:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_coeff_[0]
 810              		.loc 8 92 39 view .LVU231
 811 0240 04EE903A 		vmov	s9, r3	@ int
 812              	.LBB420:
 813              	.LBB416:
 814              	.LBB412:
 815              	.LBB409:
  27:../../DaisySP//Source/Effects/pitchshifter.h ****     return x;
 816              		.loc 8 27 7 view .LVU232
 817 0244 82EA4212 		eor	r2, r2, r2, lsl #5
 818              	.LVL32:
  28:../../DaisySP//Source/Effects/pitchshifter.h **** }
 819              		.loc 8 28 5 is_stmt 1 view .LVU233
  28:../../DaisySP//Source/Effects/pitchshifter.h **** }
 820              		.loc 8 28 5 is_stmt 0 view .LVU234
 821              	.LBE409:
 822              	.LBE412:
  35:../../DaisySP//Source/Effects/pitchshifter.h **** }
 823              		.loc 8 35 5 is_stmt 1 view .LVU235
 824              	.LBE416:
 825              	.LBE420:
  92:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_coeff_[0]
 826              		.loc 8 92 39 is_stmt 0 view .LVU236
 827 0248 FBEEEF4A 		vcvt.f32.u32	s9, s9, #1
 828              	.LBB421:
 829              	.LBB422:
 830              	.LBB423:
 831              	.LBB424:
  25:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x >> 17;
 832              		.loc 8 25 7 view .LVU237
 833 024c 82EA4231 		eor	r1, r2, r2, lsl #13
  26:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x << 5;
 834              		.loc 8 26 7 view .LVU238
 835 0250 81EA5141 		eor	r1, r1, r1, lsr #17
  27:../../DaisySP//Source/Effects/pitchshifter.h ****     return x;
 836              		.loc 8 27 7 view .LVU239
 837 0254 81EA4111 		eor	r1, r1, r1, lsl #5
 838              	.LBE424:
 839              	.LBE423:
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
 840              		.loc 8 34 26 view .LVU240
 841 0258 3960     		str	r1, [r7]
 842              	.LBE422:
 843              	.LBE421:
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 844              		.loc 8 91 51 view .LVU241
 845 025a A0FB027C 		umull	r7, ip, r0, r2
  94:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 846              		.loc 8 94 48 view .LVU242
 847 025e A0FB0170 		umull	r7, r0, r0, r1
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 848              		.loc 8 91 51 view .LVU243
 849 0262 4FEADC1C 		lsr	ip, ip, #7
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 30


  94:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 850              		.loc 8 94 48 view .LVU244
 851 0266 C009     		lsrs	r0, r0, #7
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 852              		.loc 8 91 51 view .LVU245
 853 0268 CCEB0C2C 		rsb	ip, ip, ip, lsl #8
  94:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 854              		.loc 8 94 48 view .LVU246
 855 026c C0EB0020 		rsb	r0, r0, r0, lsl #8
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 856              		.loc 8 91 51 view .LVU247
 857 0270 A2EB0C02 		sub	r2, r2, ip
  94:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 858              		.loc 8 94 48 view .LVU248
 859 0274 081A     		subs	r0, r1, r0
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 860              		.loc 8 91 34 view .LVU249
 861 0276 07EE902A 		vmov	s15, r2	@ int
 862 027a F8EEE77A 		vcvt.f32.s32	s15, s15
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 863              		.loc 8 91 58 view .LVU250
 864 027e 87EEA67A 		vdiv.f32	s14, s15, s13
  94:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 865              		.loc 8 94 31 view .LVU251
 866 0282 07EE900A 		vmov	s15, r0	@ int
 867 0286 F8EEE77A 		vcvt.f32.s32	s15, s15
  94:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 868              		.loc 8 94 55 view .LVU252
 869 028a 87EEA65A 		vdiv.f32	s10, s15, s13
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 870              		.loc 8 91 31 view .LVU253
 871 028e 27EE047A 		vmul.f32	s14, s14, s8
  92:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_coeff_[0]
 872              		.loc 8 92 26 view .LVU254
 873 0292 27EE247A 		vmul.f32	s14, s14, s9
  91:../../DaisySP//Source/Effects/pitchshifter.h ****                          * (del_size_ * 0.5f);
 874              		.loc 8 91 24 view .LVU255
 875 0296 84ED1A7A 		vstr.32	s14, [r4, #104]
  93:../../DaisySP//Source/Effects/pitchshifter.h ****                 = 0.0002f + (((float)(myrand() % 255) / 255.0f) * 0.001f);
 876              		.loc 8 93 13 is_stmt 1 view .LVU256
 877              	.LBB428:
 878              	.LBI421:
  31:../../DaisySP//Source/Effects/pitchshifter.h **** {
 879              		.loc 8 31 17 view .LVU257
 880              	.LBB427:
  33:../../DaisySP//Source/Effects/pitchshifter.h ****     seed                 = hash_xs32(seed);
 881              		.loc 8 33 5 view .LVU258
  34:../../DaisySP//Source/Effects/pitchshifter.h ****     return seed;
 882              		.loc 8 34 5 view .LVU259
 883              	.LVL33:
 884              	.LBB426:
 885              	.LBI423:
  23:../../DaisySP//Source/Effects/pitchshifter.h **** {
 886              		.loc 8 23 24 view .LVU260
 887              	.LBB425:
  25:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x >> 17;
 888              		.loc 8 25 5 view .LVU261
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 31


  26:../../DaisySP//Source/Effects/pitchshifter.h ****     x ^= x << 5;
 889              		.loc 8 26 5 view .LVU262
  27:../../DaisySP//Source/Effects/pitchshifter.h ****     return x;
 890              		.loc 8 27 5 view .LVU263
  28:../../DaisySP//Source/Effects/pitchshifter.h **** }
 891              		.loc 8 28 5 view .LVU264
  28:../../DaisySP//Source/Effects/pitchshifter.h **** }
 892              		.loc 8 28 5 is_stmt 0 view .LVU265
 893              	.LBE425:
 894              	.LBE426:
  35:../../DaisySP//Source/Effects/pitchshifter.h **** }
 895              		.loc 8 35 5 is_stmt 1 view .LVU266
 896              	.LBE427:
 897              	.LBE428:
  94:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 898              		.loc 8 94 27 is_stmt 0 view .LVU267
 899 029a E5EE065A 		vfma.f32	s11, s10, s12
  94:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 900              		.loc 8 94 17 view .LVU268
 901 029e C4ED205A 		vstr.32	s11, [r4, #128]
 902 02a2 CDE6     		b	.L6
 903              	.L15:
 904              		.align	2
 905              	.L14:
 906 02a4 30000200 		.word	131120
 907 02a8 40000200 		.word	131136
 908 02ac DB0F4940 		.word	1078530011
 909 02b0 00000000 		.word	0
 910 02b4 00000000 		.word	_ZZN7daisysp6myrandEvE4seed
 911 02b8 81808080 		.word	-2139062143
 912 02bc 00007F43 		.word	1132396544
 913 02c0 17B75139 		.word	961656599
 914 02c4 6F12833A 		.word	981668463
 915              		.cfi_endproc
 916              	.LFE4450:
 918              		.section	.text._Z13AudioCallbackPKPKfPPfj,"ax",%progbits
 919              		.align	1
 920              		.p2align 2,,3
 921              		.global	_Z13AudioCallbackPKPKfPPfj
 922              		.syntax unified
 923              		.thumb
 924              		.thumb_func
 925              		.fpu fpv5-d16
 927              	_Z13AudioCallbackPKPKfPPfj:
 928              	.LVL34:
 929              	.LFB4783:
 930              		.file 10 "Intonate.cpp"
   1:Intonate.cpp  **** #include "daisy_patch_sm.h"
   2:Intonate.cpp  **** #include "daisysp.h"
   3:Intonate.cpp  **** 
   4:Intonate.cpp  **** using namespace daisy;
   5:Intonate.cpp  **** using namespace patch_sm;
   6:Intonate.cpp  **** using namespace daisysp;
   7:Intonate.cpp  **** 
   8:Intonate.cpp  **** DaisyPatchSM 	hw;
   9:Intonate.cpp  **** PitchShifter	ps;
  10:Intonate.cpp  **** 
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 32


  11:Intonate.cpp  **** void AudioCallback(AudioHandle::InputBuffer in, AudioHandle::OutputBuffer out, size_t size)
  12:Intonate.cpp  **** {
 931              		.loc 10 12 1 is_stmt 1 view -0
 932              		.cfi_startproc
 933              		@ args = 0, pretend = 0, frame = 16
 934              		@ frame_needed = 0, uses_anonymous_args = 0
  13:Intonate.cpp  **** 	float shifted, unshifted;
 935              		.loc 10 13 2 view .LVU270
  14:Intonate.cpp  **** 	hw.ProcessAllControls();
 936              		.loc 10 14 2 view .LVU271
 937              	.LBB461:
 938              	.LBI461:
  66:../../libDaisy//src/daisy_patch_sm.h **** 
  67:../../libDaisy//src/daisy_patch_sm.h ****         /** Initializes the memories, and core peripherals for the Daisy Patch SM */
  68:../../libDaisy//src/daisy_patch_sm.h ****         void Init();
  69:../../libDaisy//src/daisy_patch_sm.h **** 
  70:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts a non-interleaving audio callback */
  71:../../libDaisy//src/daisy_patch_sm.h ****         void StartAudio(AudioHandle::AudioCallback cb);
  72:../../libDaisy//src/daisy_patch_sm.h **** 
  73:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts an interleaving audio callback */
  74:../../libDaisy//src/daisy_patch_sm.h ****         void StartAudio(AudioHandle::InterleavingAudioCallback cb);
  75:../../libDaisy//src/daisy_patch_sm.h **** 
  76:../../libDaisy//src/daisy_patch_sm.h ****         /** Changes the callback that is executing.
  77:../../libDaisy//src/daisy_patch_sm.h ****          *  This may cause clicks if done while audio is processing.
  78:../../libDaisy//src/daisy_patch_sm.h ****          */
  79:../../libDaisy//src/daisy_patch_sm.h ****         void ChangeAudioCallback(AudioHandle::AudioCallback cb);
  80:../../libDaisy//src/daisy_patch_sm.h **** 
  81:../../libDaisy//src/daisy_patch_sm.h ****         /** Changes the callback that is executing.
  82:../../libDaisy//src/daisy_patch_sm.h ****          *  This may cause clicks if done while audio is processing.
  83:../../libDaisy//src/daisy_patch_sm.h ****          */
  84:../../libDaisy//src/daisy_patch_sm.h ****         void ChangeAudioCallback(AudioHandle::InterleavingAudioCallback cb);
  85:../../libDaisy//src/daisy_patch_sm.h **** 
  86:../../libDaisy//src/daisy_patch_sm.h ****         /** Stops the transmission of audio. */
  87:../../libDaisy//src/daisy_patch_sm.h ****         void StopAudio();
  88:../../libDaisy//src/daisy_patch_sm.h **** 
  89:../../libDaisy//src/daisy_patch_sm.h ****         /** Sets the number of samples processed in an audio callback. 
  90:../../libDaisy//src/daisy_patch_sm.h ****          *  This will only take effect on the next invocation of `StartAudio`
  91:../../libDaisy//src/daisy_patch_sm.h ****          */
  92:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioBlockSize(size_t size);
  93:../../libDaisy//src/daisy_patch_sm.h **** 
  94:../../libDaisy//src/daisy_patch_sm.h ****         /** Sets the samplerate for the audio engine 
  95:../../libDaisy//src/daisy_patch_sm.h ****          *  This will set it to the closest valid samplerate. Options being:
  96:../../libDaisy//src/daisy_patch_sm.h ****          *  8kHz, 16kHz, 32kHz, 48kHz, and 96kHz
  97:../../libDaisy//src/daisy_patch_sm.h ****          */
  98:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioSampleRate(float sr);
  99:../../libDaisy//src/daisy_patch_sm.h **** 
 100:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioSampleRate(SaiHandle::Config::SampleRate sample_rate);
 101:../../libDaisy//src/daisy_patch_sm.h **** 
 102:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the number of samples processed in an audio callback */
 103:../../libDaisy//src/daisy_patch_sm.h ****         size_t AudioBlockSize();
 104:../../libDaisy//src/daisy_patch_sm.h **** 
 105:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the audio engine's samplerate in Hz */
 106:../../libDaisy//src/daisy_patch_sm.h ****         float AudioSampleRate();
 107:../../libDaisy//src/daisy_patch_sm.h **** 
 108:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the rate at which the audio callback will be called in Hz */
 109:../../libDaisy//src/daisy_patch_sm.h ****         float AudioCallbackRate();
 110:../../libDaisy//src/daisy_patch_sm.h **** 
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 33


 111:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts the Control ADCs 
 112:../../libDaisy//src/daisy_patch_sm.h ****          * 
 113:../../libDaisy//src/daisy_patch_sm.h ****          *  This is started automatically when Init() is called.
 114:../../libDaisy//src/daisy_patch_sm.h ****          */
 115:../../libDaisy//src/daisy_patch_sm.h ****         void StartAdc();
 116:../../libDaisy//src/daisy_patch_sm.h **** 
 117:../../libDaisy//src/daisy_patch_sm.h ****         /** Stops the Control ADCs */
 118:../../libDaisy//src/daisy_patch_sm.h ****         void StopAdc();
 119:../../libDaisy//src/daisy_patch_sm.h **** 
 120:../../libDaisy//src/daisy_patch_sm.h ****         /** Reads and filters all of the analog control inputs */
 121:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessAnalogControls();
 122:../../libDaisy//src/daisy_patch_sm.h **** 
 123:../../libDaisy//src/daisy_patch_sm.h ****         /** Reads and debounces any of the digital control inputs 
 124:../../libDaisy//src/daisy_patch_sm.h ****          *  This does nothing on this board at this time.
 125:../../libDaisy//src/daisy_patch_sm.h ****          */
 126:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessDigitalControls();
 127:../../libDaisy//src/daisy_patch_sm.h **** 
 128:../../libDaisy//src/daisy_patch_sm.h ****         /** Does both of the above */
 129:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessAllControls()
 939              		.loc 1 129 14 view .LVU272
 940              	.LBB462:
 130:../../libDaisy//src/daisy_patch_sm.h ****         {
 131:../../libDaisy//src/daisy_patch_sm.h ****             ProcessAnalogControls();
 941              		.loc 1 131 13 view .LVU273
 942              	.LBE462:
 943              	.LBE461:
  12:Intonate.cpp  **** 	float shifted, unshifted;
 944              		.loc 10 12 1 is_stmt 0 view .LVU274
 945 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 946              		.cfi_def_cfa_offset 24
 947              		.cfi_offset 4, -24
 948              		.cfi_offset 5, -20
 949              		.cfi_offset 6, -16
 950              		.cfi_offset 7, -12
 951              		.cfi_offset 8, -8
 952              		.cfi_offset 14, -4
 953 0004 0646     		mov	r6, r0
 954 0006 84B0     		sub	sp, sp, #16
 955              		.cfi_def_cfa_offset 40
 956              	.LBB465:
 957              	.LBB463:
 958              		.loc 1 131 34 view .LVU275
 959 0008 9C48     		ldr	r0, .L36
 960              	.LVL35:
 961              		.loc 1 131 34 view .LVU276
 962              	.LBE463:
 963              	.LBE465:
  12:Intonate.cpp  **** 	float shifted, unshifted;
 964              		.loc 10 12 1 view .LVU277
 965 000a 0F46     		mov	r7, r1
 966 000c 1546     		mov	r5, r2
 967              	.LBB466:
 968              	.LBB464:
 969              		.loc 1 131 34 view .LVU278
 970 000e FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM21ProcessAnalogControlsEv
 971              	.LVL36:
 132:../../libDaisy//src/daisy_patch_sm.h ****             ProcessDigitalControls();
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 34


 972              		.loc 1 132 13 is_stmt 1 view .LVU279
 973              		.loc 1 132 35 is_stmt 0 view .LVU280
 974 0012 9A48     		ldr	r0, .L36
 975 0014 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM22ProcessDigitalControlsEv
 976              	.LVL37:
 977              		.loc 1 132 35 view .LVU281
 978              	.LBE464:
 979              	.LBE466:
  15:Intonate.cpp  **** 	
  16:Intonate.cpp  **** 	float range = hw.GetAdcValue(CV_1);
 980              		.loc 10 16 2 is_stmt 1 view .LVU282
 981              		.loc 10 16 30 is_stmt 0 view .LVU283
 982 0018 0021     		movs	r1, #0
 983 001a 9848     		ldr	r0, .L36
 984 001c FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 985              	.LVL38:
  17:Intonate.cpp  **** 	float shift = fmap(range, .0f, 12.0f);
 986              		.loc 10 17 2 is_stmt 1 view .LVU284
 987              	.LBB467:
 988              	.LBI467:
 989              		.file 11 "../../DaisySP//Source/Utility/dsp.h"
   1:../../DaisySP//Source/Utility/dsp.h **** /** Helpful defines, functions, and other utilities for use in/with daisysp modules.
   2:../../DaisySP//Source/Utility/dsp.h **** */
   3:../../DaisySP//Source/Utility/dsp.h **** #pragma once
   4:../../DaisySP//Source/Utility/dsp.h **** #ifndef DSY_CORE_DSP
   5:../../DaisySP//Source/Utility/dsp.h **** #define DSY_CORE_DSP
   6:../../DaisySP//Source/Utility/dsp.h **** #include <cassert>
   7:../../DaisySP//Source/Utility/dsp.h **** #include <cstdint>
   8:../../DaisySP//Source/Utility/dsp.h **** #include <random>
   9:../../DaisySP//Source/Utility/dsp.h **** #include <cmath>
  10:../../DaisySP//Source/Utility/dsp.h **** 
  11:../../DaisySP//Source/Utility/dsp.h **** /** PIs
  12:../../DaisySP//Source/Utility/dsp.h **** */
  13:../../DaisySP//Source/Utility/dsp.h **** #define PI_F 3.1415927410125732421875f
  14:../../DaisySP//Source/Utility/dsp.h **** #define TWOPI_F (2.0f * PI_F)
  15:../../DaisySP//Source/Utility/dsp.h **** #define HALFPI_F (PI_F * 0.5f)
  16:../../DaisySP//Source/Utility/dsp.h **** #define DSY_MIN(in, mn) (in < mn ? in : mn)
  17:../../DaisySP//Source/Utility/dsp.h **** #define DSY_MAX(in, mx) (in > mx ? in : mx)
  18:../../DaisySP//Source/Utility/dsp.h **** #define DSY_CLAMP(in, mn, mx) (DSY_MIN(DSY_MAX(in, mn), mx))
  19:../../DaisySP//Source/Utility/dsp.h **** #define DSY_COUNTOF(_arr) (sizeof(_arr) / sizeof(_arr[0]))
  20:../../DaisySP//Source/Utility/dsp.h **** 
  21:../../DaisySP//Source/Utility/dsp.h **** namespace daisysp
  22:../../DaisySP//Source/Utility/dsp.h **** {
  23:../../DaisySP//Source/Utility/dsp.h **** //Avoids division for random floats. e.g. rand() * kRandFrac
  24:../../DaisySP//Source/Utility/dsp.h **** static constexpr float kRandFrac = 1.f / (float)RAND_MAX;
  25:../../DaisySP//Source/Utility/dsp.h **** 
  26:../../DaisySP//Source/Utility/dsp.h **** //Convert from semitones to other units. e.g. 2 ^ (kOneTwelfth * x)
  27:../../DaisySP//Source/Utility/dsp.h **** static constexpr float kOneTwelfth = 1.f / 12.f;
  28:../../DaisySP//Source/Utility/dsp.h **** 
  29:../../DaisySP//Source/Utility/dsp.h **** /** efficient floating point min/max
  30:../../DaisySP//Source/Utility/dsp.h **** c/o stephen mccaul
  31:../../DaisySP//Source/Utility/dsp.h **** */
  32:../../DaisySP//Source/Utility/dsp.h **** inline float fmax(float a, float b)
  33:../../DaisySP//Source/Utility/dsp.h **** {
  34:../../DaisySP//Source/Utility/dsp.h ****     float r;
  35:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
  36:../../DaisySP//Source/Utility/dsp.h ****     asm("vmaxnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 35


  37:../../DaisySP//Source/Utility/dsp.h **** #else
  38:../../DaisySP//Source/Utility/dsp.h ****     r = (a > b) ? a : b;
  39:../../DaisySP//Source/Utility/dsp.h **** #endif // __arm__
  40:../../DaisySP//Source/Utility/dsp.h ****     return r;
  41:../../DaisySP//Source/Utility/dsp.h **** }
  42:../../DaisySP//Source/Utility/dsp.h **** 
  43:../../DaisySP//Source/Utility/dsp.h **** inline float fmin(float a, float b)
  44:../../DaisySP//Source/Utility/dsp.h **** {
  45:../../DaisySP//Source/Utility/dsp.h ****     float r;
  46:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
  47:../../DaisySP//Source/Utility/dsp.h ****     asm("vminnm.f32 %[d], %[n], %[m]" : [d] "=t"(r) : [n] "t"(a), [m] "t"(b) :);
  48:../../DaisySP//Source/Utility/dsp.h **** #else
  49:../../DaisySP//Source/Utility/dsp.h ****     r = (a < b) ? a : b;
  50:../../DaisySP//Source/Utility/dsp.h **** #endif // __arm__
  51:../../DaisySP//Source/Utility/dsp.h ****     return r;
  52:../../DaisySP//Source/Utility/dsp.h **** }
  53:../../DaisySP//Source/Utility/dsp.h **** 
  54:../../DaisySP//Source/Utility/dsp.h **** /** quick fp clamp
  55:../../DaisySP//Source/Utility/dsp.h **** */
  56:../../DaisySP//Source/Utility/dsp.h **** inline float fclamp(float in, float min, float max)
  57:../../DaisySP//Source/Utility/dsp.h **** {
  58:../../DaisySP//Source/Utility/dsp.h ****     return fmin(fmax(in, min), max);
  59:../../DaisySP//Source/Utility/dsp.h **** }
  60:../../DaisySP//Source/Utility/dsp.h **** 
  61:../../DaisySP//Source/Utility/dsp.h **** /** From Musicdsp.org "Fast power and root estimates for 32bit floats)
  62:../../DaisySP//Source/Utility/dsp.h **** Original code by Stefan Stenzel
  63:../../DaisySP//Source/Utility/dsp.h **** These are approximations
  64:../../DaisySP//Source/Utility/dsp.h **** */
  65:../../DaisySP//Source/Utility/dsp.h **** inline float fastpower(float f, int n)
  66:../../DaisySP//Source/Utility/dsp.h **** {
  67:../../DaisySP//Source/Utility/dsp.h ****     long *lp, l;
  68:../../DaisySP//Source/Utility/dsp.h ****     lp = (long *)(&f);
  69:../../DaisySP//Source/Utility/dsp.h ****     l  = *lp;
  70:../../DaisySP//Source/Utility/dsp.h ****     l -= 0x3F800000;
  71:../../DaisySP//Source/Utility/dsp.h ****     l <<= (n - 1);
  72:../../DaisySP//Source/Utility/dsp.h ****     l += 0x3F800000;
  73:../../DaisySP//Source/Utility/dsp.h ****     *lp = l;
  74:../../DaisySP//Source/Utility/dsp.h ****     return f;
  75:../../DaisySP//Source/Utility/dsp.h **** }
  76:../../DaisySP//Source/Utility/dsp.h **** 
  77:../../DaisySP//Source/Utility/dsp.h **** inline float fastroot(float f, int n)
  78:../../DaisySP//Source/Utility/dsp.h **** {
  79:../../DaisySP//Source/Utility/dsp.h ****     long *lp, l;
  80:../../DaisySP//Source/Utility/dsp.h ****     lp = (long *)(&f);
  81:../../DaisySP//Source/Utility/dsp.h ****     l  = *lp;
  82:../../DaisySP//Source/Utility/dsp.h ****     l -= 0x3F800000;
  83:../../DaisySP//Source/Utility/dsp.h ****     l >>= (n = 1);
  84:../../DaisySP//Source/Utility/dsp.h ****     l += 0x3F800000;
  85:../../DaisySP//Source/Utility/dsp.h ****     *lp = l;
  86:../../DaisySP//Source/Utility/dsp.h ****     return f;
  87:../../DaisySP//Source/Utility/dsp.h **** }
  88:../../DaisySP//Source/Utility/dsp.h **** 
  89:../../DaisySP//Source/Utility/dsp.h **** /** From http://openaudio.blogspot.com/2017/02/faster-log10-and-pow.html
  90:../../DaisySP//Source/Utility/dsp.h **** No approximation, pow10f(x) gives a 90% speed increase over powf(10.f, x)
  91:../../DaisySP//Source/Utility/dsp.h **** */
  92:../../DaisySP//Source/Utility/dsp.h **** inline float pow10f(float f)
  93:../../DaisySP//Source/Utility/dsp.h **** {
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 36


  94:../../DaisySP//Source/Utility/dsp.h ****     return expf(2.302585092994046f * f);
  95:../../DaisySP//Source/Utility/dsp.h **** }
  96:../../DaisySP//Source/Utility/dsp.h **** 
  97:../../DaisySP//Source/Utility/dsp.h **** /* Original code for fastlog2f by Dr. Paul Beckmann from the ARM community forum, adapted from the 
  98:../../DaisySP//Source/Utility/dsp.h **** About 25% performance increase over std::log10f
  99:../../DaisySP//Source/Utility/dsp.h **** */
 100:../../DaisySP//Source/Utility/dsp.h **** inline float fastlog2f(float f)
 101:../../DaisySP//Source/Utility/dsp.h **** {
 102:../../DaisySP//Source/Utility/dsp.h ****     float frac;
 103:../../DaisySP//Source/Utility/dsp.h ****     int   exp;
 104:../../DaisySP//Source/Utility/dsp.h ****     frac = frexpf(fabsf(f), &exp);
 105:../../DaisySP//Source/Utility/dsp.h ****     f    = 1.23149591368684f;
 106:../../DaisySP//Source/Utility/dsp.h ****     f *= frac;
 107:../../DaisySP//Source/Utility/dsp.h ****     f += -4.11852516267426f;
 108:../../DaisySP//Source/Utility/dsp.h ****     f *= frac;
 109:../../DaisySP//Source/Utility/dsp.h ****     f += 6.02197014179219f;
 110:../../DaisySP//Source/Utility/dsp.h ****     f *= frac;
 111:../../DaisySP//Source/Utility/dsp.h ****     f += -3.13396450166353f;
 112:../../DaisySP//Source/Utility/dsp.h ****     f += exp;
 113:../../DaisySP//Source/Utility/dsp.h ****     return (f);
 114:../../DaisySP//Source/Utility/dsp.h **** }
 115:../../DaisySP//Source/Utility/dsp.h **** 
 116:../../DaisySP//Source/Utility/dsp.h **** inline float fastlog10f(float f)
 117:../../DaisySP//Source/Utility/dsp.h **** {
 118:../../DaisySP//Source/Utility/dsp.h ****     return fastlog2f(f) * 0.3010299956639812f;
 119:../../DaisySP//Source/Utility/dsp.h **** }
 120:../../DaisySP//Source/Utility/dsp.h **** 
 121:../../DaisySP//Source/Utility/dsp.h **** /** Midi to frequency helper
 122:../../DaisySP//Source/Utility/dsp.h **** */
 123:../../DaisySP//Source/Utility/dsp.h **** inline float mtof(float m)
 124:../../DaisySP//Source/Utility/dsp.h **** {
 125:../../DaisySP//Source/Utility/dsp.h ****     return powf(2, (m - 69.0f) / 12.0f) * 440.0f;
 126:../../DaisySP//Source/Utility/dsp.h **** }
 127:../../DaisySP//Source/Utility/dsp.h **** 
 128:../../DaisySP//Source/Utility/dsp.h **** 
 129:../../DaisySP//Source/Utility/dsp.h **** /** one pole lpf
 130:../../DaisySP//Source/Utility/dsp.h **** out is passed by reference, and must be retained between
 131:../../DaisySP//Source/Utility/dsp.h **** calls to properly filter the signal
 132:../../DaisySP//Source/Utility/dsp.h **** coeff can be calculated:
 133:../../DaisySP//Source/Utility/dsp.h **** coeff = 1.0 / (time * sample_rate) ; where time is in seconds
 134:../../DaisySP//Source/Utility/dsp.h **** */
 135:../../DaisySP//Source/Utility/dsp.h **** inline void fonepole(float &out, float in, float coeff)
 136:../../DaisySP//Source/Utility/dsp.h **** {
 137:../../DaisySP//Source/Utility/dsp.h ****     out += coeff * (in - out);
 138:../../DaisySP//Source/Utility/dsp.h **** }
 139:../../DaisySP//Source/Utility/dsp.h **** 
 140:../../DaisySP//Source/Utility/dsp.h **** /** Curves to use with the fmap function */
 141:../../DaisySP//Source/Utility/dsp.h **** enum class Mapping
 142:../../DaisySP//Source/Utility/dsp.h **** {
 143:../../DaisySP//Source/Utility/dsp.h ****     LINEAR,
 144:../../DaisySP//Source/Utility/dsp.h ****     EXP,
 145:../../DaisySP//Source/Utility/dsp.h ****     LOG,
 146:../../DaisySP//Source/Utility/dsp.h **** };
 147:../../DaisySP//Source/Utility/dsp.h **** 
 148:../../DaisySP//Source/Utility/dsp.h **** /** Maps a float between a specified range, using a specified curve. 
 149:../../DaisySP//Source/Utility/dsp.h ****  * 
 150:../../DaisySP//Source/Utility/dsp.h ****  *  \param in a value between 0 to 1 that will be mapped to the new range.
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 37


 151:../../DaisySP//Source/Utility/dsp.h ****  *  \param min the new minimum value
 152:../../DaisySP//Source/Utility/dsp.h ****  *  \param max the new maxmimum value
 153:../../DaisySP//Source/Utility/dsp.h ****  *  \param curve a Mapping Value to adjust the response curve of the transformation
 154:../../DaisySP//Source/Utility/dsp.h ****  *               defaults to Linear. @see Mapping
 155:../../DaisySP//Source/Utility/dsp.h ****  * 
 156:../../DaisySP//Source/Utility/dsp.h ****  *  When using the log curve min and max, must be greater than zero.
 157:../../DaisySP//Source/Utility/dsp.h ****  * 
 158:../../DaisySP//Source/Utility/dsp.h ****  *  \retval returns the transformed float within the new range.
 159:../../DaisySP//Source/Utility/dsp.h **** */
 160:../../DaisySP//Source/Utility/dsp.h **** inline float
 161:../../DaisySP//Source/Utility/dsp.h **** fmap(float in, float min, float max, Mapping curve = Mapping::LINEAR)
 990              		.loc 11 161 1 view .LVU285
 991              	.LBE467:
 162:../../DaisySP//Source/Utility/dsp.h **** {
 163:../../DaisySP//Source/Utility/dsp.h ****     switch(curve)
 992              		.loc 11 163 5 view .LVU286
 993              	.LBB478:
 994              	.LBB468:
 164:../../DaisySP//Source/Utility/dsp.h ****     {
 165:../../DaisySP//Source/Utility/dsp.h ****         case Mapping::EXP:
 166:../../DaisySP//Source/Utility/dsp.h ****             return fclamp(min + (in * in) * (max - min), min, max);
 167:../../DaisySP//Source/Utility/dsp.h ****         case Mapping::LOG:
 168:../../DaisySP//Source/Utility/dsp.h ****         {
 169:../../DaisySP//Source/Utility/dsp.h ****             const float a = 1.f / log10f(max / min);
 170:../../DaisySP//Source/Utility/dsp.h ****             return fclamp(min * powf(10, in / a), min, max);
 171:../../DaisySP//Source/Utility/dsp.h ****         }
 172:../../DaisySP//Source/Utility/dsp.h ****         case Mapping::LINEAR:
 995              		.loc 11 172 9 view .LVU287
 173:../../DaisySP//Source/Utility/dsp.h ****         default: return fclamp(min + in * (max - min), min, max);
 996              		.loc 11 173 9 view .LVU288
 997              		.loc 11 173 18 view .LVU289
 998              		.loc 11 173 31 is_stmt 0 view .LVU290
 999 0020 DFED977A 		vldr.32	s15, .L36+4
 1000              	.LBE468:
 1001              	.LBE478:
 1002              	.LBB479:
 1003              	.LBB480:
 136:../../DaisySP//Source/Effects/pitchshifter.h **** 
 137:../../DaisySP//Source/Effects/pitchshifter.h ****     /** sets transposition in semitones
 138:../../DaisySP//Source/Effects/pitchshifter.h ****     */
 139:../../DaisySP//Source/Effects/pitchshifter.h ****     void SetTransposition(const float &transpose)
 140:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 141:../../DaisySP//Source/Effects/pitchshifter.h ****         float   ratio;
 142:../../DaisySP//Source/Effects/pitchshifter.h ****         uint8_t idx;
 143:../../DaisySP//Source/Effects/pitchshifter.h ****         if(transpose_ != transpose || force_recalc_)
 1004              		.loc 8 143 12 view .LVU291
 1005 0024 974C     		ldr	r4, .L36+8
 1006              	.LBE480:
 1007              	.LBE479:
 1008              	.LBB484:
 1009              	.LBB475:
 1010              		.loc 11 173 31 view .LVU292
 1011 0026 F2EE086A 		vmov.f32	s13, #1.2e+1
 1012 002a B0EE677A 		vmov.f32	s14, s15
 1013              	.LBE475:
 1014              	.LBE484:
 1015              	.LBB485:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 38


 1016              	.LBB481:
 1017              		.loc 8 143 9 view .LVU293
 1018 002e 94ED186A 		vldr.32	s12, [r4, #96]
 1019              	.LBE481:
 1020              	.LBE485:
 1021              	.LBB486:
 1022              	.LBB476:
 1023              		.loc 11 173 31 view .LVU294
 1024 0032 A0EE267A 		vfma.f32	s14, s0, s13
 1025              	.LVL39:
 1026              	.LBB469:
 1027              	.LBI469:
  56:../../DaisySP//Source/Utility/dsp.h **** {
 1028              		.loc 11 56 14 is_stmt 1 view .LVU295
 1029              	.LBE469:
 1030              	.LBE476:
 1031              	.LBE486:
  58:../../DaisySP//Source/Utility/dsp.h **** }
 1032              		.loc 11 58 5 view .LVU296
 1033              	.LBB487:
 1034              	.LBB477:
 1035              	.LBB474:
 1036              	.LBB470:
 1037              	.LBI470:
  32:../../DaisySP//Source/Utility/dsp.h **** {
 1038              		.loc 11 32 14 view .LVU297
 1039              	.LBB471:
  34:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 1040              		.loc 11 34 5 view .LVU298
  36:../../DaisySP//Source/Utility/dsp.h **** #else
 1041              		.loc 11 36 5 view .LVU299
 1042              		.syntax unified
 1043              	@ 36 "../../DaisySP//Source/Utility/dsp.h" 1
 1044 0036 C7FE277A 		vmaxnm.f32 s15, s14, s15
 1045              	@ 0 "" 2
 1046              	.LVL40:
  40:../../DaisySP//Source/Utility/dsp.h **** }
 1047              		.loc 11 40 5 view .LVU300
  40:../../DaisySP//Source/Utility/dsp.h **** }
 1048              		.loc 11 40 5 is_stmt 0 view .LVU301
 1049              		.thumb
 1050              		.syntax unified
 1051              	.LBE471:
 1052              	.LBE470:
 1053              	.LBB472:
 1054              	.LBI472:
  43:../../DaisySP//Source/Utility/dsp.h **** {
 1055              		.loc 11 43 14 is_stmt 1 view .LVU302
 1056              	.LBB473:
  45:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 1057              		.loc 11 45 5 view .LVU303
  47:../../DaisySP//Source/Utility/dsp.h **** #else
 1058              		.loc 11 47 5 view .LVU304
 1059              		.syntax unified
 1060              	@ 47 "../../DaisySP//Source/Utility/dsp.h" 1
 1061 003a C7FEE67A 		vminnm.f32 s15, s15, s13
 1062              	@ 0 "" 2
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 39


 1063              	.LVL41:
  51:../../DaisySP//Source/Utility/dsp.h **** }
 1064              		.loc 11 51 5 view .LVU305
  51:../../DaisySP//Source/Utility/dsp.h **** }
 1065              		.loc 11 51 5 is_stmt 0 view .LVU306
 1066              		.thumb
 1067              		.syntax unified
 1068              	.LBE473:
 1069              	.LBE472:
 1070              	.LBE474:
 1071              	.LBE477:
 1072              	.LBE487:
  18:Intonate.cpp  **** 
  19:Intonate.cpp  **** 	ps.SetTransposition(shift);
 1073              		.loc 10 19 2 is_stmt 1 view .LVU307
 1074              	.LBB488:
 1075              	.LBI479:
 139:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 1076              		.loc 8 139 10 view .LVU308
 1077              	.LBB482:
 141:../../DaisySP//Source/Effects/pitchshifter.h ****         uint8_t idx;
 1078              		.loc 8 141 9 view .LVU309
 142:../../DaisySP//Source/Effects/pitchshifter.h ****         if(transpose_ != transpose || force_recalc_)
 1079              		.loc 8 142 9 view .LVU310
 1080              		.loc 8 143 9 view .LVU311
 1081 003e F4EE467A 		vcmp.f32	s15, s12
 1082 0042 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1083 0046 04D1     		bne	.L17
 1084              		.loc 8 143 36 is_stmt 0 view .LVU312
 1085 0048 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 1086 004c 002B     		cmp	r3, #0
 1087 004e 00F00D81 		beq	.L35
 1088              	.L17:
 144:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 145:../../DaisySP//Source/Effects/pitchshifter.h ****             transpose_ = transpose;
 1089              		.loc 8 145 13 is_stmt 1 view .LVU313
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             idx        = (uint8_t)fabsf(transpose);
 1090              		.loc 8 146 40 is_stmt 0 view .LVU314
 1091 0052 F0EEE76A 		vabs.f32	s13, s15
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 1092              		.loc 8 147 47 view .LVU315
 1093 0056 8C4A     		ldr	r2, .L36+12
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1094              		.loc 8 148 49 view .LVU316
 1095 0058 B2EE085A 		vmov.f32	s10, #1.2e+1
 145:../../DaisySP//Source/Effects/pitchshifter.h ****             idx        = (uint8_t)fabsf(transpose);
 1096              		.loc 8 145 24 view .LVU317
 1097 005c DFF83882 		ldr	r8, .L36+28
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1098              		.loc 8 149 13 view .LVU318
 1099 0060 F5EEC07A 		vcmpe.f32	s15, #0
 145:../../DaisySP//Source/Effects/pitchshifter.h ****             idx        = (uint8_t)fabsf(transpose);
 1100              		.loc 8 145 24 view .LVU319
 1101 0064 C4ED187A 		vstr.32	s15, [r4, #96]
 150:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 151:../../DaisySP//Source/Effects/pitchshifter.h ****                 shift_up_ = true;
 152:../../DaisySP//Source/Effects/pitchshifter.h ****             }
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 40


 153:../../DaisySP//Source/Effects/pitchshifter.h ****             else
 154:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 155:../../DaisySP//Source/Effects/pitchshifter.h ****                 shift_up_ = false;
 156:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             mod_freq_ = ((ratio - 1.0f) * sr_) / del_size_;
 1102              		.loc 8 157 33 view .LVU320
 1103 0068 BFEE007A 		vmov.f32	s14, #-1.0e+0
 1104              		.loc 8 157 41 view .LVU321
 1105 006c 94ED0A6A 		vldr.32	s12, [r4, #40]
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1106              		.loc 8 148 49 view .LVU322
 1107 0070 C6EE855A 		vdiv.f32	s11, s13, s10
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 1108              		.loc 8 146 13 is_stmt 1 view .LVU323
 1109              	.LVL42:
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1110              		.loc 8 147 13 view .LVU324
 158:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1111              		.loc 8 158 13 is_stmt 0 view .LVU325
 1112 0074 9FED825A 		vldr.32	s10, .L36+4
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 1113              		.loc 8 146 24 view .LVU326
 1114 0078 FCEEE66A 		vcvt.u32.f32	s13, s13
 1115              	.LVL43:
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1116              		.loc 8 149 13 view .LVU327
 1117 007c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 1118              		.loc 8 146 24 view .LVU328
 1119 0080 CDED006A 		vstr.32	s13, [sp]	@ int
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1120              		.loc 8 147 47 view .LVU329
 1121 0084 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 1122 0088 A2FB0312 		umull	r1, r2, r2, r3
 1123 008c 4FEAD202 		lsr	r2, r2, #3
 1124 0090 02EB4202 		add	r2, r2, r2, lsl #1
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1125              		.loc 8 148 22 view .LVU330
 1126 0094 FCEEE57A 		vcvt.u32.f32	s15, s11
 1127              	.LVL44:
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1128              		.loc 8 147 47 view .LVU331
 1129 0098 A3EB8203 		sub	r3, r3, r2, lsl #2
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1130              		.loc 8 147 24 view .LVU332
 1131 009c 48F22202 		movw	r2, #32802
 1132 00a0 52FA83F3 		uxtab	r3, r2, r3
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1133              		.loc 8 148 22 view .LVU333
 1134 00a4 CDED017A 		vstr.32	s15, [sp, #4]	@ int
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1135              		.loc 8 147 24 view .LVU334
 1136 00a8 08EB8303 		add	r3, r8, r3, lsl #2
 1137 00ac D3ED006A 		vldr.32	s13, [r3]
 1138              	.LVL45:
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1139              		.loc 8 148 13 is_stmt 1 view .LVU335
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 41


 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1140              		.loc 8 149 13 view .LVU336
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1141              		.loc 8 148 22 is_stmt 0 view .LVU337
 1142 00b0 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1143              		.loc 8 148 55 view .LVU338
 1144 00b4 03F10103 		add	r3, r3, #1
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1145              		.loc 8 148 19 view .LVU339
 1146 00b8 07EE903A 		vmov	s15, r3	@ int
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1147              		.loc 8 149 13 view .LVU340
 1148 00bc CCBF     		ite	gt
 1149 00be 0123     		movgt	r3, #1
 1150 00c0 0023     		movle	r3, #0
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1151              		.loc 8 148 19 view .LVU341
 1152 00c2 F8EEE77A 		vcvt.f32.s32	s15, s15
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1153              		.loc 8 149 13 view .LVU342
 1154 00c6 84F82C30 		strb	r3, [r4, #44]
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1155              		.loc 8 157 13 is_stmt 1 view .LVU343
 1156              		.loc 8 158 13 view .LVU344
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1157              		.loc 8 157 33 is_stmt 0 view .LVU345
 1158 00ca A6EEA77A 		vfma.f32	s14, s13, s15
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1159              		.loc 8 157 41 view .LVU346
 1160 00ce 67EE067A 		vmul.f32	s15, s14, s12
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1161              		.loc 8 157 48 view .LVU347
 1162 00d2 94ED087A 		vldr.32	s14, [r4, #32]	@ int
 1163 00d6 B8EE477A 		vcvt.f32.u32	s14, s14
 1164 00da 87EE870A 		vdiv.f32	s0, s15, s14
 1165              	.LVL46:
 1166              		.loc 8 158 13 view .LVU348
 1167 00de B4EEC50A 		vcmpe.f32	s0, s10
 1168 00e2 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1169 00e6 00F1BC80 		bmi	.L19
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1170              		.loc 8 157 23 view .LVU349
 1171 00ea 84ED070A 		vstr.32	s0, [r4, #28]
 1172              	.L20:
 159:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 160:../../DaisySP//Source/Effects/pitchshifter.h ****                 mod_freq_ = 0.0f;
 161:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 162:../../DaisySP//Source/Effects/pitchshifter.h ****             phs_[0].SetFreq(mod_freq_);
 1173              		.loc 8 162 13 is_stmt 1 view .LVU350
 1174              		.loc 8 162 28 is_stmt 0 view .LVU351
 1175 00ee 6748     		ldr	r0, .L36+16
 1176 00f0 FFF7FEFF 		bl	_ZN7daisysp6Phasor7SetFreqEf
 1177              	.LVL47:
 163:../../DaisySP//Source/Effects/pitchshifter.h ****             phs_[1].SetFreq(mod_freq_);
 1178              		.loc 8 163 13 is_stmt 1 view .LVU352
 1179              		.loc 8 163 28 is_stmt 0 view .LVU353
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 42


 1180 00f4 94ED070A 		vldr.32	s0, [r4, #28]
 1181 00f8 6548     		ldr	r0, .L36+20
 1182 00fa FFF7FEFF 		bl	_ZN7daisysp6Phasor7SetFreqEf
 1183              	.LVL48:
 164:../../DaisySP//Source/Effects/pitchshifter.h ****             if(force_recalc_)
 1184              		.loc 8 164 13 is_stmt 1 view .LVU354
 1185 00fe 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 1186 0102 13B1     		cbz	r3, .L18
 165:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 166:../../DaisySP//Source/Effects/pitchshifter.h ****                 force_recalc_ = false;
 1187              		.loc 8 166 17 view .LVU355
 1188              		.loc 8 166 31 is_stmt 0 view .LVU356
 1189 0104 0023     		movs	r3, #0
 1190 0106 84F82430 		strb	r3, [r4, #36]
 1191              	.L18:
 1192              	.LVL49:
 1193              		.loc 8 166 31 view .LVU357
 1194              	.LBE482:
 1195              	.LBE488:
  20:Intonate.cpp  **** 
  21:Intonate.cpp  **** 	float del = hw.GetAdcValue(CV_2);
 1196              		.loc 10 21 2 is_stmt 1 view .LVU358
 1197              		.loc 10 21 28 is_stmt 0 view .LVU359
 1198 010a 0121     		movs	r1, #1
 1199 010c 5B48     		ldr	r0, .L36
 1200 010e FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 1201              	.LVL50:
  22:Intonate.cpp  **** 	float dsize = fmap(del,0.f,1000.f);
 1202              		.loc 10 22 2 is_stmt 1 view .LVU360
 1203              	.LBB489:
 1204              	.LBI489:
 161:../../DaisySP//Source/Utility/dsp.h **** {
 1205              		.loc 11 161 1 view .LVU361
 1206              	.LBE489:
 163:../../DaisySP//Source/Utility/dsp.h ****     {
 1207              		.loc 11 163 5 view .LVU362
 1208              	.LBB505:
 1209              	.LBB490:
 172:../../DaisySP//Source/Utility/dsp.h ****         default: return fclamp(min + in * (max - min), min, max);
 1210              		.loc 11 172 9 view .LVU363
 1211              		.loc 11 173 9 view .LVU364
 1212              		.loc 11 173 18 view .LVU365
 1213 0112 94ED187A 		vldr.32	s14, [r4, #96]
 1214              	.LBE490:
 1215              	.LBE505:
 1216              	.LBB506:
 1217              	.LBB507:
 1218              	.LBB508:
 1219              	.LBB509:
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1220              		.loc 8 148 49 is_stmt 0 view .LVU366
 1221 0116 F2EE083A 		vmov.f32	s7, #1.2e+1
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1222              		.loc 8 147 47 view .LVU367
 1223 011a 5B4A     		ldr	r2, .L36+12
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 1224              		.loc 8 146 40 view .LVU368
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 43


 1225 011c B0EEC75A 		vabs.f32	s10, s14
 1226              	.LBE509:
 1227              	.LBE508:
 1228              	.LBE507:
 1229              	.LBE506:
 1230              	.LBB537:
 1231              	.LBB500:
 1232              		.loc 11 173 31 view .LVU369
 1233 0120 9FED576A 		vldr.32	s12, .L36+4
 1234 0124 DFED5B5A 		vldr.32	s11, .L36+24
 1235              	.LBE500:
 1236              	.LBE537:
 1237              	.LBB538:
 1238              	.LBB530:
 1239              	.LBB520:
 1240              	.LBB510:
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1241              		.loc 8 157 33 view .LVU370
 1242 0128 FFEE006A 		vmov.f32	s13, #-1.0e+0
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1243              		.loc 8 149 13 view .LVU371
 1244 012c B4EEC67A 		vcmpe.f32	s14, s12
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1245              		.loc 8 157 41 view .LVU372
 1246 0130 D4ED0A4A 		vldr.32	s9, [r4, #40]
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1247              		.loc 8 148 49 view .LVU373
 1248 0134 85EE234A 		vdiv.f32	s8, s10, s7
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 1249              		.loc 8 146 24 view .LVU374
 1250 0138 BCEEC55A 		vcvt.u32.f32	s10, s10
 1251              	.LBE510:
 1252              	.LBE520:
 1253              	.LBE530:
 1254              	.LBE538:
 1255              	.LBB539:
 1256              	.LBB501:
 1257              		.loc 11 173 31 view .LVU375
 1258 013c F0EE467A 		vmov.f32	s15, s12
 1259              	.LBE501:
 1260              	.LBE539:
 1261              	.LBB540:
 1262              	.LBB531:
 1263              	.LBB521:
 1264              	.LBB511:
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 1265              		.loc 8 146 24 view .LVU376
 1266 0140 8DED005A 		vstr.32	s10, [sp]	@ int
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1267              		.loc 8 147 47 view .LVU377
 1268 0144 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 1269              	.LBE511:
 1270              	.LBE521:
 1271              	.LBE531:
 1272              	.LBE540:
 1273              	.LBB541:
 1274              	.LBB502:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 44


 1275              		.loc 11 173 31 view .LVU378
 1276 0148 E0EE257A 		vfma.f32	s15, s0, s11
 1277              	.LVL51:
 1278              	.LBB491:
 1279              	.LBI491:
  56:../../DaisySP//Source/Utility/dsp.h **** {
 1280              		.loc 11 56 14 is_stmt 1 view .LVU379
 1281              	.LBE491:
 1282              	.LBE502:
 1283              	.LBE541:
  58:../../DaisySP//Source/Utility/dsp.h **** }
 1284              		.loc 11 58 5 view .LVU380
 1285              	.LBB542:
 1286              	.LBB503:
 1287              	.LBB498:
 1288              	.LBB492:
 1289              	.LBI492:
  32:../../DaisySP//Source/Utility/dsp.h **** {
 1290              		.loc 11 32 14 view .LVU381
 1291              	.LBB493:
  34:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 1292              		.loc 11 34 5 view .LVU382
  36:../../DaisySP//Source/Utility/dsp.h **** #else
 1293              		.loc 11 36 5 view .LVU383
 1294              		.syntax unified
 1295              	@ 36 "../../DaisySP//Source/Utility/dsp.h" 1
 1296 014c C7FE867A 		vmaxnm.f32 s15, s15, s12
 1297              	@ 0 "" 2
 1298              	.LVL52:
  40:../../DaisySP//Source/Utility/dsp.h **** }
 1299              		.loc 11 40 5 view .LVU384
  40:../../DaisySP//Source/Utility/dsp.h **** }
 1300              		.loc 11 40 5 is_stmt 0 view .LVU385
 1301              		.thumb
 1302              		.syntax unified
 1303              	.LBE493:
 1304              	.LBE492:
 1305              	.LBB494:
 1306              	.LBI494:
  43:../../DaisySP//Source/Utility/dsp.h **** {
 1307              		.loc 11 43 14 is_stmt 1 view .LVU386
 1308              	.LBB495:
  45:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 1309              		.loc 11 45 5 view .LVU387
  47:../../DaisySP//Source/Utility/dsp.h **** #else
 1310              		.loc 11 47 5 view .LVU388
 1311              	.LBE495:
 1312              	.LBE494:
 1313              	.LBE498:
 1314              	.LBE503:
 1315              	.LBE542:
 1316              	.LBB543:
 1317              	.LBB532:
 1318              	.LBB522:
 1319              	.LBB512:
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1320              		.loc 8 147 47 is_stmt 0 view .LVU389
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 45


 1321 0150 A2FB0312 		umull	r1, r2, r2, r3
 1322              	.LBE512:
 1323              	.LBE522:
 1324              	.LBE532:
 1325              	.LBE543:
 1326              	.LBB544:
 1327              	.LBB504:
 1328              	.LBB499:
 1329              	.LBB497:
 1330              	.LBB496:
  47:../../DaisySP//Source/Utility/dsp.h **** #else
 1331              		.loc 11 47 5 view .LVU390
 1332              		.syntax unified
 1333              	@ 47 "../../DaisySP//Source/Utility/dsp.h" 1
 1334 0154 C7FEE57A 		vminnm.f32 s15, s15, s11
 1335              	@ 0 "" 2
 1336              	.LVL53:
  51:../../DaisySP//Source/Utility/dsp.h **** }
 1337              		.loc 11 51 5 is_stmt 1 view .LVU391
  51:../../DaisySP//Source/Utility/dsp.h **** }
 1338              		.loc 11 51 5 is_stmt 0 view .LVU392
 1339              		.thumb
 1340              		.syntax unified
 1341              	.LBE496:
 1342              	.LBE497:
 1343              	.LBE499:
 1344              	.LBE504:
 1345              	.LBE544:
  23:Intonate.cpp  **** 
  24:Intonate.cpp  **** 	ps.SetDelSize(dsize);
 1346              		.loc 10 24 2 is_stmt 1 view .LVU393
 1347              	.LBB545:
 1348              	.LBI506:
 167:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 168:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 169:../../DaisySP//Source/Effects/pitchshifter.h ****     }
 170:../../DaisySP//Source/Effects/pitchshifter.h **** 
 171:../../DaisySP//Source/Effects/pitchshifter.h ****     /** sets delay size changing the timbre of the pitchshifting 
 172:../../DaisySP//Source/Effects/pitchshifter.h ****     */
 173:../../DaisySP//Source/Effects/pitchshifter.h ****     void SetDelSize(uint32_t size)
 1349              		.loc 8 173 10 view .LVU394
 1350              	.LBB533:
 174:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 175:../../DaisySP//Source/Effects/pitchshifter.h ****         del_size_     = size < SHIFT_BUFFER_SIZE ? size : SHIFT_BUFFER_SIZE;
 1351              		.loc 8 175 9 view .LVU395
 1352              	.LBB523:
 1353              	.LBB513:
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1354              		.loc 8 147 47 is_stmt 0 view .LVU396
 1355 0158 D208     		lsrs	r2, r2, #3
 1356              	.LBE513:
 1357              	.LBE523:
 1358              	.LBE533:
 1359              	.LBE545:
 1360              		.loc 10 24 15 view .LVU397
 1361 015a FCEEE77A 		vcvt.u32.f32	s15, s15
 1362              	.LVL54:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 46


 1363              	.LBB546:
 1364              	.LBB534:
 1365              	.LBB524:
 1366              	.LBB514:
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1367              		.loc 8 147 47 view .LVU398
 1368 015e 02EB4202 		add	r2, r2, r2, lsl #1
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1369              		.loc 8 148 22 view .LVU399
 1370 0162 BCEEC47A 		vcvt.u32.f32	s14, s8
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1371              		.loc 8 147 47 view .LVU400
 1372 0166 A3EB8203 		sub	r3, r3, r2, lsl #2
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1373              		.loc 8 147 24 view .LVU401
 1374 016a 48F22202 		movw	r2, #32802
 1375 016e 52FA83F3 		uxtab	r3, r2, r3
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1376              		.loc 8 148 22 view .LVU402
 1377 0172 8DED017A 		vstr.32	s14, [sp, #4]	@ int
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1378              		.loc 8 147 24 view .LVU403
 1379 0176 08EB8303 		add	r3, r8, r3, lsl #2
 1380 017a D3ED005A 		vldr.32	s11, [r3]
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1381              		.loc 8 148 22 view .LVU404
 1382 017e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1383              		.loc 8 148 55 view .LVU405
 1384 0182 0133     		adds	r3, r3, #1
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1385              		.loc 8 148 19 view .LVU406
 1386 0184 07EE103A 		vmov	s14, r3	@ int
 1387              	.LBE514:
 1388              	.LBE524:
 1389              	.LBE534:
 1390              	.LBE546:
 1391              		.loc 10 24 15 view .LVU407
 1392 0188 17EE903A 		vmov	r3, s15	@ int
 1393              	.LBB547:
 1394              	.LBB535:
 1395              	.LBB525:
 1396              	.LBB515:
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1397              		.loc 8 148 19 view .LVU408
 1398 018c B8EEC77A 		vcvt.f32.s32	s14, s14
 1399              	.LBE515:
 1400              	.LBE525:
 1401              		.loc 8 175 50 view .LVU409
 1402 0190 B3F5804F 		cmp	r3, #16384
 1403 0194 28BF     		it	cs
 1404 0196 4FF48043 		movcs	r3, #16384
 1405              	.LBB526:
 1406              	.LBB516:
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1407              		.loc 8 149 13 view .LVU410
 1408 019a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 47


 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1409              		.loc 8 157 33 view .LVU411
 1410 019e E5EE876A 		vfma.f32	s13, s11, s14
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1411              		.loc 8 157 48 view .LVU412
 1412 01a2 07EE903A 		vmov	s15, r3	@ int
 1413              	.LBE516:
 1414              	.LBE526:
 1415              		.loc 8 175 23 view .LVU413
 1416 01a6 2362     		str	r3, [r4, #32]
 176:../../DaisySP//Source/Effects/pitchshifter.h ****         force_recalc_ = true;
 1417              		.loc 8 176 9 is_stmt 1 view .LVU414
 1418              		.loc 8 176 23 is_stmt 0 view .LVU415
 1419 01a8 4FF00103 		mov	r3, #1
 1420              	.LBB527:
 1421              	.LBB517:
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1422              		.loc 8 157 48 view .LVU416
 1423 01ac F8EEE77A 		vcvt.f32.s32	s15, s15
 1424              	.LBE517:
 1425              	.LBE527:
 1426              		.loc 8 176 23 view .LVU417
 1427 01b0 84F82430 		strb	r3, [r4, #36]
 177:../../DaisySP//Source/Effects/pitchshifter.h ****         SetTransposition(transpose_);
 1428              		.loc 8 177 9 is_stmt 1 view .LVU418
 1429              	.LVL55:
 1430              	.LBB528:
 1431              	.LBI508:
 139:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 1432              		.loc 8 139 10 view .LVU419
 1433              	.LBB518:
 141:../../DaisySP//Source/Effects/pitchshifter.h ****         uint8_t idx;
 1434              		.loc 8 141 9 view .LVU420
 142:../../DaisySP//Source/Effects/pitchshifter.h ****         if(transpose_ != transpose || force_recalc_)
 1435              		.loc 8 142 9 view .LVU421
 143:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 1436              		.loc 8 143 9 view .LVU422
 145:../../DaisySP//Source/Effects/pitchshifter.h ****             idx        = (uint8_t)fabsf(transpose);
 1437              		.loc 8 145 13 view .LVU423
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 1438              		.loc 8 146 13 view .LVU424
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1439              		.loc 8 147 13 view .LVU425
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 1440              		.loc 8 148 13 view .LVU426
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1441              		.loc 8 149 13 view .LVU427
 1442 01b4 D8BF     		it	le
 1443 01b6 0023     		movle	r3, #0
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1444              		.loc 8 157 41 is_stmt 0 view .LVU428
 1445 01b8 66EEA46A 		vmul.f32	s13, s13, s9
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1446              		.loc 8 149 13 view .LVU429
 1447 01bc 84F82C30 		strb	r3, [r4, #44]
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1448              		.loc 8 157 13 is_stmt 1 view .LVU430
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 48


 158:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1449              		.loc 8 158 13 view .LVU431
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1450              		.loc 8 157 48 is_stmt 0 view .LVU432
 1451 01c0 86EEA70A 		vdiv.f32	s0, s13, s15
 1452              	.LVL56:
 158:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1453              		.loc 8 158 13 view .LVU433
 1454 01c4 B4EEC60A 		vcmpe.f32	s0, s12
 1455 01c8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 1456 01cc 51D4     		bmi	.L22
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 1457              		.loc 8 157 23 view .LVU434
 1458 01ce 84ED070A 		vstr.32	s0, [r4, #28]
 1459              	.L23:
 162:../../DaisySP//Source/Effects/pitchshifter.h ****             phs_[1].SetFreq(mod_freq_);
 1460              		.loc 8 162 13 is_stmt 1 view .LVU435
 162:../../DaisySP//Source/Effects/pitchshifter.h ****             phs_[1].SetFreq(mod_freq_);
 1461              		.loc 8 162 28 is_stmt 0 view .LVU436
 1462 01d2 2E48     		ldr	r0, .L36+16
 1463 01d4 FFF7FEFF 		bl	_ZN7daisysp6Phasor7SetFreqEf
 1464              	.LVL57:
 163:../../DaisySP//Source/Effects/pitchshifter.h ****             if(force_recalc_)
 1465              		.loc 8 163 13 is_stmt 1 view .LVU437
 163:../../DaisySP//Source/Effects/pitchshifter.h ****             if(force_recalc_)
 1466              		.loc 8 163 28 is_stmt 0 view .LVU438
 1467 01d8 94ED070A 		vldr.32	s0, [r4, #28]
 1468 01dc 2C48     		ldr	r0, .L36+20
 1469 01de FFF7FEFF 		bl	_ZN7daisysp6Phasor7SetFreqEf
 1470              	.LVL58:
 164:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 1471              		.loc 8 164 13 is_stmt 1 view .LVU439
 1472 01e2 94F82430 		ldrb	r3, [r4, #36]	@ zero_extendqisi2
 1473 01e6 13B1     		cbz	r3, .L24
 166:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 1474              		.loc 8 166 17 view .LVU440
 166:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 1475              		.loc 8 166 31 is_stmt 0 view .LVU441
 1476 01e8 0023     		movs	r3, #0
 1477 01ea 84F82430 		strb	r3, [r4, #36]
 1478              	.L24:
 1479              	.LVL59:
 166:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 1480              		.loc 8 166 31 view .LVU442
 1481              	.LBE518:
 1482              	.LBE528:
 1483              	.LBE535:
 1484              	.LBE547:
  25:Intonate.cpp  **** 
  26:Intonate.cpp  **** 	float factor = hw.GetAdcValue(CV_3);
 1485              		.loc 10 26 2 is_stmt 1 view .LVU443
 1486              		.loc 10 26 31 is_stmt 0 view .LVU444
 1487 01ee 0221     		movs	r1, #2
 1488 01f0 2248     		ldr	r0, .L36
 1489 01f2 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
 1490              	.LVL60:
  27:Intonate.cpp  **** 	float fun = fmap(factor,0.f,1000.f);
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 49


 1491              		.loc 10 27 2 is_stmt 1 view .LVU445
 1492              	.LBB548:
 1493              	.LBI548:
 161:../../DaisySP//Source/Utility/dsp.h **** {
 1494              		.loc 11 161 1 view .LVU446
 1495              	.LBE548:
 163:../../DaisySP//Source/Utility/dsp.h ****     {
 1496              		.loc 11 163 5 view .LVU447
 1497              	.LBB557:
 1498              	.LBB549:
 172:../../DaisySP//Source/Utility/dsp.h ****         default: return fclamp(min + in * (max - min), min, max);
 1499              		.loc 11 172 9 view .LVU448
 1500              		.loc 11 173 9 view .LVU449
 1501              		.loc 11 173 18 view .LVU450
 1502              		.loc 11 173 31 is_stmt 0 view .LVU451
 1503 01f6 DFED226A 		vldr.32	s13, .L36+4
 1504 01fa 9FED267A 		vldr.32	s14, .L36+24
 1505 01fe F0EE667A 		vmov.f32	s15, s13
 1506 0202 E0EE077A 		vfma.f32	s15, s0, s14
 1507              	.LVL61:
 1508              	.LBB550:
 1509              	.LBI550:
  56:../../DaisySP//Source/Utility/dsp.h **** {
 1510              		.loc 11 56 14 is_stmt 1 view .LVU452
 1511              	.LBE550:
 1512              	.LBE549:
 1513              	.LBE557:
  58:../../DaisySP//Source/Utility/dsp.h **** }
 1514              		.loc 11 58 5 view .LVU453
 1515              	.LBB558:
 1516              	.LBB556:
 1517              	.LBB555:
 1518              	.LBB551:
 1519              	.LBI551:
  32:../../DaisySP//Source/Utility/dsp.h **** {
 1520              		.loc 11 32 14 view .LVU454
 1521              	.LBB552:
  34:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 1522              		.loc 11 34 5 view .LVU455
  36:../../DaisySP//Source/Utility/dsp.h **** #else
 1523              		.loc 11 36 5 view .LVU456
 1524              		.syntax unified
 1525              	@ 36 "../../DaisySP//Source/Utility/dsp.h" 1
 1526 0206 C7FEA67A 		vmaxnm.f32 s15, s15, s13
 1527              	@ 0 "" 2
 1528              	.LVL62:
  40:../../DaisySP//Source/Utility/dsp.h **** }
 1529              		.loc 11 40 5 view .LVU457
  40:../../DaisySP//Source/Utility/dsp.h **** }
 1530              		.loc 11 40 5 is_stmt 0 view .LVU458
 1531              		.thumb
 1532              		.syntax unified
 1533              	.LBE552:
 1534              	.LBE551:
 1535              	.LBB553:
 1536              	.LBI553:
  43:../../DaisySP//Source/Utility/dsp.h **** {
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 50


 1537              		.loc 11 43 14 is_stmt 1 view .LVU459
 1538              	.LBB554:
  45:../../DaisySP//Source/Utility/dsp.h **** #ifdef __arm__
 1539              		.loc 11 45 5 view .LVU460
  47:../../DaisySP//Source/Utility/dsp.h **** #else
 1540              		.loc 11 47 5 view .LVU461
 1541              		.syntax unified
 1542              	@ 47 "../../DaisySP//Source/Utility/dsp.h" 1
 1543 020a C7FEC77A 		vminnm.f32 s15, s15, s14
 1544              	@ 0 "" 2
 1545              	.LVL63:
  51:../../DaisySP//Source/Utility/dsp.h **** }
 1546              		.loc 11 51 5 view .LVU462
  51:../../DaisySP//Source/Utility/dsp.h **** }
 1547              		.loc 11 51 5 is_stmt 0 view .LVU463
 1548              		.thumb
 1549              		.syntax unified
 1550              	.LBE554:
 1551              	.LBE553:
 1552              	.LBE555:
 1553              	.LBE556:
 1554              	.LBE558:
  28:Intonate.cpp  **** 
  29:Intonate.cpp  **** 	ps.SetFun(fun);
 1555              		.loc 10 29 2 is_stmt 1 view .LVU464
 1556              	.LBB559:
 1557              	.LBI559:
 178:../../DaisySP//Source/Effects/pitchshifter.h ****     }
 179:../../DaisySP//Source/Effects/pitchshifter.h **** 
 180:../../DaisySP//Source/Effects/pitchshifter.h ****     /** sets an amount of internal random modulation, kind of sounds like tape-flutter
 181:../../DaisySP//Source/Effects/pitchshifter.h ****     */
 182:../../DaisySP//Source/Effects/pitchshifter.h ****     inline void SetFun(float f) { fun_ = f; }
 1558              		.loc 8 182 17 view .LVU465
 1559              	.LBB560:
 1560              		.loc 8 182 35 view .LVU466
 1561              		.loc 8 182 40 is_stmt 0 view .LVU467
 1562 020e C4ED197A 		vstr.32	s15, [r4, #100]
 1563              	.LVL64:
 1564              		.loc 8 182 40 view .LVU468
 1565              	.LBE560:
 1566              	.LBE559:
  30:Intonate.cpp  **** 
  31:Intonate.cpp  **** 	for (size_t i = 0; i < size; i++)
 1567              		.loc 10 31 2 is_stmt 1 view .LVU469
 1568              	.LBB561:
 1569              		.loc 10 31 23 view .LVU470
 1570 0212 1DB3     		cbz	r5, .L16
  32:Intonate.cpp  **** 	{
  33:Intonate.cpp  **** 		unshifted  = IN_L[i] + IN_R[i];
 1571              		.loc 10 33 16 is_stmt 0 view .LVU471
 1572 0214 3368     		ldr	r3, [r6]
  31:Intonate.cpp  **** 	{
 1573              		.loc 10 31 14 view .LVU472
 1574 0216 0024     		movs	r4, #0
 1575              	.LVL65:
 1576              	.L27:
 1577              		.loc 10 33 3 is_stmt 1 discriminator 2 view .LVU473
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 51


 1578              		.loc 10 33 32 is_stmt 0 discriminator 2 view .LVU474
 1579 0218 7268     		ldr	r2, [r6, #4]
 1580              		.loc 10 33 22 discriminator 2 view .LVU475
 1581 021a 03EB8403 		add	r3, r3, r4, lsl #2
  34:Intonate.cpp  ****         shifted    = ps.Process(unshifted);
 1582              		.loc 10 34 32 discriminator 2 view .LVU476
 1583 021e 03A9     		add	r1, sp, #12
 1584 0220 1D48     		ldr	r0, .L36+28
  33:Intonate.cpp  ****         shifted    = ps.Process(unshifted);
 1585              		.loc 10 33 32 discriminator 2 view .LVU477
 1586 0222 02EB8402 		add	r2, r2, r4, lsl #2
  33:Intonate.cpp  ****         shifted    = ps.Process(unshifted);
 1587              		.loc 10 33 24 discriminator 2 view .LVU478
 1588 0226 93ED007A 		vldr.32	s14, [r3]
 1589 022a 4FEA8408 		lsl	r8, r4, #2
  31:Intonate.cpp  **** 	{
 1590              		.loc 10 31 2 discriminator 2 view .LVU479
 1591 022e 0134     		adds	r4, r4, #1
 1592              	.LVL66:
  33:Intonate.cpp  ****         shifted    = ps.Process(unshifted);
 1593              		.loc 10 33 24 discriminator 2 view .LVU480
 1594 0230 D2ED007A 		vldr.32	s15, [r2]
 1595 0234 77EE877A 		vadd.f32	s15, s15, s14
  33:Intonate.cpp  ****         shifted    = ps.Process(unshifted);
 1596              		.loc 10 33 14 discriminator 2 view .LVU481
 1597 0238 CDED037A 		vstr.32	s15, [sp, #12]
 1598              		.loc 10 34 9 is_stmt 1 discriminator 2 view .LVU482
 1599              		.loc 10 34 32 is_stmt 0 discriminator 2 view .LVU483
 1600 023c FFF7FEFF 		bl	_ZN7daisysp12PitchShifter7ProcessERf
 1601              	.LVL67:
  35:Intonate.cpp  **** 		OUT_L[i] = IN_L[i];
 1602              		.loc 10 35 3 is_stmt 1 discriminator 2 view .LVU484
 1603              		.loc 10 35 14 is_stmt 0 discriminator 2 view .LVU485
 1604 0240 3368     		ldr	r3, [r6]
  31:Intonate.cpp  **** 	{
 1605              		.loc 10 31 23 discriminator 2 view .LVU486
 1606 0242 A542     		cmp	r5, r4
 1607              		.loc 10 35 12 discriminator 2 view .LVU487
 1608 0244 3A68     		ldr	r2, [r7]
  36:Intonate.cpp  **** 		OUT_R[i] = shifted;
 1609              		.loc 10 36 12 discriminator 2 view .LVU488
 1610 0246 7868     		ldr	r0, [r7, #4]
  35:Intonate.cpp  **** 		OUT_L[i] = IN_L[i];
 1611              		.loc 10 35 20 discriminator 2 view .LVU489
 1612 0248 03EB0801 		add	r1, r3, r8
  35:Intonate.cpp  **** 		OUT_L[i] = IN_L[i];
 1613              		.loc 10 35 12 discriminator 2 view .LVU490
 1614 024c 4244     		add	r2, r2, r8
  35:Intonate.cpp  **** 		OUT_L[i] = IN_L[i];
 1615              		.loc 10 35 20 discriminator 2 view .LVU491
 1616 024e 0968     		ldr	r1, [r1]	@ float
 1617              		.loc 10 36 12 discriminator 2 view .LVU492
 1618 0250 00EB080C 		add	ip, r0, r8
  35:Intonate.cpp  **** 		OUT_L[i] = IN_L[i];
 1619              		.loc 10 35 12 discriminator 2 view .LVU493
 1620 0254 1160     		str	r1, [r2]	@ float
 1621              		.loc 10 36 3 is_stmt 1 discriminator 2 view .LVU494
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 52


 1622              		.loc 10 36 12 is_stmt 0 discriminator 2 view .LVU495
 1623 0256 8CED000A 		vstr.32	s0, [ip]
  31:Intonate.cpp  **** 	{
 1624              		.loc 10 31 2 is_stmt 1 discriminator 2 view .LVU496
 1625              	.LVL68:
  31:Intonate.cpp  **** 	{
 1626              		.loc 10 31 23 discriminator 2 view .LVU497
 1627 025a DDD1     		bne	.L27
 1628              	.LVL69:
 1629              	.L16:
  31:Intonate.cpp  **** 	{
 1630              		.loc 10 31 23 is_stmt 0 discriminator 2 view .LVU498
 1631              	.LBE561:
  37:Intonate.cpp  **** 	}
  38:Intonate.cpp  **** }
 1632              		.loc 10 38 1 view .LVU499
 1633 025c 04B0     		add	sp, sp, #16
 1634              		.cfi_remember_state
 1635              		.cfi_def_cfa_offset 24
 1636              		@ sp needed
 1637 025e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1638              	.LVL70:
 1639              	.L19:
 1640              		.cfi_restore_state
 1641              	.LBB562:
 1642              	.LBB483:
 160:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 1643              		.loc 8 160 17 is_stmt 1 view .LVU500
 1644 0262 B0EE450A 		vmov.f32	s0, s10
 160:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 1645              		.loc 8 160 27 is_stmt 0 view .LVU501
 1646 0266 84ED075A 		vstr.32	s10, [r4, #28]
 1647 026a 40E7     		b	.L20
 1648              	.LVL71:
 1649              	.L35:
 160:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 1650              		.loc 8 160 27 view .LVU502
 1651 026c A4F50038 		sub	r8, r4, #131072
 1652 0270 4BE7     		b	.L18
 1653              	.LVL72:
 1654              	.L22:
 160:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 1655              		.loc 8 160 27 view .LVU503
 1656              	.LBE483:
 1657              	.LBE562:
 1658              	.LBB563:
 1659              	.LBB536:
 1660              	.LBB529:
 1661              	.LBB519:
 160:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 1662              		.loc 8 160 17 is_stmt 1 view .LVU504
 1663 0272 B0EE460A 		vmov.f32	s0, s12
 160:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 1664              		.loc 8 160 27 is_stmt 0 view .LVU505
 1665 0276 84ED076A 		vstr.32	s12, [r4, #28]
 1666 027a AAE7     		b	.L23
 1667              	.L37:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 53


 1668              		.align	2
 1669              	.L36:
 1670 027c 00000000 		.word	.LANCHOR0
 1671 0280 00000000 		.word	0
 1672 0284 00000200 		.word	ps+131072
 1673 0288 ABAAAAAA 		.word	-1431655765
 1674 028c 30000200 		.word	ps+131120
 1675 0290 40000200 		.word	ps+131136
 1676 0294 00007A44 		.word	1148846080
 1677 0298 00000000 		.word	ps
 1678              	.LBE519:
 1679              	.LBE529:
 1680              	.LBE536:
 1681              	.LBE563:
 1682              		.cfi_endproc
 1683              	.LFE4783:
 1685              		.section	.text.startup.main,"ax",%progbits
 1686              		.align	1
 1687              		.p2align 2,,3
 1688              		.global	main
 1689              		.syntax unified
 1690              		.thumb
 1691              		.thumb_func
 1692              		.fpu fpv5-d16
 1694              	main:
 1695              	.LFB4784:
  39:Intonate.cpp  **** 
  40:Intonate.cpp  **** int main(void)
  41:Intonate.cpp  **** {
 1696              		.loc 10 41 1 is_stmt 1 view -0
 1697              		.cfi_startproc
 1698              		@ args = 0, pretend = 0, frame = 8
 1699              		@ frame_needed = 0, uses_anonymous_args = 0
  42:Intonate.cpp  **** 	hw.Init();
 1700              		.loc 10 42 2 view .LVU507
  41:Intonate.cpp  **** 	hw.Init();
 1701              		.loc 10 41 1 is_stmt 0 view .LVU508
 1702 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1703              		.cfi_def_cfa_offset 24
 1704              		.cfi_offset 4, -24
 1705              		.cfi_offset 5, -20
 1706              		.cfi_offset 6, -16
 1707              		.cfi_offset 7, -12
 1708              		.cfi_offset 8, -8
 1709              		.cfi_offset 14, -4
 1710              		.loc 10 42 9 view .LVU509
 1711 0004 6048     		ldr	r0, .L52
 1712              	.LBB580:
 1713              	.LBB581:
  65:../../DaisySP//Source/Effects/pitchshifter.h ****         sr_           = sr;
 1714              		.loc 8 65 23 view .LVU510
 1715 0006 614E     		ldr	r6, .L52+4
 1716              	.LBE581:
 1717              	.LBE580:
  41:Intonate.cpp  **** 	hw.Init();
 1718              		.loc 10 41 1 view .LVU511
 1719 0008 2DED028B 		vpush.64	{d8}
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 54


 1720              		.cfi_def_cfa_offset 32
 1721              		.cfi_offset 80, -32
 1722              		.cfi_offset 81, -28
 1723 000c 82B0     		sub	sp, sp, #8
 1724              		.cfi_def_cfa_offset 40
 1725 000e 06F18805 		add	r5, r6, #136
 1726              		.loc 10 42 9 view .LVU512
 1727 0012 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM4InitEv
 1728              	.LVL73:
  43:Intonate.cpp  **** 	hw.SetAudioBlockSize(4); // number of samples handled per callback
 1729              		.loc 10 43 2 is_stmt 1 view .LVU513
 1730              		.loc 10 43 22 is_stmt 0 view .LVU514
 1731 0016 0421     		movs	r1, #4
 1732 0018 5B48     		ldr	r0, .L52
 1733 001a FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM17SetAudioBlockSizeEj
 1734              	.LVL74:
  44:Intonate.cpp  **** 	hw.SetAudioSampleRate(SaiHandle::Config::SampleRate::SAI_48KHZ);
 1735              		.loc 10 44 2 is_stmt 1 view .LVU515
 1736              		.loc 10 44 23 is_stmt 0 view .LVU516
 1737 001e 0321     		movs	r1, #3
 1738 0020 5948     		ldr	r0, .L52
 1739 0022 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM18SetAudioSampleRateENS_9SaiHandle6Config10SampleRateE
 1740              	.LVL75:
  45:Intonate.cpp  **** 	float sample_rate = hw.AudioSampleRate();
 1741              		.loc 10 45 2 is_stmt 1 view .LVU517
 1742              		.loc 10 45 40 is_stmt 0 view .LVU518
 1743 0026 5848     		ldr	r0, .L52
 1744 0028 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM15AudioSampleRateEv
 1745              	.LVL76:
 1746              	.LBB641:
 1747              	.LBB638:
  65:../../DaisySP//Source/Effects/pitchshifter.h ****         sr_           = sr;
 1748              		.loc 8 65 23 view .LVU519
 1749 002c 0023     		movs	r3, #0
 1750              	.LBE638:
 1751              	.LBE641:
 1752              		.loc 10 45 40 view .LVU520
 1753 002e F0EE408A 		vmov.f32	s17, s0
 1754              	.LVL77:
  46:Intonate.cpp  **** 
  47:Intonate.cpp  **** 	ps.Init(sample_rate);
 1755              		.loc 10 47 2 is_stmt 1 view .LVU521
 1756              	.LBB642:
 1757              	.LBI580:
  63:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 1758              		.loc 8 63 10 view .LVU522
 1759              	.LBB639:
  65:../../DaisySP//Source/Effects/pitchshifter.h ****         sr_           = sr;
 1760              		.loc 8 65 9 view .LVU523
  67:../../DaisySP//Source/Effects/pitchshifter.h ****         SetSemitones();
 1761              		.loc 8 67 23 is_stmt 0 view .LVU524
 1762 0032 574A     		ldr	r2, .L52+8
 1763              	.LBB582:
 1764              	.LBB583:
 183:../../DaisySP//Source/Effects/pitchshifter.h **** 
 184:../../DaisySP//Source/Effects/pitchshifter.h ****   private:
 185:../../DaisySP//Source/Effects/pitchshifter.h ****     inline void SetSemitones()
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 55


 186:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 187:../../DaisySP//Source/Effects/pitchshifter.h ****         for(size_t i = 0; i < 12; i++)
 1765              		.loc 8 187 20 view .LVU525
 1766 0034 1C46     		mov	r4, r3
 1767              	.LBE583:
 1768              	.LBE582:
  65:../../DaisySP//Source/Effects/pitchshifter.h ****         sr_           = sr;
 1769              		.loc 8 65 23 view .LVU526
 1770 0036 86F82430 		strb	r3, [r6, #36]
  66:../../DaisySP//Source/Effects/pitchshifter.h ****         mod_freq_     = 5.0f;
 1771              		.loc 8 66 9 is_stmt 1 view .LVU527
  66:../../DaisySP//Source/Effects/pitchshifter.h ****         mod_freq_     = 5.0f;
 1772              		.loc 8 66 23 is_stmt 0 view .LVU528
 1773 003a 86ED0A0A 		vstr.32	s0, [r6, #40]
  67:../../DaisySP//Source/Effects/pitchshifter.h ****         SetSemitones();
 1774              		.loc 8 67 9 is_stmt 1 view .LVU529
  67:../../DaisySP//Source/Effects/pitchshifter.h ****         SetSemitones();
 1775              		.loc 8 67 23 is_stmt 0 view .LVU530
 1776 003e F261     		str	r2, [r6, #28]	@ float
  68:../../DaisySP//Source/Effects/pitchshifter.h ****         for(uint8_t i = 0; i < 2; i++)
 1777              		.loc 8 68 9 is_stmt 1 view .LVU531
 1778              	.LVL78:
 1779              	.LBB585:
 1780              	.LBI582:
 185:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 1781              		.loc 8 185 17 view .LVU532
 1782              	.LBB584:
 1783              		.loc 8 187 29 view .LVU533
 1784              	.L39:
 188:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 189:../../DaisySP//Source/Effects/pitchshifter.h ****             semitone_ratios_[i] = powf(2.0f, (float)i / 12);
 1785              		.loc 8 189 13 view .LVU534
 1786              		.loc 8 189 46 is_stmt 0 view .LVU535
 1787 0040 07EE904A 		vmov	s15, r4	@ int
 1788              		.loc 8 189 39 view .LVU536
 1789 0044 B2EE088A 		vmov.f32	s16, #1.2e+1
 187:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 1790              		.loc 8 187 9 view .LVU537
 1791 0048 0134     		adds	r4, r4, #1
 1792              	.LVL79:
 1793              		.loc 8 189 39 view .LVU538
 1794 004a B0EE000A 		vmov.f32	s0, #2.0e+0
 1795              		.loc 8 189 46 view .LVU539
 1796 004e F8EEE70A 		vcvt.f32.s32	s1, s15
 1797              		.loc 8 189 39 view .LVU540
 1798 0052 C0EE880A 		vdiv.f32	s1, s1, s16
 1799 0056 FFF7FEFF 		bl	powf
 1800              	.LVL80:
 187:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 1801              		.loc 8 187 29 view .LVU541
 1802 005a 0C2C     		cmp	r4, #12
 1803              		.loc 8 189 33 view .LVU542
 1804 005c A5EC010A 		vstmia.32	r5!, {s0}
 187:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 1805              		.loc 8 187 9 is_stmt 1 view .LVU543
 1806              	.LVL81:
 187:../../DaisySP//Source/Effects/pitchshifter.h ****         {
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 56


 1807              		.loc 8 187 29 view .LVU544
 1808 0060 EED1     		bne	.L39
 1809              	.LVL82:
 187:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 1810              		.loc 8 187 29 is_stmt 0 view .LVU545
 1811              	.LBE584:
 1812              	.LBE585:
 1813              	.LBB586:
  69:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 1814              		.loc 8 69 30 is_stmt 1 view .LVU546
  71:../../DaisySP//Source/Effects/pitchshifter.h ****             d_[i].Init();
 1815              		.loc 8 71 13 view .LVU547
 1816              	.LBB587:
 1817              	.LBB588:
 1818              	.LBB589:
 1819              	.LBB590:
  34:../../DaisySP//Source/Utility/delayline.h ****         }
 1820              		.loc 9 34 22 is_stmt 0 view .LVU548
 1821 0062 0021     		movs	r1, #0
 1822              	.LBE590:
 1823              	.LBE589:
 1824              	.LBE588:
 1825              	.LBE587:
  71:../../DaisySP//Source/Effects/pitchshifter.h ****             d_[i].Init();
 1826              		.loc 8 71 22 view .LVU549
 1827 0064 4B4D     		ldr	r5, .L52+12
 1828              	.LBB609:
 1829              	.LBB602:
 1830              	.LBB595:
  37:../../DaisySP//Source/Utility/delayline.h ****     }
 1831              		.loc 9 37 20 view .LVU550
 1832 0066 0127     		movs	r7, #1
 1833              	.LBE595:
 1834              	.LBE602:
 1835              	.LBE609:
  71:../../DaisySP//Source/Effects/pitchshifter.h ****             d_[i].Init();
 1836              		.loc 8 71 22 view .LVU551
 1837 0068 4FF00008 		mov	r8, #0
 1838              	.LBB610:
 1839              	.LBB603:
 1840              	.LBB596:
  36:../../DaisySP//Source/Utility/delayline.h ****         delay_     = 1;
 1841              		.loc 9 36 20 view .LVU552
 1842 006c 0C46     		mov	r4, r1
 1843              	.LBB591:
  34:../../DaisySP//Source/Utility/delayline.h ****         }
 1844              		.loc 9 34 22 view .LVU553
 1845 006e 4FF48032 		mov	r2, #65536
 1846 0072 05F10C00 		add	r0, r5, #12
 1847              	.LBE591:
 1848              	.LBE596:
 1849              	.LBE603:
 1850              	.LBE610:
  71:../../DaisySP//Source/Effects/pitchshifter.h ****             d_[i].Init();
 1851              		.loc 8 71 22 view .LVU554
 1852 0076 C6F85080 		str	r8, [r6, #80]	@ float
  72:../../DaisySP//Source/Effects/pitchshifter.h ****             phs_[i].Init(sr, 50, i == 0 ? 0 : PI_F);
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 57


 1853              		.loc 8 72 13 is_stmt 1 view .LVU555
 1854              	.LVL83:
 1855              	.LBB611:
 1856              	.LBI587:
  27:../../DaisySP//Source/Utility/delayline.h ****     /** clears buffer, sets write ptr to 0, and delay to 1 sample.
 1857              		.loc 9 27 10 view .LVU556
 1858              	.LBB604:
 1859              	.LBI588:
  30:../../DaisySP//Source/Utility/delayline.h ****     {
 1860              		.loc 9 30 10 view .LVU557
 1861              	.LBB597:
 1862              	.LBB592:
  32:../../DaisySP//Source/Utility/delayline.h ****         {
 1863              		.loc 9 32 29 view .LVU558
  34:../../DaisySP//Source/Utility/delayline.h ****         }
 1864              		.loc 9 34 22 is_stmt 0 view .LVU559
 1865 007a FFF7FEFF 		bl	memset
 1866              	.LVL84:
  34:../../DaisySP//Source/Utility/delayline.h ****         }
 1867              		.loc 9 34 22 view .LVU560
 1868              	.LBE592:
 1869              	.LBE597:
 1870              	.LBE604:
 1871              	.LBE611:
 1872              	.LBB612:
 1873              	.LBB613:
 1874              		.file 12 "../../DaisySP//Source/Control/phasor.h"
   1:../../DaisySP//Source/Control/phasor.h **** #pragma once
   2:../../DaisySP//Source/Control/phasor.h **** #ifndef DSY_PHASOR_H
   3:../../DaisySP//Source/Control/phasor.h **** #define DSY_PHASOR_H
   4:../../DaisySP//Source/Control/phasor.h **** #ifdef __cplusplus
   5:../../DaisySP//Source/Control/phasor.h **** 
   6:../../DaisySP//Source/Control/phasor.h **** namespace daisysp
   7:../../DaisySP//Source/Control/phasor.h **** {
   8:../../DaisySP//Source/Control/phasor.h **** /** Generates a normalized signal moving from 0-1 at the specified frequency.
   9:../../DaisySP//Source/Control/phasor.h **** 
  10:../../DaisySP//Source/Control/phasor.h **** \todo Selecting which channels should be initialized/included in the sequence conversion.
  11:../../DaisySP//Source/Control/phasor.h **** \todo Setup a similar start function for an external mux, but that seems outside the scope of this 
  12:../../DaisySP//Source/Control/phasor.h **** 
  13:../../DaisySP//Source/Control/phasor.h **** */
  14:../../DaisySP//Source/Control/phasor.h **** class Phasor
  15:../../DaisySP//Source/Control/phasor.h **** {
  16:../../DaisySP//Source/Control/phasor.h ****   public:
  17:../../DaisySP//Source/Control/phasor.h ****     Phasor() {}
  18:../../DaisySP//Source/Control/phasor.h ****     ~Phasor() {}
  19:../../DaisySP//Source/Control/phasor.h ****     /** Initializes the Phasor module
  20:../../DaisySP//Source/Control/phasor.h ****     sample rate, and freq are in Hz
  21:../../DaisySP//Source/Control/phasor.h ****     initial phase is in radians
  22:../../DaisySP//Source/Control/phasor.h ****     Additional Init functions have defaults when arg is not specified:
  23:../../DaisySP//Source/Control/phasor.h ****     - phs = 0.0f
  24:../../DaisySP//Source/Control/phasor.h ****     - freq = 1.0f
  25:../../DaisySP//Source/Control/phasor.h ****     */
  26:../../DaisySP//Source/Control/phasor.h ****     inline void Init(float sample_rate, float freq, float initial_phase)
  27:../../DaisySP//Source/Control/phasor.h ****     {
  28:../../DaisySP//Source/Control/phasor.h ****         sample_rate_ = sample_rate;
  29:../../DaisySP//Source/Control/phasor.h ****         phs_         = initial_phase;
  30:../../DaisySP//Source/Control/phasor.h ****         SetFreq(freq);
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 58


 1875              		.loc 12 30 16 view .LVU561
 1876 007e 9FED460A 		vldr.32	s0, .L52+16
 1877 0082 4648     		ldr	r0, .L52+20
  28:../../DaisySP//Source/Control/phasor.h ****         phs_         = initial_phase;
 1878              		.loc 12 28 22 view .LVU562
 1879 0084 C6ED0D8A 		vstr.32	s17, [r6, #52]
  29:../../DaisySP//Source/Control/phasor.h ****         SetFreq(freq);
 1880              		.loc 12 29 22 view .LVU563
 1881 0088 C6F83C80 		str	r8, [r6, #60]	@ float
 1882              	.LBE613:
 1883              	.LBE612:
 1884              	.LBB617:
 1885              	.LBB605:
 1886              	.LBB598:
  37:../../DaisySP//Source/Utility/delayline.h ****     }
 1887              		.loc 9 37 20 view .LVU564
 1888 008c C5E90147 		strd	r4, r7, [r5, #4]
 1889              	.LVL85:
  37:../../DaisySP//Source/Utility/delayline.h ****     }
 1890              		.loc 9 37 20 view .LVU565
 1891              	.LBE598:
 1892              	.LBE605:
 1893              	.LBE617:
  73:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 1894              		.loc 8 73 13 is_stmt 1 view .LVU566
 1895              	.LBB618:
 1896              	.LBI612:
  26:../../DaisySP//Source/Control/phasor.h ****     {
 1897              		.loc 12 26 17 view .LVU567
 1898              	.LBB614:
  28:../../DaisySP//Source/Control/phasor.h ****         phs_         = initial_phase;
 1899              		.loc 12 28 9 view .LVU568
  29:../../DaisySP//Source/Control/phasor.h ****         SetFreq(freq);
 1900              		.loc 12 29 9 view .LVU569
 1901              		.loc 12 30 9 view .LVU570
 1902              		.loc 12 30 16 is_stmt 0 view .LVU571
 1903 0090 FFF7FEFF 		bl	_ZN7daisysp6Phasor7SetFreqEf
 1904              	.LVL86:
 1905              		.loc 12 30 16 view .LVU572
 1906              	.LBE614:
 1907              	.LBE618:
  69:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 1908              		.loc 8 69 9 is_stmt 1 view .LVU573
  69:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 1909              		.loc 8 69 30 view .LVU574
  71:../../DaisySP//Source/Effects/pitchshifter.h ****             d_[i].Init();
 1910              		.loc 8 71 13 view .LVU575
 1911              	.LBB619:
 1912              	.LBB606:
 1913              	.LBB599:
 1914              	.LBB593:
  34:../../DaisySP//Source/Utility/delayline.h ****         }
 1915              		.loc 9 34 22 is_stmt 0 view .LVU576
 1916 0094 4FF48032 		mov	r2, #65536
 1917 0098 2146     		mov	r1, r4
 1918 009a 4148     		ldr	r0, .L52+24
 1919              	.LBE593:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 59


 1920              	.LBE599:
 1921              	.LBE606:
 1922              	.LBE619:
  71:../../DaisySP//Source/Effects/pitchshifter.h ****             d_[i].Init();
 1923              		.loc 8 71 22 view .LVU577
 1924 009c C6F85480 		str	r8, [r6, #84]	@ float
  72:../../DaisySP//Source/Effects/pitchshifter.h ****             phs_[i].Init(sr, 50, i == 0 ? 0 : PI_F);
 1925              		.loc 8 72 13 is_stmt 1 view .LVU578
 1926              	.LVL87:
 1927              	.LBB620:
  27:../../DaisySP//Source/Utility/delayline.h ****     /** clears buffer, sets write ptr to 0, and delay to 1 sample.
 1928              		.loc 9 27 10 view .LVU579
 1929              	.LBB607:
  30:../../DaisySP//Source/Utility/delayline.h ****     {
 1930              		.loc 9 30 10 view .LVU580
 1931              	.LBB600:
 1932              	.LBB594:
  32:../../DaisySP//Source/Utility/delayline.h ****         {
 1933              		.loc 9 32 29 view .LVU581
  34:../../DaisySP//Source/Utility/delayline.h ****         }
 1934              		.loc 9 34 22 is_stmt 0 view .LVU582
 1935 00a0 FFF7FEFF 		bl	memset
 1936              	.LVL88:
  34:../../DaisySP//Source/Utility/delayline.h ****         }
 1937              		.loc 9 34 22 view .LVU583
 1938              	.LBE594:
  36:../../DaisySP//Source/Utility/delayline.h ****         delay_     = 1;
 1939              		.loc 9 36 20 view .LVU584
 1940 00a4 05F58033 		add	r3, r5, #65536
 1941              	.LBE600:
 1942              	.LBE607:
 1943              	.LBE620:
 1944              	.LBB621:
 1945              	.LBB615:
 1946              		.loc 12 30 16 view .LVU585
 1947 00a8 3E48     		ldr	r0, .L52+28
 1948 00aa 9FED3B0A 		vldr.32	s0, .L52+16
  28:../../DaisySP//Source/Control/phasor.h ****         phs_         = initial_phase;
 1949              		.loc 12 28 22 view .LVU586
 1950 00ae C6ED118A 		vstr.32	s17, [r6, #68]
 1951              	.LBE615:
 1952              	.LBE621:
 1953              	.LBB622:
 1954              	.LBB608:
 1955              	.LBB601:
  37:../../DaisySP//Source/Utility/delayline.h ****     }
 1956              		.loc 9 37 20 view .LVU587
 1957 00b2 C3E90447 		strd	r4, r7, [r3, #16]
 1958              	.LVL89:
  37:../../DaisySP//Source/Utility/delayline.h ****     }
 1959              		.loc 9 37 20 view .LVU588
 1960              	.LBE601:
 1961              	.LBE608:
 1962              	.LBE622:
  73:../../DaisySP//Source/Effects/pitchshifter.h ****         }
 1963              		.loc 8 73 13 is_stmt 1 view .LVU589
 1964              	.LBB623:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 60


  26:../../DaisySP//Source/Control/phasor.h ****     {
 1965              		.loc 12 26 17 view .LVU590
 1966              	.LBB616:
  28:../../DaisySP//Source/Control/phasor.h ****         phs_         = initial_phase;
 1967              		.loc 12 28 9 view .LVU591
  29:../../DaisySP//Source/Control/phasor.h ****         SetFreq(freq);
 1968              		.loc 12 29 9 view .LVU592
  29:../../DaisySP//Source/Control/phasor.h ****         SetFreq(freq);
 1969              		.loc 12 29 22 is_stmt 0 view .LVU593
 1970 00b6 3C4B     		ldr	r3, .L52+32
 1971 00b8 F364     		str	r3, [r6, #76]	@ float
 1972              		.loc 12 30 9 is_stmt 1 view .LVU594
 1973              		.loc 12 30 16 is_stmt 0 view .LVU595
 1974 00ba FFF7FEFF 		bl	_ZN7daisysp6Phasor7SetFreqEf
 1975              	.LVL90:
 1976              		.loc 12 30 16 view .LVU596
 1977              	.LBE616:
 1978              	.LBE623:
  69:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 1979              		.loc 8 69 9 is_stmt 1 view .LVU597
  69:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 1980              		.loc 8 69 30 view .LVU598
 1981              	.LBE586:
  75:../../DaisySP//Source/Effects/pitchshifter.h ****         del_size_ = SHIFT_BUFFER_SIZE;
 1982              		.loc 8 75 9 view .LVU599
 1983 00be 96ED187A 		vldr.32	s14, [r6, #96]
  76:../../DaisySP//Source/Effects/pitchshifter.h ****         SetDelSize(del_size_);
 1984              		.loc 8 76 19 is_stmt 0 view .LVU600
 1985 00c2 4FF48043 		mov	r3, #16384
 1986              	.LBB624:
 1987              	.LBB625:
 1988              	.LBB626:
 1989              	.LBB627:
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1990              		.loc 8 147 47 view .LVU601
 1991 00c6 394A     		ldr	r2, .L52+36
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 1992              		.loc 8 147 24 view .LVU602
 1993 00c8 48F22201 		movw	r1, #32802
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 1994              		.loc 8 146 40 view .LVU603
 1995 00cc F0EEC77A 		vabs.f32	s15, s14
 1996              	.LBE627:
 1997              	.LBE626:
 1998              	.LBE625:
 1999              	.LBE624:
  76:../../DaisySP//Source/Effects/pitchshifter.h ****         SetDelSize(del_size_);
 2000              		.loc 8 76 19 view .LVU604
 2001 00d0 3362     		str	r3, [r6, #32]
 2002              	.LBB636:
 2003              	.LBB634:
 2004              	.LBB631:
 2005              	.LBB628:
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 2006              		.loc 8 149 13 view .LVU605
 2007 00d2 B5EEC07A 		vcmpe.f32	s14, #0
 2008              	.LBE628:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 61


 2009              	.LBE631:
 2010              	.LBE634:
 2011              	.LBE636:
  75:../../DaisySP//Source/Effects/pitchshifter.h ****         del_size_ = SHIFT_BUFFER_SIZE;
 2012              		.loc 8 75 19 view .LVU606
 2013 00d6 86F82C70 		strb	r7, [r6, #44]
  76:../../DaisySP//Source/Effects/pitchshifter.h ****         SetDelSize(del_size_);
 2014              		.loc 8 76 9 is_stmt 1 view .LVU607
  77:../../DaisySP//Source/Effects/pitchshifter.h ****         fun_ = 0.0f;
 2015              		.loc 8 77 9 view .LVU608
 2016              	.LVL91:
 2017              	.LBB637:
 2018              	.LBI624:
 173:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 2019              		.loc 8 173 10 view .LVU609
 2020              	.LBB635:
 175:../../DaisySP//Source/Effects/pitchshifter.h ****         force_recalc_ = true;
 2021              		.loc 8 175 9 view .LVU610
 176:../../DaisySP//Source/Effects/pitchshifter.h ****         SetTransposition(transpose_);
 2022              		.loc 8 176 9 view .LVU611
 177:../../DaisySP//Source/Effects/pitchshifter.h ****     }
 2023              		.loc 8 177 9 view .LVU612
 2024              	.LBB632:
 2025              	.LBI626:
 139:../../DaisySP//Source/Effects/pitchshifter.h ****     {
 2026              		.loc 8 139 10 view .LVU613
 2027              	.LBB629:
 141:../../DaisySP//Source/Effects/pitchshifter.h ****         uint8_t idx;
 2028              		.loc 8 141 9 view .LVU614
 142:../../DaisySP//Source/Effects/pitchshifter.h ****         if(transpose_ != transpose || force_recalc_)
 2029              		.loc 8 142 9 view .LVU615
 143:../../DaisySP//Source/Effects/pitchshifter.h ****         {
 2030              		.loc 8 143 9 view .LVU616
 145:../../DaisySP//Source/Effects/pitchshifter.h ****             idx        = (uint8_t)fabsf(transpose);
 2031              		.loc 8 145 13 view .LVU617
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 2032              		.loc 8 146 13 view .LVU618
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 2033              		.loc 8 147 13 view .LVU619
 2034              	.LBE629:
 2035              	.LBE632:
 176:../../DaisySP//Source/Effects/pitchshifter.h ****         SetTransposition(transpose_);
 2036              		.loc 8 176 23 is_stmt 0 view .LVU620
 2037 00da 86F82470 		strb	r7, [r6, #36]
 2038              	.LBB633:
 2039              	.LBB630:
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 2040              		.loc 8 148 49 view .LVU621
 2041 00de C7EE886A 		vdiv.f32	s13, s15, s16
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
 2042              		.loc 8 146 24 view .LVU622
 2043 00e2 FCEEE77A 		vcvt.u32.f32	s15, s15
 2044              	.LVL92:
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 2045              		.loc 8 149 13 view .LVU623
 2046 00e6 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 146:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio      = semitone_ratios_[idx % 12];
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 62


 2047              		.loc 8 146 24 view .LVU624
 2048 00ea CDED007A 		vstr.32	s15, [sp]	@ int
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 2049              		.loc 8 147 47 view .LVU625
 2050 00ee 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 2051 00f2 A2FB0302 		umull	r0, r2, r2, r3
 2052 00f6 4FEAD202 		lsr	r2, r2, #3
 2053 00fa 02EB4202 		add	r2, r2, r2, lsl #1
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 2054              		.loc 8 148 22 view .LVU626
 2055 00fe FCEEE67A 		vcvt.u32.f32	s15, s13
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 2056              		.loc 8 147 47 view .LVU627
 2057 0102 A3EB8203 		sub	r3, r3, r2, lsl #2
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 2058              		.loc 8 148 22 view .LVU628
 2059 0106 CDED017A 		vstr.32	s15, [sp, #4]	@ int
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 2060              		.loc 8 147 24 view .LVU629
 2061 010a 51FA83F2 		uxtab	r2, r1, r3
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 2062              		.loc 8 148 22 view .LVU630
 2063 010e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 2064              		.loc 8 147 24 view .LVU631
 2065 0112 05EB8202 		add	r2, r5, r2, lsl #2
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 2066              		.loc 8 148 55 view .LVU632
 2067 0116 3B44     		add	r3, r3, r7
 147:../../DaisySP//Source/Effects/pitchshifter.h ****             ratio *= (uint8_t)(fabsf(transpose) / 12) + 1;
 2068              		.loc 8 147 24 view .LVU633
 2069 0118 D2ED006A 		vldr.32	s13, [r2]
 2070              	.LVL93:
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 2071              		.loc 8 148 13 is_stmt 1 view .LVU634
 148:../../DaisySP//Source/Effects/pitchshifter.h ****             if(transpose > 0.0f)
 2072              		.loc 8 148 19 is_stmt 0 view .LVU635
 2073 011c 07EE903A 		vmov	s15, r3	@ int
 2074 0120 F8EEE77A 		vcvt.f32.s32	s15, s15
 2075 0124 67EEA67A 		vmul.f32	s15, s15, s13
 2076              	.LVL94:
 149:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 2077              		.loc 8 149 13 is_stmt 1 view .LVU636
 2078 0128 01DC     		bgt	.L40
 155:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 2079              		.loc 8 155 17 view .LVU637
 155:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 2080              		.loc 8 155 27 is_stmt 0 view .LVU638
 2081 012a 86F82C40 		strb	r4, [r6, #44]
 2082              	.L40:
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 2083              		.loc 8 157 13 is_stmt 1 view .LVU639
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 2084              		.loc 8 157 33 is_stmt 0 view .LVU640
 2085 012e B7EE006A 		vmov.f32	s12, #1.0e+0
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 2086              		.loc 8 157 41 view .LVU641
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 63


 2087 0132 D6ED0A6A 		vldr.32	s13, [r6, #40]
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 2088              		.loc 8 157 48 view .LVU642
 2089 0136 9FED1E7A 		vldr.32	s14, .L52+40
 2090              	.LVL95:
 158:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 2091              		.loc 8 158 13 view .LVU643
 2092 013a 0023     		movs	r3, #0
 162:../../DaisySP//Source/Effects/pitchshifter.h ****             phs_[1].SetFreq(mod_freq_);
 2093              		.loc 8 162 28 view .LVU644
 2094 013c 1748     		ldr	r0, .L52+20
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 2095              		.loc 8 157 33 view .LVU645
 2096 013e 77EEC67A 		vsub.f32	s15, s15, s12
 2097              	.LVL96:
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 2098              		.loc 8 157 41 view .LVU646
 2099 0142 67EEA67A 		vmul.f32	s15, s15, s13
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 2100              		.loc 8 157 48 view .LVU647
 2101 0146 67EE877A 		vmul.f32	s15, s15, s14
 158:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 2102              		.loc 8 158 13 is_stmt 1 view .LVU648
 2103 014a F5EEC07A 		vcmpe.f32	s15, #0
 2104 014e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 160:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 2105              		.loc 8 160 27 is_stmt 0 view .LVU649
 2106 0152 4CBF     		ite	mi
 2107 0154 F361     		strmi	r3, [r6, #28]	@ float
 157:../../DaisySP//Source/Effects/pitchshifter.h ****             if(mod_freq_ < 0.0f)
 2108              		.loc 8 157 23 view .LVU650
 2109 0156 C6ED077A 		vstrpl.32	s15, [r6, #28]
 160:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 2110              		.loc 8 160 17 is_stmt 1 view .LVU651
 162:../../DaisySP//Source/Effects/pitchshifter.h ****             phs_[1].SetFreq(mod_freq_);
 2111              		.loc 8 162 13 view .LVU652
 162:../../DaisySP//Source/Effects/pitchshifter.h ****             phs_[1].SetFreq(mod_freq_);
 2112              		.loc 8 162 28 is_stmt 0 view .LVU653
 2113 015a 96ED070A 		vldr.32	s0, [r6, #28]
 2114 015e FFF7FEFF 		bl	_ZN7daisysp6Phasor7SetFreqEf
 2115              	.LVL97:
 163:../../DaisySP//Source/Effects/pitchshifter.h ****             if(force_recalc_)
 2116              		.loc 8 163 13 is_stmt 1 view .LVU654
 163:../../DaisySP//Source/Effects/pitchshifter.h ****             if(force_recalc_)
 2117              		.loc 8 163 28 is_stmt 0 view .LVU655
 2118 0162 96ED070A 		vldr.32	s0, [r6, #28]
 2119 0166 0F48     		ldr	r0, .L52+28
 2120 0168 FFF7FEFF 		bl	_ZN7daisysp6Phasor7SetFreqEf
 2121              	.LVL98:
 164:../../DaisySP//Source/Effects/pitchshifter.h ****             {
 2122              		.loc 8 164 13 is_stmt 1 view .LVU656
 2123 016c 96F82430 		ldrb	r3, [r6, #36]	@ zero_extendqisi2
 2124 0170 13B1     		cbz	r3, .L45
 166:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 2125              		.loc 8 166 17 view .LVU657
 166:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 2126              		.loc 8 166 31 is_stmt 0 view .LVU658
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 64


 2127 0172 0023     		movs	r3, #0
 2128 0174 86F82430 		strb	r3, [r6, #36]
 2129              	.L45:
 2130              	.LVL99:
 166:../../DaisySP//Source/Effects/pitchshifter.h ****             }
 2131              		.loc 8 166 31 view .LVU659
 2132              	.LBE630:
 2133              	.LBE633:
 2134              	.LBE635:
 2135              	.LBE637:
  78:../../DaisySP//Source/Effects/pitchshifter.h ****     }
 2136              		.loc 8 78 9 is_stmt 1 view .LVU660
  78:../../DaisySP//Source/Effects/pitchshifter.h ****     }
 2137              		.loc 8 78 14 is_stmt 0 view .LVU661
 2138 0178 0023     		movs	r3, #0
 2139              	.LBE639:
 2140              	.LBE642:
  48:Intonate.cpp  **** 
  49:Intonate.cpp  **** 	hw.StartAudio(AudioCallback);
 2141              		.loc 10 49 15 view .LVU662
 2142 017a 0E49     		ldr	r1, .L52+44
 2143 017c 0248     		ldr	r0, .L52
 2144              	.LBB643:
 2145              	.LBB640:
  78:../../DaisySP//Source/Effects/pitchshifter.h ****     }
 2146              		.loc 8 78 14 view .LVU663
 2147 017e 7366     		str	r3, [r6, #100]	@ float
 2148              	.LVL100:
  78:../../DaisySP//Source/Effects/pitchshifter.h ****     }
 2149              		.loc 8 78 14 view .LVU664
 2150              	.LBE640:
 2151              	.LBE643:
 2152              		.loc 10 49 2 is_stmt 1 view .LVU665
 2153              		.loc 10 49 15 is_stmt 0 view .LVU666
 2154 0180 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM10StartAudioEPFvPKPKfPPfjE
 2155              	.LVL101:
 2156              	.L46:
  50:Intonate.cpp  **** 	while(1) {}
 2157              		.loc 10 50 2 is_stmt 1 discriminator 1 view .LVU667
 2158              		.loc 10 50 2 discriminator 1 view .LVU668
 2159              		.loc 10 50 2 discriminator 1 view .LVU669
 2160              		.loc 10 50 2 discriminator 1 view .LVU670
 2161 0184 FEE7     		b	.L46
 2162              	.L53:
 2163 0186 00BF     		.align	2
 2164              	.L52:
 2165 0188 00000000 		.word	.LANCHOR0
 2166 018c 00000200 		.word	ps+131072
 2167 0190 0000A040 		.word	1084227584
 2168 0194 00000000 		.word	ps
 2169 0198 00004842 		.word	1112014848
 2170 019c 30000200 		.word	ps+131120
 2171 01a0 18000100 		.word	ps+65560
 2172 01a4 40000200 		.word	ps+131136
 2173 01a8 DB0F4940 		.word	1078530011
 2174 01ac ABAAAAAA 		.word	-1431655765
 2175 01b0 00008038 		.word	947912704
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 65


 2176 01b4 00000000 		.word	_Z13AudioCallbackPKPKfPPfj
 2177              		.cfi_endproc
 2178              	.LFE4784:
 2180              		.section	.text.startup._GLOBAL__sub_I_hw,"ax",%progbits
 2181              		.align	1
 2182              		.p2align 2,,3
 2183              		.syntax unified
 2184              		.thumb
 2185              		.thumb_func
 2186              		.fpu fpv5-d16
 2188              	_GLOBAL__sub_I_hw:
 2189              	.LFB5344:
  51:Intonate.cpp  **** }
 2190              		.loc 10 51 1 view -0
 2191              		.cfi_startproc
 2192              		@ args = 0, pretend = 0, frame = 0
 2193              		@ frame_needed = 0, uses_anonymous_args = 0
 2194              	.LBB676:
 2195              	.LBI676:
 2196              		.loc 10 51 1 view .LVU672
 2197              	.LVL102:
 2198              	.LBB677:
 2199              	.LBB678:
 2200              	.LBI678:
  64:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
 2201              		.loc 1 64 9 view .LVU673
 2202              	.LBB679:
 2203              	.LBB680:
 2204              	.LBI680:
  77:../../libDaisy//src/sys/system.h ****     ~System() {}
 2205              		.loc 7 77 5 view .LVU674
  77:../../libDaisy//src/sys/system.h ****     ~System() {}
 2206              		.loc 7 77 5 is_stmt 0 view .LVU675
 2207              	.LBE680:
 2208              	.LBB681:
 2209              	.LBI681:
 2210              		.file 13 "../../libDaisy//src/per/qspi.h"
   1:../../libDaisy//src/per/qspi.h **** #ifndef DSY_QSPI
   2:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../../libDaisy//src/per/qspi.h **** 
   4:../../libDaisy//src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../../libDaisy//src/per/qspi.h **** 
   6:../../libDaisy//src/per/qspi.h **** #include <cstdint>
   7:../../libDaisy//src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../../libDaisy//src/per/qspi.h **** 
   9:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  10:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  11:../../libDaisy//src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  14:../../libDaisy//src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  17:../../libDaisy//src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../../libDaisy//src/per/qspi.h **** 
  19:../../libDaisy//src/per/qspi.h **** namespace daisy
  20:../../libDaisy//src/per/qspi.h **** {
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 66


  21:../../libDaisy//src/per/qspi.h **** /** @addtogroup serial
  22:../../libDaisy//src/per/qspi.h **** @{
  23:../../libDaisy//src/per/qspi.h **** */
  24:../../libDaisy//src/per/qspi.h **** 
  25:../../libDaisy//src/per/qspi.h **** /** 
  26:../../libDaisy//src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../../libDaisy//src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../../libDaisy//src/per/qspi.h ****     * IS25LP080D
  29:../../libDaisy//src/per/qspi.h **** */
  30:../../libDaisy//src/per/qspi.h **** class QSPIHandle
  31:../../libDaisy//src/per/qspi.h **** {
  32:../../libDaisy//src/per/qspi.h ****   public:
  33:../../libDaisy//src/per/qspi.h ****     enum Result
  34:../../libDaisy//src/per/qspi.h ****     {
  35:../../libDaisy//src/per/qspi.h ****         OK = 0,
  36:../../libDaisy//src/per/qspi.h ****         ERR
  37:../../libDaisy//src/per/qspi.h ****     };
  38:../../libDaisy//src/per/qspi.h **** 
  39:../../libDaisy//src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../../libDaisy//src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../../libDaisy//src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../../libDaisy//src/per/qspi.h ****          * 
  43:../../libDaisy//src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  44:../../libDaisy//src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../../libDaisy//src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../../libDaisy//src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../../libDaisy//src/per/qspi.h ****          */
  48:../../libDaisy//src/per/qspi.h ****     enum Status
  49:../../libDaisy//src/per/qspi.h ****     {
  50:../../libDaisy//src/per/qspi.h ****         GOOD = 0,
  51:../../libDaisy//src/per/qspi.h ****         E_HAL_ERROR,
  52:../../libDaisy//src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../../libDaisy//src/per/qspi.h ****         E_INVALID_MODE,
  54:../../libDaisy//src/per/qspi.h ****     };
  55:../../libDaisy//src/per/qspi.h **** 
  56:../../libDaisy//src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  57:../../libDaisy//src/per/qspi.h ****     struct Config
  58:../../libDaisy//src/per/qspi.h ****     {
  59:../../libDaisy//src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  60:../../libDaisy//src/per/qspi.h ****         enum Device
  61:../../libDaisy//src/per/qspi.h ****         {
  62:../../libDaisy//src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../../libDaisy//src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../../libDaisy//src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../../libDaisy//src/per/qspi.h ****         };
  66:../../libDaisy//src/per/qspi.h **** 
  67:../../libDaisy//src/per/qspi.h ****         /** 
  68:../../libDaisy//src/per/qspi.h ****         Modes of operation.
  69:../../libDaisy//src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../../libDaisy//src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../../libDaisy//src/per/qspi.h ****         possible in this mode. \n 
  72:../../libDaisy//src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../../libDaisy//src/per/qspi.h ****         */
  74:../../libDaisy//src/per/qspi.h ****         enum Mode
  75:../../libDaisy//src/per/qspi.h ****         {
  76:../../libDaisy//src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../../libDaisy//src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 67


  78:../../libDaisy//src/per/qspi.h ****             MODE_LAST,
  79:../../libDaisy//src/per/qspi.h ****         };
  80:../../libDaisy//src/per/qspi.h **** 
  81:../../libDaisy//src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../../libDaisy//src/per/qspi.h ****         struct
  83:../../libDaisy//src/per/qspi.h ****         {
  84:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../../libDaisy//src/per/qspi.h ****         } pin_config;
  91:../../libDaisy//src/per/qspi.h **** 
  92:../../libDaisy//src/per/qspi.h ****         Device device;
  93:../../libDaisy//src/per/qspi.h ****         Mode   mode;
  94:../../libDaisy//src/per/qspi.h ****     };
  95:../../libDaisy//src/per/qspi.h **** 
  96:../../libDaisy//src/per/qspi.h ****     /** 
  97:../../libDaisy//src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../../libDaisy//src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../../libDaisy//src/per/qspi.h ****         */
 101:../../libDaisy//src/per/qspi.h ****     Result Init(const Config& config);
 102:../../libDaisy//src/per/qspi.h **** 
 103:../../libDaisy//src/per/qspi.h ****     /** Returns the current config. */
 104:../../libDaisy//src/per/qspi.h ****     const Config& GetConfig() const;
 105:../../libDaisy//src/per/qspi.h **** 
 106:../../libDaisy//src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 107:../../libDaisy//src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../../libDaisy//src/per/qspi.h ****     /** 
 109:../../libDaisy//src/per/qspi.h ****         Deinitializes the peripheral
 110:../../libDaisy//src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 112:../../libDaisy//src/per/qspi.h ****         */
 113:../../libDaisy//src/per/qspi.h ****     Result DeInit();
 114:../../libDaisy//src/per/qspi.h **** 
 115:../../libDaisy//src/per/qspi.h ****     /** 
 116:../../libDaisy//src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 117:../../libDaisy//src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 119:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 120:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 121:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../../libDaisy//src/per/qspi.h ****         */
 123:../../libDaisy//src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 124:../../libDaisy//src/per/qspi.h **** 
 125:../../libDaisy//src/per/qspi.h ****     /** 
 126:../../libDaisy//src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 128:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 129:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 130:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../../libDaisy//src/per/qspi.h ****         */
 132:../../libDaisy//src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../../libDaisy//src/per/qspi.h **** 
 134:../../libDaisy//src/per/qspi.h ****     /** 
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 68


 135:../../libDaisy//src/per/qspi.h ****         Erases the area specified on the chip.
 136:../../libDaisy//src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../../libDaisy//src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../../libDaisy//src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../../libDaisy//src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../../libDaisy//src/per/qspi.h ****         */
 142:../../libDaisy//src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../../libDaisy//src/per/qspi.h **** 
 144:../../libDaisy//src/per/qspi.h ****     /**  
 145:../../libDaisy//src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../../libDaisy//src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../../libDaisy//src/per/qspi.h ****         \param address Address of sector to erase
 148:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 149:../../libDaisy//src/per/qspi.h ****         */
 150:../../libDaisy//src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../../libDaisy//src/per/qspi.h **** 
 152:../../libDaisy//src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../../libDaisy//src/per/qspi.h ****      *  \returns Status
 154:../../libDaisy//src/per/qspi.h ****      */
 155:../../libDaisy//src/per/qspi.h ****     Status GetStatus();
 156:../../libDaisy//src/per/qspi.h **** 
 157:../../libDaisy//src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 158:../../libDaisy//src/per/qspi.h ****      *  The memory at this address is read-only
 159:../../libDaisy//src/per/qspi.h ****      *  to write to it use the Write function.
 160:../../libDaisy//src/per/qspi.h ****      * 
 161:../../libDaisy//src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../../libDaisy//src/per/qspi.h ****      *                many bytes into the memory
 163:../../libDaisy//src/per/qspi.h ****     */
 164:../../libDaisy//src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../../libDaisy//src/per/qspi.h **** 
 166:../../libDaisy//src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 2211              		.loc 13 166 5 is_stmt 1 view .LVU676
 2212              	.LBE681:
 2213              	.LBE679:
 2214              	.LBE678:
 2215              	.LBE677:
 2216              	.LBE676:
 2217              		.loc 10 51 1 is_stmt 0 view .LVU677
 2218 0000 08B5     		push	{r3, lr}
 2219              		.cfi_def_cfa_offset 8
 2220              		.cfi_offset 3, -8
 2221              		.cfi_offset 14, -4
 2222              	.LBB715:
 2223              	.LBB711:
 2224              	.LBB707:
 2225              	.LBB704:
 2226              	.LBB684:
 2227              	.LBB682:
 2228              	.LBB683:
 2229              		.loc 13 166 34 view .LVU678
 2230 0002 0848     		ldr	r0, .L56
 2231 0004 0023     		movs	r3, #0
 2232              	.LBE683:
 2233              	.LBE682:
 2234              	.LBE684:
 2235              	.LBE704:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 69


 2236              	.LBE707:
   8:Intonate.cpp  **** PitchShifter	ps;
 2237              		.loc 10 8 15 view .LVU679
 2238 0006 084A     		ldr	r2, .L56+4
 2239 0008 0849     		ldr	r1, .L56+8
 2240              	.LBB708:
 2241              	.LBB705:
 2242              	.LBB685:
 2243              	.LBB686:
 2244              	.LBB687:
 2245              	.LBB688:
 2246              	.LBB689:
 2247              		.file 14 "../../libDaisy//src/per/i2c.h"
   1:../../libDaisy//src/per/i2c.h **** #pragma once
   2:../../libDaisy//src/per/i2c.h **** #include "daisy_core.h"
   3:../../libDaisy//src/per/i2c.h **** 
   4:../../libDaisy//src/per/i2c.h **** namespace daisy
   5:../../libDaisy//src/per/i2c.h **** {
   6:../../libDaisy//src/per/i2c.h **** /** A handle for interacting with an I2C peripheral. This is a dumb
   7:../../libDaisy//src/per/i2c.h ****  *  gateway that internally points to one of the four I2C peripherals
   8:../../libDaisy//src/per/i2c.h ****  *  after it was initialised. It can then be copied and passed around.
   9:../../libDaisy//src/per/i2c.h ****  *  Use an I2CHandle like this:
  10:../../libDaisy//src/per/i2c.h ****  *  
  11:../../libDaisy//src/per/i2c.h ****  *      // setup the configuration
  12:../../libDaisy//src/per/i2c.h ****  *      I2CHandle::Config i2c_conf;
  13:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.periph = I2CHandle::Config::Peripheral::I2C_1;
  14:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.speed  = I2CHandle::Config::Speed::I2C_400KHZ;
  15:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.mode   = I2CHandle::Config::Mode::Master;
  16:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.pin_config.scl  = {DSY_GPIOB, 8};
  17:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.pin_config.sda  = {DSY_GPIOB, 9};
  18:../../libDaisy//src/per/i2c.h ****  *      // initialise the peripheral
  19:../../libDaisy//src/per/i2c.h ****  *      I2CHandle i2c;
  20:../../libDaisy//src/per/i2c.h ****  *      i2c.Init(i2c_conf);
  21:../../libDaisy//src/per/i2c.h ****  *      // now i2c points to the corresponding peripheral and can be used.
  22:../../libDaisy//src/per/i2c.h ****  *      i2c.TransmitBlocking( ... );
  23:../../libDaisy//src/per/i2c.h ****  */
  24:../../libDaisy//src/per/i2c.h **** class I2CHandle
  25:../../libDaisy//src/per/i2c.h **** {
  26:../../libDaisy//src/per/i2c.h ****   public:
  27:../../libDaisy//src/per/i2c.h ****     /** Contains settings for initialising an I2C interface. */
  28:../../libDaisy//src/per/i2c.h ****     struct Config
  29:../../libDaisy//src/per/i2c.h ****     {
  30:../../libDaisy//src/per/i2c.h ****         /** Specifies whether the interface will operate in master or slave mode. */
  31:../../libDaisy//src/per/i2c.h ****         enum class Mode
  32:../../libDaisy//src/per/i2c.h ****         {
  33:../../libDaisy//src/per/i2c.h ****             I2C_MASTER,
  34:../../libDaisy//src/per/i2c.h ****             I2C_SLAVE,
  35:../../libDaisy//src/per/i2c.h ****         };
  36:../../libDaisy//src/per/i2c.h **** 
  37:../../libDaisy//src/per/i2c.h ****         /** Specifices the internal peripheral to use (these are mapped to different pins on the ha
  38:../../libDaisy//src/per/i2c.h ****         enum class Peripheral
  39:../../libDaisy//src/per/i2c.h ****         {
  40:../../libDaisy//src/per/i2c.h ****             I2C_1 = 0, /**< & */
  41:../../libDaisy//src/per/i2c.h ****             I2C_2,     /**< & */
  42:../../libDaisy//src/per/i2c.h ****             I2C_3,     /**< & */
  43:../../libDaisy//src/per/i2c.h ****             I2C_4,     /**< & */
  44:../../libDaisy//src/per/i2c.h ****         };
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 70


  45:../../libDaisy//src/per/i2c.h **** 
  46:../../libDaisy//src/per/i2c.h ****         /** Rate at which the clock/data will be sent/received. The device being used will have max
  47:../../libDaisy//src/per/i2c.h ****          *  1MHZ Mode is currently 886kHz
  48:../../libDaisy//src/per/i2c.h ****          */
  49:../../libDaisy//src/per/i2c.h ****         enum class Speed
  50:../../libDaisy//src/per/i2c.h ****         {
  51:../../libDaisy//src/per/i2c.h ****             I2C_100KHZ, /**< & */
  52:../../libDaisy//src/per/i2c.h ****             I2C_400KHZ, /**< & */
  53:../../libDaisy//src/per/i2c.h ****             I2C_1MHZ,   /**< & */
  54:../../libDaisy//src/per/i2c.h ****         };
  55:../../libDaisy//src/per/i2c.h **** 
  56:../../libDaisy//src/per/i2c.h ****         Peripheral periph; /**< & */
  57:../../libDaisy//src/per/i2c.h ****         struct
  58:../../libDaisy//src/per/i2c.h ****         {
  59:../../libDaisy//src/per/i2c.h ****             dsy_gpio_pin scl; /**< & */
  60:../../libDaisy//src/per/i2c.h ****             dsy_gpio_pin sda; /**< & */
  61:../../libDaisy//src/per/i2c.h ****         } pin_config;         /**< & */
  62:../../libDaisy//src/per/i2c.h **** 
  63:../../libDaisy//src/per/i2c.h ****         Speed speed; /**< & */
  64:../../libDaisy//src/per/i2c.h ****         Mode  mode;  /**< & */
  65:../../libDaisy//src/per/i2c.h ****         // 0x10 is chosen as a default to avoid conflicts with reserved addresses
  66:../../libDaisy//src/per/i2c.h ****         uint8_t address = 0x10; /**< & */
  67:../../libDaisy//src/per/i2c.h ****     };
  68:../../libDaisy//src/per/i2c.h **** 
  69:../../libDaisy//src/per/i2c.h ****     /** Return values for I2C functions. */
  70:../../libDaisy//src/per/i2c.h ****     enum class Result
  71:../../libDaisy//src/per/i2c.h ****     {
  72:../../libDaisy//src/per/i2c.h ****         OK, /**< & */
  73:../../libDaisy//src/per/i2c.h ****         ERR /**< & */
  74:../../libDaisy//src/per/i2c.h ****     };
  75:../../libDaisy//src/per/i2c.h **** 
  76:../../libDaisy//src/per/i2c.h ****     enum class Direction
  77:../../libDaisy//src/per/i2c.h ****     {
  78:../../libDaisy//src/per/i2c.h ****         TRANSMIT, /**< & */
  79:../../libDaisy//src/per/i2c.h ****         RECEIVE,  /**< & */
  80:../../libDaisy//src/per/i2c.h ****     };
  81:../../libDaisy//src/per/i2c.h **** 
  82:../../libDaisy//src/per/i2c.h ****     I2CHandle() : pimpl_(nullptr) {}
 2248              		.loc 14 82 33 view .LVU680
 2249 000a 0362     		str	r3, [r0, #32]
 2250              	.LBE689:
 2251              	.LBE688:
 2252              	.LBE687:
 2253              	.LBE686:
 2254              	.LBE685:
 2255              	.LBB692:
 2256              	.LBB693:
 2257              	.LBB694:
 2258              		.file 15 "../../libDaisy//src/per/dac.h"
   1:../../libDaisy//src/per/dac.h **** #pragma once
   2:../../libDaisy//src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../libDaisy//src/per/dac.h **** #define DSY_DAC_H
   4:../../libDaisy//src/per/dac.h **** 
   5:../../libDaisy//src/per/dac.h **** #include "daisy_core.h"
   6:../../libDaisy//src/per/dac.h **** 
   7:../../libDaisy//src/per/dac.h **** namespace daisy
   8:../../libDaisy//src/per/dac.h **** {
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 71


   9:../../libDaisy//src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../../libDaisy//src/per/dac.h ****  *  @ingroup per_analog
  11:../../libDaisy//src/per/dac.h ****  ** 
  12:../../libDaisy//src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../../libDaisy//src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../../libDaisy//src/per/dac.h ****  **
  15:../../libDaisy//src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../../libDaisy//src/per/dac.h ****  **
  17:../../libDaisy//src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../../libDaisy//src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../../libDaisy//src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../../libDaisy//src/per/dac.h ****  ***/
  21:../../libDaisy//src/per/dac.h **** class DacHandle
  22:../../libDaisy//src/per/dac.h **** {
  23:../../libDaisy//src/per/dac.h ****   public:
  24:../../libDaisy//src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../../libDaisy//src/per/dac.h ****     enum class Result
  26:../../libDaisy//src/per/dac.h ****     {
  27:../../libDaisy//src/per/dac.h ****         OK,
  28:../../libDaisy//src/per/dac.h ****         ERR,
  29:../../libDaisy//src/per/dac.h ****     };
  30:../../libDaisy//src/per/dac.h **** 
  31:../../libDaisy//src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../../libDaisy//src/per/dac.h ****     enum class Channel
  33:../../libDaisy//src/per/dac.h ****     {
  34:../../libDaisy//src/per/dac.h ****         ONE,
  35:../../libDaisy//src/per/dac.h ****         TWO,
  36:../../libDaisy//src/per/dac.h ****         BOTH,
  37:../../libDaisy//src/per/dac.h ****     };
  38:../../libDaisy//src/per/dac.h **** 
  39:../../libDaisy//src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../../libDaisy//src/per/dac.h ****      **
  41:../../libDaisy//src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../../libDaisy//src/per/dac.h ****      **
  43:../../libDaisy//src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../../libDaisy//src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../../libDaisy//src/per/dac.h ****      ***/
  46:../../libDaisy//src/per/dac.h ****     enum class Mode
  47:../../libDaisy//src/per/dac.h ****     {
  48:../../libDaisy//src/per/dac.h ****         POLLING,
  49:../../libDaisy//src/per/dac.h ****         DMA,
  50:../../libDaisy//src/per/dac.h ****     };
  51:../../libDaisy//src/per/dac.h **** 
  52:../../libDaisy//src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../../libDaisy//src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../../libDaisy//src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../../libDaisy//src/per/dac.h ****      ***/
  56:../../libDaisy//src/per/dac.h ****     enum class BitDepth
  57:../../libDaisy//src/per/dac.h ****     {
  58:../../libDaisy//src/per/dac.h ****         BITS_8,
  59:../../libDaisy//src/per/dac.h ****         BITS_12
  60:../../libDaisy//src/per/dac.h ****     };
  61:../../libDaisy//src/per/dac.h **** 
  62:../../libDaisy//src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../../libDaisy//src/per/dac.h ****     enum class BufferState
  64:../../libDaisy//src/per/dac.h ****     {
  65:../../libDaisy//src/per/dac.h ****         ENABLED,
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 72


  66:../../libDaisy//src/per/dac.h ****         DISABLED,
  67:../../libDaisy//src/per/dac.h ****     };
  68:../../libDaisy//src/per/dac.h **** 
  69:../../libDaisy//src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../../libDaisy//src/per/dac.h ****     struct Config
  71:../../libDaisy//src/per/dac.h ****     {
  72:../../libDaisy//src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../../libDaisy//src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../../libDaisy//src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../../libDaisy//src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../../libDaisy//src/per/dac.h ****         uint32_t target_samplerate;
  77:../../libDaisy//src/per/dac.h **** 
  78:../../libDaisy//src/per/dac.h ****         Channel     chn;
  79:../../libDaisy//src/per/dac.h ****         Mode        mode;
  80:../../libDaisy//src/per/dac.h ****         BitDepth    bitdepth;
  81:../../libDaisy//src/per/dac.h ****         BufferState buff_state;
  82:../../libDaisy//src/per/dac.h ****     };
  83:../../libDaisy//src/per/dac.h **** 
  84:../../libDaisy//src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 2259              		.loc 15 84 33 view .LVU681
 2260 000c 8362     		str	r3, [r0, #40]
 2261              	.LBE694:
 2262              	.LBE693:
 2263              	.LBE692:
 2264              	.LBB695:
 2265              	.LBB696:
 2266              	.LBB697:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 2267              		.loc 6 95 35 view .LVU682
 2268 000e C0E90333 		strd	r3, r3, [r0, #12]
 2269              	.LVL103:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 2270              		.loc 6 95 35 view .LVU683
 2271              	.LBE697:
 2272              	.LBE696:
 2273              	.LBE695:
 2274              	.LBB698:
 2275              	.LBI698:
  92:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 2276              		.loc 5 92 5 is_stmt 1 view .LVU684
  92:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 2277              		.loc 5 92 5 is_stmt 0 view .LVU685
 2278              	.LBE698:
 2279              	.LBB699:
 2280              	.LBI699:
  40:../../libDaisy//src/hid/usb.h **** 
 2281              		.loc 4 40 5 is_stmt 1 view .LVU686
  40:../../libDaisy//src/hid/usb.h **** 
 2282              		.loc 4 40 5 is_stmt 0 view .LVU687
 2283              	.LBE699:
 2284              	.LBB700:
 2285              	.LBI685:
  28:../../libDaisy//src/dev/codec_pcm3060.h ****     ~Pcm3060() {}
 2286              		.loc 3 28 5 is_stmt 1 view .LVU688
 2287              	.LBB691:
 2288              	.LBB690:
 2289              	.LBI687:
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 73


 2290              		.loc 14 82 5 view .LVU689
 2291              		.loc 14 82 5 is_stmt 0 view .LVU690
 2292              	.LBE690:
 2293              	.LBE691:
 2294              	.LBE700:
 2295              	.LBB701:
 2296              	.LBI692:
 2297              		.loc 15 84 5 is_stmt 1 view .LVU691
 2298              		.loc 15 84 5 is_stmt 0 view .LVU692
 2299              	.LBE701:
 2300              	.LBE705:
 2301              	.LBE708:
 2302              	.LBE711:
 2303              	.LBE715:
  64:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
 2304              		.loc 1 64 24 is_stmt 1 view .LVU693
 2305              	.LBB716:
 2306              	.LBB712:
 2307              	.LBB709:
 2308              	.LBB706:
 2309              	.LBB702:
 2310              	.LBI702:
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 2311              		.loc 2 20 5 view .LVU694
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 2312              		.loc 2 20 5 is_stmt 0 view .LVU695
 2313              	.LBE702:
 2314              	.LBB703:
 2315              	.LBI703:
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 2316              		.loc 2 20 5 is_stmt 1 view .LVU696
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 2317              		.loc 2 20 5 is_stmt 0 view .LVU697
 2318              	.LBE703:
 2319              	.LBE706:
 2320              	.LBE709:
   8:Intonate.cpp  **** PitchShifter	ps;
 2321              		.loc 10 8 15 view .LVU698
 2322 0012 FFF7FEFF 		bl	__aeabi_atexit
 2323              	.LVL104:
 2324              	.LBB710:
 2325              	.LBI710:
  59:../../DaisySP//Source/Effects/pitchshifter.h ****     ~PitchShifter() {}
 2326              		.loc 8 59 5 is_stmt 1 view .LVU699
 2327              	.LBE710:
 2328              	.LBE712:
 2329              	.LBE716:
  59:../../DaisySP//Source/Effects/pitchshifter.h ****     ~PitchShifter() {}
 2330              		.loc 8 59 20 view .LVU700
  59:../../DaisySP//Source/Effects/pitchshifter.h ****     ~PitchShifter() {}
 2331              		.loc 8 59 20 view .LVU701
 2332              	.LBB717:
 2333              	.LBB713:
   9:Intonate.cpp  **** 
 2334              		.loc 10 9 14 is_stmt 0 view .LVU702
 2335 0016 044A     		ldr	r2, .L56+4
 2336 0018 0549     		ldr	r1, .L56+12
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 74


 2337 001a 0648     		ldr	r0, .L56+16
 2338              	.LBE713:
 2339              	.LBE717:
 2340              		.loc 10 51 1 view .LVU703
 2341 001c BDE80840 		pop	{r3, lr}
 2342              		.cfi_restore 14
 2343              		.cfi_restore 3
 2344              		.cfi_def_cfa_offset 0
 2345              	.LBB718:
 2346              	.LBB714:
   9:Intonate.cpp  **** 
 2347              		.loc 10 9 14 view .LVU704
 2348 0020 FFF7FEBF 		b	__aeabi_atexit
 2349              	.LVL105:
 2350              	.L57:
 2351              		.align	2
 2352              	.L56:
 2353 0024 00000000 		.word	.LANCHOR0
 2354 0028 00000000 		.word	__dso_handle
 2355 002c 00000000 		.word	_ZN5daisy8patch_sm12DaisyPatchSMD1Ev
 2356 0030 00000000 		.word	_ZN7daisysp12PitchShifterD1Ev
 2357 0034 00000000 		.word	ps
 2358              	.LBE714:
 2359              	.LBE718:
 2360              		.cfi_endproc
 2361              	.LFE5344:
 2363              		.section	.init_array,"aw",%init_array
 2364              		.align	2
 2365 0000 00000000 		.word	_GLOBAL__sub_I_hw(target1)
 2366              		.global	ps
 2367              		.global	hw
 2368              		.weak	_ZZN7daisysp6myrandEvE4seed
 2369              		.section	.data._ZZN7daisysp6myrandEvE4seed,"awG",%progbits,_ZZN7daisysp6myrandEvE4seed,comdat
 2370              		.align	2
 2373              	_ZZN7daisysp6myrandEvE4seed:
 2374 0000 01000000 		.word	1
 2375              		.section	.bss.hw,"aw",%nobits
 2376              		.align	2
 2377              		.set	.LANCHOR0,. + 0
 2380              	hw:
 2381 0000 00000000 		.space	464
 2381      00000000 
 2381      00000000 
 2381      00000000 
 2381      00000000 
 2382              		.section	.bss.ps,"aw",%nobits
 2383              		.align	2
 2386              	ps:
 2387 0000 00000000 		.space	131256
 2387      00000000 
 2387      00000000 
 2387      00000000 
 2387      00000000 
 2388              		.text
 2389              	.Letext0:
 2390              		.file 16 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2391              		.file 17 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 75


 2392              		.file 18 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2393              		.file 19 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2394              		.file 20 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2395              		.file 21 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2396              		.file 22 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2397              		.file 23 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2398              		.file 24 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2399              		.file 25 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2400              		.file 26 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2401              		.file 27 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2402              		.file 28 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2403              		.file 29 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2404              		.file 30 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2405              		.file 31 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2406              		.file 32 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2407              		.file 33 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2408              		.file 34 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2409              		.file 35 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2410              		.file 36 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2411              		.file 37 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2412              		.file 38 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2413              		.file 39 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2414              		.file 40 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2415              		.file 41 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2416              		.file 42 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2417              		.file 43 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2418              		.file 44 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2419              		.file 45 "../../libDaisy//src/daisy_core.h"
 2420              		.file 46 "../../libDaisy//src/per/tim.h"
 2421              		.file 47 "../../libDaisy//src/per/sai.h"
 2422              		.file 48 "../../libDaisy//src/hid/ctrl.h"
 2423              		.file 49 "../../libDaisy//src/util/wav_format.h"
 2424              		.file 50 "../../libDaisy//src/dev/max11300.h"
 2425              		.file 51 "../../libDaisy//src/per/gpio.h"
 2426              		.file 52 "../../libDaisy//src/dev/sdram.h"
 2427              		.file 53 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2428              		.file 54 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2429              		.file 55 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2430              		.file 56 "../../DaisySP//Source/Control/adenv.h"
 2431              		.file 57 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2432              		.file 58 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-
 2433              		.file 59 "../../libDaisy//src/dev/sr_595.h"
 2434              		.file 60 "<built-in>"
ARM GAS  C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s 			page 76


DEFINED SYMBOLS
                            *ABS*:00000000 Intonate.cpp
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:17     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:00000000 $t
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:26     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:00000000 _ZN5daisy8patch_sm12DaisyPatchSMD2Ev
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:26     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:00000000 _ZN5daisy8patch_sm12DaisyPatchSMD1Ev
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:84     .text._ZN7daisysp12PitchShifterD2Ev:00000000 $t
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:92     .text._ZN7daisysp12PitchShifterD2Ev:00000000 _ZN7daisysp12PitchShifterD2Ev
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:92     .text._ZN7daisysp12PitchShifterD2Ev:00000000 _ZN7daisysp12PitchShifterD1Ev
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:109    .text._ZN7daisysp12PitchShifter7ProcessERf:00000000 $t
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:117    .text._ZN7daisysp12PitchShifter7ProcessERf:00000000 _ZN7daisysp12PitchShifter7ProcessERf
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:906    .text._ZN7daisysp12PitchShifter7ProcessERf:000002a4 $d
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2373   .data._ZZN7daisysp6myrandEvE4seed:00000000 _ZZN7daisysp6myrandEvE4seed
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:919    .text._Z13AudioCallbackPKPKfPPfj:00000000 $t
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:927    .text._Z13AudioCallbackPKPKfPPfj:00000000 _Z13AudioCallbackPKPKfPPfj
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:1670   .text._Z13AudioCallbackPKPKfPPfj:0000027c $d
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2386   .bss.ps:00000000 ps
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:1686   .text.startup.main:00000000 $t
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:1694   .text.startup.main:00000000 main
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2165   .text.startup.main:00000188 $d
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2181   .text.startup._GLOBAL__sub_I_hw:00000000 $t
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2188   .text.startup._GLOBAL__sub_I_hw:00000000 _GLOBAL__sub_I_hw
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2353   .text.startup._GLOBAL__sub_I_hw:00000024 $d
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2364   .init_array:00000000 $d
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2380   .bss.hw:00000000 hw
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2370   .data._ZZN7daisysp6myrandEvE4seed:00000000 $d
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2376   .bss.hw:00000000 $d
C:\Users\daniel\AppData\Local\Temp\ccRtNO3L.s:2383   .bss.ps:00000000 $d
                           .group:00000000 _ZN5daisy8patch_sm12DaisyPatchSMD5Ev
                           .group:00000000 _ZN7daisysp12PitchShifterD5Ev

UNDEFINED SYMBOLS
_ZN7daisysp6Phasor7ProcessEv
sinf
_ZN5daisy8patch_sm12DaisyPatchSM21ProcessAnalogControlsEv
_ZN5daisy8patch_sm12DaisyPatchSM22ProcessDigitalControlsEv
_ZN5daisy8patch_sm12DaisyPatchSM11GetAdcValueEi
_ZN7daisysp6Phasor7SetFreqEf
_ZN5daisy8patch_sm12DaisyPatchSM4InitEv
_ZN5daisy8patch_sm12DaisyPatchSM17SetAudioBlockSizeEj
_ZN5daisy8patch_sm12DaisyPatchSM18SetAudioSampleRateENS_9SaiHandle6Config10SampleRateE
_ZN5daisy8patch_sm12DaisyPatchSM15AudioSampleRateEv
powf
memset
_ZN5daisy8patch_sm12DaisyPatchSM10StartAudioEPFvPKPKfPPfjE
__aeabi_atexit
__dso_handle
