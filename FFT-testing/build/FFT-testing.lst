ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 2
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"FFT-testing.cpp"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev,"axG",%progbits,_ZN5daisy8patch_sm12DaisyPatch
  17              		.align	1
  18              		.p2align 2,,3
  19              		.weak	_ZN5daisy8patch_sm12DaisyPatchSMD2Ev
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-d16
  26              	_ZN5daisy8patch_sm12DaisyPatchSMD2Ev:
  27              	.LVL0:
  28              	.LFB2529:
  29              		.file 1 "../../libDaisy//src/daisy_patch_sm.h"
   1:../../libDaisy//src/daisy_patch_sm.h **** #pragma once
   2:../../libDaisy//src/daisy_patch_sm.h **** 
   3:../../libDaisy//src/daisy_patch_sm.h **** #include "daisy.h"
   4:../../libDaisy//src/daisy_patch_sm.h **** 
   5:../../libDaisy//src/daisy_patch_sm.h **** namespace daisy
   6:../../libDaisy//src/daisy_patch_sm.h **** {
   7:../../libDaisy//src/daisy_patch_sm.h **** namespace patch_sm
   8:../../libDaisy//src/daisy_patch_sm.h **** {
   9:../../libDaisy//src/daisy_patch_sm.h ****     /** Accessors for the Analog Controls. 
  10:../../libDaisy//src/daisy_patch_sm.h ****      *  These cover the 8x Bipolar CV inputs
  11:../../libDaisy//src/daisy_patch_sm.h ****      *  as well as the 4x 0-3V3 ADC inputs on
  12:../../libDaisy//src/daisy_patch_sm.h ****      *  the hardware 
  13:../../libDaisy//src/daisy_patch_sm.h ****      * 
  14:../../libDaisy//src/daisy_patch_sm.h ****      *  When reading a value with DaisyPatchSM::GetAdcValue()
  15:../../libDaisy//src/daisy_patch_sm.h ****      * 
  16:../../libDaisy//src/daisy_patch_sm.h ****      *  patch.GetAdcValue(patch_sm::CV_1);
  17:../../libDaisy//src/daisy_patch_sm.h ****      */
  18:../../libDaisy//src/daisy_patch_sm.h ****     enum
  19:../../libDaisy//src/daisy_patch_sm.h ****     {
  20:../../libDaisy//src/daisy_patch_sm.h ****         CV_1 = 0,
  21:../../libDaisy//src/daisy_patch_sm.h ****         CV_2,
  22:../../libDaisy//src/daisy_patch_sm.h ****         CV_3,
  23:../../libDaisy//src/daisy_patch_sm.h ****         CV_4,
  24:../../libDaisy//src/daisy_patch_sm.h ****         CV_5,
  25:../../libDaisy//src/daisy_patch_sm.h ****         CV_6,
  26:../../libDaisy//src/daisy_patch_sm.h ****         CV_7,
  27:../../libDaisy//src/daisy_patch_sm.h ****         CV_8,
  28:../../libDaisy//src/daisy_patch_sm.h ****         ADC_9,
  29:../../libDaisy//src/daisy_patch_sm.h ****         ADC_10,
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 2


  30:../../libDaisy//src/daisy_patch_sm.h ****         ADC_11,
  31:../../libDaisy//src/daisy_patch_sm.h ****         ADC_12,
  32:../../libDaisy//src/daisy_patch_sm.h ****         ADC_LAST,
  33:../../libDaisy//src/daisy_patch_sm.h ****     };
  34:../../libDaisy//src/daisy_patch_sm.h **** 
  35:../../libDaisy//src/daisy_patch_sm.h ****     /** Enum for addressing the CV Outputs via the WriteCvOut function. */
  36:../../libDaisy//src/daisy_patch_sm.h ****     enum
  37:../../libDaisy//src/daisy_patch_sm.h ****     {
  38:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_BOTH = 0,
  39:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_1,
  40:../../libDaisy//src/daisy_patch_sm.h ****         CV_OUT_2,
  41:../../libDaisy//src/daisy_patch_sm.h ****     };
  42:../../libDaisy//src/daisy_patch_sm.h **** 
  43:../../libDaisy//src/daisy_patch_sm.h **** 
  44:../../libDaisy//src/daisy_patch_sm.h ****     /** @brief Board support file for DaisyPatchSM hardware
  45:../../libDaisy//src/daisy_patch_sm.h ****      *  @author shensley
  46:../../libDaisy//src/daisy_patch_sm.h ****      *  @ingroup boards
  47:../../libDaisy//src/daisy_patch_sm.h ****      * 
  48:../../libDaisy//src/daisy_patch_sm.h ****      *  Daisy Patch SM is a complete Eurorack module DSP engine.
  49:../../libDaisy//src/daisy_patch_sm.h ****      *  Based on the Daisy Seed, with circuits added for 
  50:../../libDaisy//src/daisy_patch_sm.h ****      *  interfacing directly with eurorack modular synthesizers.
  51:../../libDaisy//src/daisy_patch_sm.h ****      */
  52:../../libDaisy//src/daisy_patch_sm.h ****     class DaisyPatchSM
  53:../../libDaisy//src/daisy_patch_sm.h ****     {
  54:../../libDaisy//src/daisy_patch_sm.h ****       public:
  55:../../libDaisy//src/daisy_patch_sm.h ****         /** Helper for mapping pins, and accessing them using the `GetPin` function */
  56:../../libDaisy//src/daisy_patch_sm.h ****         enum class PinBank
  57:../../libDaisy//src/daisy_patch_sm.h ****         {
  58:../../libDaisy//src/daisy_patch_sm.h ****             A,
  59:../../libDaisy//src/daisy_patch_sm.h ****             B,
  60:../../libDaisy//src/daisy_patch_sm.h ****             C,
  61:../../libDaisy//src/daisy_patch_sm.h ****             D
  62:../../libDaisy//src/daisy_patch_sm.h ****         };
  63:../../libDaisy//src/daisy_patch_sm.h **** 
  64:../../libDaisy//src/daisy_patch_sm.h ****         DaisyPatchSM() {}
  65:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
  30              		.loc 1 65 9 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              	.LBB120:
  36              	.LBI120:
  37              		.file 2 "../../libDaisy//src/hid/gatein.h"
   1:../../libDaisy//src/hid/gatein.h **** #pragma once
   2:../../libDaisy//src/hid/gatein.h **** #ifndef DSY_GATEIN_H
   3:../../libDaisy//src/hid/gatein.h **** #define DSY_GATEIN_H
   4:../../libDaisy//src/hid/gatein.h **** #include "per/gpio.h"
   5:../../libDaisy//src/hid/gatein.h **** 
   6:../../libDaisy//src/hid/gatein.h **** namespace daisy
   7:../../libDaisy//src/hid/gatein.h **** {
   8:../../libDaisy//src/hid/gatein.h **** /**
   9:../../libDaisy//src/hid/gatein.h ****    @brief Generic Class for handling gate inputs through GPIO.
  10:../../libDaisy//src/hid/gatein.h ****    @author Stephen Hensley
  11:../../libDaisy//src/hid/gatein.h ****    @date    March 2020
  12:../../libDaisy//src/hid/gatein.h ****    @ingroup controls
  13:../../libDaisy//src/hid/gatein.h **** */
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 3


  14:../../libDaisy//src/hid/gatein.h **** class GateIn
  15:../../libDaisy//src/hid/gatein.h **** {
  16:../../libDaisy//src/hid/gatein.h ****   public:
  17:../../libDaisy//src/hid/gatein.h ****     /** GateIn 
  18:../../libDaisy//src/hid/gatein.h ****     Constructor 
  19:../../libDaisy//src/hid/gatein.h ****     */
  20:../../libDaisy//src/hid/gatein.h ****     GateIn() {}
  21:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
  22:../../libDaisy//src/hid/gatein.h ****     Destructor 
  23:../../libDaisy//src/hid/gatein.h ****     */
  24:../../libDaisy//src/hid/gatein.h ****     ~GateIn() {}
  38              		.loc 2 24 5 view .LVU1
  39              		.loc 2 24 5 is_stmt 0 view .LVU2
  40              	.LBE120:
  41              	.LBB121:
  42              	.LBI121:
  43              		.loc 2 24 5 is_stmt 1 view .LVU3
  44              		.loc 2 24 5 is_stmt 0 view .LVU4
  45              	.LBE121:
  46              	.LBB122:
  47              	.LBI122:
  48              		.file 3 "../../libDaisy//src/dev/codec_pcm3060.h"
   1:../../libDaisy//src/dev/codec_pcm3060.h **** #pragma once
   2:../../libDaisy//src/dev/codec_pcm3060.h **** #ifndef DSY_CODEC_PCM3060_H
   3:../../libDaisy//src/dev/codec_pcm3060.h **** #define DSY_CODEC_PCM3060_H
   4:../../libDaisy//src/dev/codec_pcm3060.h **** #include "per/i2c.h"
   5:../../libDaisy//src/dev/codec_pcm3060.h **** namespace daisy
   6:../../libDaisy//src/dev/codec_pcm3060.h **** {
   7:../../libDaisy//src/dev/codec_pcm3060.h **** /**
   8:../../libDaisy//src/dev/codec_pcm3060.h ****  * @brief Driver for the TI PCM3060 Audio Codec.
   9:../../libDaisy//src/dev/codec_pcm3060.h ****  * @addtogroup codec
  10:../../libDaisy//src/dev/codec_pcm3060.h ****  * 
  11:../../libDaisy//src/dev/codec_pcm3060.h ****  * For now this is a limited interface that uses I2C to communicate with the PCM3060
  12:../../libDaisy//src/dev/codec_pcm3060.h ****  * The device can also be accessed with SPI, which is not yet supported.
  13:../../libDaisy//src/dev/codec_pcm3060.h ****  * 
  14:../../libDaisy//src/dev/codec_pcm3060.h ****  * For now all registers are set to their defaults, and the Init function will 
  15:../../libDaisy//src/dev/codec_pcm3060.h ****  * perform a MRST and SRST before setting the format to 24bit LJ, and disabling 
  16:../../libDaisy//src/dev/codec_pcm3060.h ****  * power save for both the ADC and DAC.
  17:../../libDaisy//src/dev/codec_pcm3060.h ****  *
  18:../../libDaisy//src/dev/codec_pcm3060.h ****  */
  19:../../libDaisy//src/dev/codec_pcm3060.h **** class Pcm3060
  20:../../libDaisy//src/dev/codec_pcm3060.h **** {
  21:../../libDaisy//src/dev/codec_pcm3060.h ****   public:
  22:../../libDaisy//src/dev/codec_pcm3060.h ****     enum class Result
  23:../../libDaisy//src/dev/codec_pcm3060.h ****     {
  24:../../libDaisy//src/dev/codec_pcm3060.h ****         OK,
  25:../../libDaisy//src/dev/codec_pcm3060.h ****         ERR,
  26:../../libDaisy//src/dev/codec_pcm3060.h ****     };
  27:../../libDaisy//src/dev/codec_pcm3060.h **** 
  28:../../libDaisy//src/dev/codec_pcm3060.h ****     Pcm3060() {}
  29:../../libDaisy//src/dev/codec_pcm3060.h ****     ~Pcm3060() {}
  49              		.loc 3 29 5 is_stmt 1 view .LVU5
  50              		.loc 3 29 5 is_stmt 0 view .LVU6
  51              	.LBE122:
  52              	.LBB123:
  53              	.LBI123:
  54              		.file 4 "../../libDaisy//src/hid/usb.h"
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 4


   1:../../libDaisy//src/hid/usb.h **** #pragma once
   2:../../libDaisy//src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../libDaisy//src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libDaisy//src/hid/usb.h **** #include <stdint.h>
   5:../../libDaisy//src/hid/usb.h **** #include <stdlib.h>
   6:../../libDaisy//src/hid/usb.h **** 
   7:../../libDaisy//src/hid/usb.h **** namespace daisy
   8:../../libDaisy//src/hid/usb.h **** /** @addtogroup human_interface
   9:../../libDaisy//src/hid/usb.h ****     @{
  10:../../libDaisy//src/hid/usb.h **** */
  11:../../libDaisy//src/hid/usb.h **** 
  12:../../libDaisy//src/hid/usb.h **** {
  13:../../libDaisy//src/hid/usb.h **** /** 
  14:../../libDaisy//src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libDaisy//src/hid/usb.h ****     @author Stephen Hensley
  16:../../libDaisy//src/hid/usb.h ****     @date December 2019
  17:../../libDaisy//src/hid/usb.h **** */
  18:../../libDaisy//src/hid/usb.h **** class UsbHandle
  19:../../libDaisy//src/hid/usb.h **** {
  20:../../libDaisy//src/hid/usb.h ****   public:
  21:../../libDaisy//src/hid/usb.h ****     /** Return values for USBHandle Functions */
  22:../../libDaisy//src/hid/usb.h ****     enum class Result
  23:../../libDaisy//src/hid/usb.h ****     {
  24:../../libDaisy//src/hid/usb.h ****         OK,
  25:../../libDaisy//src/hid/usb.h ****         ERR,
  26:../../libDaisy//src/hid/usb.h ****     };
  27:../../libDaisy//src/hid/usb.h **** 
  28:../../libDaisy//src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libDaisy//src/hid/usb.h ****     enum UsbPeriph
  30:../../libDaisy//src/hid/usb.h ****     {
  31:../../libDaisy//src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libDaisy//src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libDaisy//src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libDaisy//src/hid/usb.h ****     };
  35:../../libDaisy//src/hid/usb.h **** 
  36:../../libDaisy//src/hid/usb.h **** 
  37:../../libDaisy//src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libDaisy//src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libDaisy//src/hid/usb.h **** 
  40:../../libDaisy//src/hid/usb.h ****     UsbHandle() {}
  41:../../libDaisy//src/hid/usb.h **** 
  42:../../libDaisy//src/hid/usb.h ****     ~UsbHandle() {}
  55              		.loc 4 42 5 is_stmt 1 view .LVU7
  56              		.loc 4 42 5 is_stmt 0 view .LVU8
  57              	.LBE123:
  58              	.LBB124:
  59              	.LBI124:
  60              		.file 5 "../../libDaisy//src/per/adc.h"
   1:../../libDaisy//src/per/adc.h **** #pragma once
   2:../../libDaisy//src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../libDaisy//src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libDaisy//src/per/adc.h **** #include <stdint.h>
   5:../../libDaisy//src/per/adc.h **** #include <stdlib.h>
   6:../../libDaisy//src/per/adc.h **** #include "daisy_core.h"
   7:../../libDaisy//src/per/adc.h **** #include "per/gpio.h"
   8:../../libDaisy//src/per/adc.h **** 
   9:../../libDaisy//src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 5


  10:../../libDaisy//src/per/adc.h **** 
  11:../../libDaisy//src/per/adc.h **** namespace daisy
  12:../../libDaisy//src/per/adc.h **** {
  13:../../libDaisy//src/per/adc.h **** /** @addtogroup per_analog
  14:../../libDaisy//src/per/adc.h ****     @{
  15:../../libDaisy//src/per/adc.h **** */
  16:../../libDaisy//src/per/adc.h **** 
  17:../../libDaisy//src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../libDaisy//src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libDaisy//src/per/adc.h **** later without breaking existing functionality.
  20:../../libDaisy//src/per/adc.h **** */
  21:../../libDaisy//src/per/adc.h **** 
  22:../../libDaisy//src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../../libDaisy//src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../../libDaisy//src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../../libDaisy//src/per/adc.h ****  *           one channel.
  26:../../libDaisy//src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../../libDaisy//src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../../libDaisy//src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../../libDaisy//src/per/adc.h ****  *           inputs connected.
  30:../../libDaisy//src/per/adc.h **** */
  31:../../libDaisy//src/per/adc.h **** struct AdcChannelConfig
  32:../../libDaisy//src/per/adc.h **** {
  33:../../libDaisy//src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../../libDaisy//src/per/adc.h ****     enum MuxPin
  35:../../libDaisy//src/per/adc.h ****     {
  36:../../libDaisy//src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../../libDaisy//src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../../libDaisy//src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../../libDaisy//src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../../libDaisy//src/per/adc.h ****     };
  41:../../libDaisy//src/per/adc.h **** 
  42:../../libDaisy//src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  43:../../libDaisy//src/per/adc.h ****     \param pin Pin to init.
  44:../../libDaisy//src/per/adc.h ****      */
  45:../../libDaisy//src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin);
  46:../../libDaisy//src/per/adc.h **** 
  47:../../libDaisy//src/per/adc.h ****     /** 
  48:../../libDaisy//src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  49:../../libDaisy//src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  50:../../libDaisy//src/per/adc.h ****     You only need to supply the mux pins that are required,
  51:../../libDaisy//src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  52:../../libDaisy//src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  53:../../libDaisy//src/per/adc.h ****     \param mux_channels must be 1-8
  54:../../libDaisy//src/per/adc.h ****     \param mux_0 First mux pin
  55:../../libDaisy//src/per/adc.h ****     \param mux_1 Second mux pin
  56:../../libDaisy//src/per/adc.h ****     \param mux_2 Third mux pin
  57:../../libDaisy//src/per/adc.h ****     \param adc_pin &
  58:../../libDaisy//src/per/adc.h ****     */
  59:../../libDaisy//src/per/adc.h ****     void InitMux(dsy_gpio_pin adc_pin,
  60:../../libDaisy//src/per/adc.h ****                  size_t       mux_channels,
  61:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_0,
  62:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_1 = {DSY_GPIOX, 0},
  63:../../libDaisy//src/per/adc.h ****                  dsy_gpio_pin mux_2 = {DSY_GPIOX, 0});
  64:../../libDaisy//src/per/adc.h **** 
  65:../../libDaisy//src/per/adc.h ****     dsy_gpio pin_;                   /**< & */
  66:../../libDaisy//src/per/adc.h ****     dsy_gpio mux_pin_[MUX_SEL_LAST]; /**< & */
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 6


  67:../../libDaisy//src/per/adc.h ****     uint8_t  mux_channels_;          /**< & */
  68:../../libDaisy//src/per/adc.h **** };
  69:../../libDaisy//src/per/adc.h **** 
  70:../../libDaisy//src/per/adc.h **** /**
  71:../../libDaisy//src/per/adc.h ****    @brief Handler for analog to digital conversion
  72:../../libDaisy//src/per/adc.h **** */
  73:../../libDaisy//src/per/adc.h **** class AdcHandle
  74:../../libDaisy//src/per/adc.h **** {
  75:../../libDaisy//src/per/adc.h ****   public:
  76:../../libDaisy//src/per/adc.h ****     /** Supported oversampling amounts */
  77:../../libDaisy//src/per/adc.h ****     enum OverSampling
  78:../../libDaisy//src/per/adc.h ****     {
  79:../../libDaisy//src/per/adc.h ****         OVS_NONE, /**< & */
  80:../../libDaisy//src/per/adc.h ****         OVS_4,    /**< & */
  81:../../libDaisy//src/per/adc.h ****         OVS_8,    /**< & */
  82:../../libDaisy//src/per/adc.h ****         OVS_16,   /**< & */
  83:../../libDaisy//src/per/adc.h ****         OVS_32,   /**< & */
  84:../../libDaisy//src/per/adc.h ****         OVS_64,   /**< & */
  85:../../libDaisy//src/per/adc.h ****         OVS_128,  /**< & */
  86:../../libDaisy//src/per/adc.h ****         OVS_256,  /**< & */
  87:../../libDaisy//src/per/adc.h ****         OVS_512,  /**< & */
  88:../../libDaisy//src/per/adc.h ****         OVS_1024, /**< & */
  89:../../libDaisy//src/per/adc.h ****         OVS_LAST, /**< & */
  90:../../libDaisy//src/per/adc.h ****     };
  91:../../libDaisy//src/per/adc.h **** 
  92:../../libDaisy//src/per/adc.h ****     AdcHandle() {}
  93:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
  61              		.loc 5 93 5 is_stmt 1 view .LVU9
  62              		.loc 5 93 5 is_stmt 0 view .LVU10
  63              	.LBE124:
  64              	.LBB125:
  65              	.LBI125:
  66              		.file 6 "../../libDaisy//src/hid/audio.h"
   1:../../libDaisy//src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libDaisy//src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libDaisy//src/hid/audio.h **** 
   4:../../libDaisy//src/hid/audio.h **** #include "per/sai.h"
   5:../../libDaisy//src/hid/audio.h **** 
   6:../../libDaisy//src/hid/audio.h **** namespace daisy
   7:../../libDaisy//src/hid/audio.h **** {
   8:../../libDaisy//src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../../libDaisy//src/hid/audio.h ****  *  @ingroup audio 
  10:../../libDaisy//src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../../libDaisy//src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../../libDaisy//src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../../libDaisy//src/hid/audio.h ****  *            is already taken  care of.
  14:../../libDaisy//src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../../libDaisy//src/hid/audio.h ****  *           you will have to take the following steps:
  16:../../libDaisy//src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../../libDaisy//src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../../libDaisy//src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../../libDaisy//src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../../libDaisy//src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../../libDaisy//src/hid/audio.h ****  */
  22:../../libDaisy//src/hid/audio.h **** class AudioHandle
  23:../../libDaisy//src/hid/audio.h **** {
  24:../../libDaisy//src/hid/audio.h ****   public:
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 7


  25:../../libDaisy//src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../../libDaisy//src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../../libDaisy//src/hid/audio.h ****     struct Config
  28:../../libDaisy//src/hid/audio.h ****     {
  29:../../libDaisy//src/hid/audio.h ****         /** number of samples to process per callback */
  30:../../libDaisy//src/hid/audio.h ****         size_t blocksize;
  31:../../libDaisy//src/hid/audio.h **** 
  32:../../libDaisy//src/hid/audio.h ****         /**< Sample rate of audio */
  33:../../libDaisy//src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  34:../../libDaisy//src/hid/audio.h **** 
  35:../../libDaisy//src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  36:../../libDaisy//src/hid/audio.h ****         float postgain;
  37:../../libDaisy//src/hid/audio.h **** 
  38:../../libDaisy//src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  39:../../libDaisy//src/hid/audio.h ****          *  have unequal input/output ranges
  40:../../libDaisy//src/hid/audio.h ****          */
  41:../../libDaisy//src/hid/audio.h ****         float output_compensation;
  42:../../libDaisy//src/hid/audio.h **** 
  43:../../libDaisy//src/hid/audio.h ****         /** Sets default values for config struct */
  44:../../libDaisy//src/hid/audio.h ****         Config()
  45:../../libDaisy//src/hid/audio.h ****         : blocksize(48),
  46:../../libDaisy//src/hid/audio.h ****           samplerate(SaiHandle::Config::SampleRate::SAI_48KHZ),
  47:../../libDaisy//src/hid/audio.h ****           postgain(1.f),
  48:../../libDaisy//src/hid/audio.h ****           output_compensation(1.f)
  49:../../libDaisy//src/hid/audio.h ****         {
  50:../../libDaisy//src/hid/audio.h ****         }
  51:../../libDaisy//src/hid/audio.h ****     };
  52:../../libDaisy//src/hid/audio.h **** 
  53:../../libDaisy//src/hid/audio.h ****     enum class Result
  54:../../libDaisy//src/hid/audio.h ****     {
  55:../../libDaisy//src/hid/audio.h ****         OK,
  56:../../libDaisy//src/hid/audio.h ****         ERR,
  57:../../libDaisy//src/hid/audio.h ****     };
  58:../../libDaisy//src/hid/audio.h **** 
  59:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving input buffer
  60:../../libDaisy//src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  61:../../libDaisy//src/hid/audio.h ****      * const so that the user can't modify the input
  62:../../libDaisy//src/hid/audio.h ****      */
  63:../../libDaisy//src/hid/audio.h ****     typedef const float* const* InputBuffer;
  64:../../libDaisy//src/hid/audio.h **** 
  65:../../libDaisy//src/hid/audio.h ****     /** Non-Interleaving output buffer
  66:../../libDaisy//src/hid/audio.h ****      * Arranged by float[chn][sample] 
  67:../../libDaisy//src/hid/audio.h ****      */
  68:../../libDaisy//src/hid/audio.h ****     typedef float** OutputBuffer;
  69:../../libDaisy//src/hid/audio.h **** 
  70:../../libDaisy//src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  71:../../libDaisy//src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  72:../../libDaisy//src/hid/audio.h ****      */
  73:../../libDaisy//src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  74:../../libDaisy//src/hid/audio.h ****                                   OutputBuffer out,
  75:../../libDaisy//src/hid/audio.h ****                                   size_t       size);
  76:../../libDaisy//src/hid/audio.h **** 
  77:../../libDaisy//src/hid/audio.h ****     /** Interleaving Input buffer
  78:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  79:../../libDaisy//src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  80:../../libDaisy//src/hid/audio.h ****     */
  81:../../libDaisy//src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 8


  82:../../libDaisy//src/hid/audio.h **** 
  83:../../libDaisy//src/hid/audio.h ****     /** Interleaving Output buffer 
  84:../../libDaisy//src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  85:../../libDaisy//src/hid/audio.h ****     */
  86:../../libDaisy//src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  87:../../libDaisy//src/hid/audio.h **** 
  88:../../libDaisy//src/hid/audio.h ****     /** Interleaving Audio Callback 
  89:../../libDaisy//src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  90:../../libDaisy//src/hid/audio.h ****      */
  91:../../libDaisy//src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  92:../../libDaisy//src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  93:../../libDaisy//src/hid/audio.h ****                                               size_t                   size);
  94:../../libDaisy//src/hid/audio.h **** 
  95:../../libDaisy//src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  96:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
  67              		.loc 6 96 5 is_stmt 1 view .LVU11
  68              		.loc 6 96 5 is_stmt 0 view .LVU12
  69              	.LBE125:
  70              	.LBB126:
  71              	.LBI126:
  72              		.file 7 "../../libDaisy//src/sys/system.h"
   1:../../libDaisy//src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libDaisy//src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libDaisy//src/sys/system.h **** 
   4:../../libDaisy//src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libDaisy//src/sys/system.h **** 
   6:../../libDaisy//src/sys/system.h **** #include <cstdint>
   7:../../libDaisy//src/sys/system.h **** #include "per/tim.h"
   8:../../libDaisy//src/sys/system.h **** 
   9:../../libDaisy//src/sys/system.h **** namespace daisy
  10:../../libDaisy//src/sys/system.h **** {
  11:../../libDaisy//src/sys/system.h **** /** A handle for interacting with the Core System. 
  12:../../libDaisy//src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libDaisy//src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libDaisy//src/sys/system.h ****  **
  15:../../libDaisy//src/sys/system.h ****  ** @author shensley
  16:../../libDaisy//src/sys/system.h ****  ** @ingroup system
  17:../../libDaisy//src/sys/system.h ****  */
  18:../../libDaisy//src/sys/system.h **** class System
  19:../../libDaisy//src/sys/system.h **** {
  20:../../libDaisy//src/sys/system.h ****   public:
  21:../../libDaisy//src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libDaisy//src/sys/system.h ****     struct Config
  23:../../libDaisy//src/sys/system.h ****     {
  24:../../libDaisy//src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libDaisy//src/sys/system.h ****         enum class SysClkFreq
  26:../../libDaisy//src/sys/system.h ****         {
  27:../../libDaisy//src/sys/system.h ****             FREQ_400MHZ,
  28:../../libDaisy//src/sys/system.h ****             FREQ_480MHZ,
  29:../../libDaisy//src/sys/system.h ****         };
  30:../../libDaisy//src/sys/system.h **** 
  31:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libDaisy//src/sys/system.h ****          ** Cache Enabled 
  34:../../libDaisy//src/sys/system.h ****          ** */
  35:../../libDaisy//src/sys/system.h ****         void Defaults()
  36:../../libDaisy//src/sys/system.h ****         {
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 9


  37:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  39:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  40:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  41:../../libDaisy//src/sys/system.h ****         }
  42:../../libDaisy//src/sys/system.h **** 
  43:../../libDaisy//src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../../libDaisy//src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../../libDaisy//src/sys/system.h ****          ** Cache Enabled 
  46:../../libDaisy//src/sys/system.h ****          ** */
  47:../../libDaisy//src/sys/system.h ****         void Boost()
  48:../../libDaisy//src/sys/system.h ****         {
  49:../../libDaisy//src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../../libDaisy//src/sys/system.h ****             use_dcache  = true;
  51:../../libDaisy//src/sys/system.h ****             use_icache  = true;
  52:../../libDaisy//src/sys/system.h ****             skip_clocks = false;
  53:../../libDaisy//src/sys/system.h ****         }
  54:../../libDaisy//src/sys/system.h **** 
  55:../../libDaisy//src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../../libDaisy//src/sys/system.h ****         bool       use_dcache;
  57:../../libDaisy//src/sys/system.h ****         bool       use_icache;
  58:../../libDaisy//src/sys/system.h ****         bool       skip_clocks;
  59:../../libDaisy//src/sys/system.h ****     };
  60:../../libDaisy//src/sys/system.h **** 
  61:../../libDaisy//src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy
  62:../../libDaisy//src/sys/system.h ****      * 
  63:../../libDaisy//src/sys/system.h ****      */
  64:../../libDaisy//src/sys/system.h ****     enum MemoryRegion
  65:../../libDaisy//src/sys/system.h ****     {
  66:../../libDaisy//src/sys/system.h ****         INTERNAL_FLASH = 0,
  67:../../libDaisy//src/sys/system.h ****         ITCMRAM,
  68:../../libDaisy//src/sys/system.h ****         DTCMRAM,
  69:../../libDaisy//src/sys/system.h ****         SRAM_D1,
  70:../../libDaisy//src/sys/system.h ****         SRAM_D2,
  71:../../libDaisy//src/sys/system.h ****         SRAM_D3,
  72:../../libDaisy//src/sys/system.h ****         SDRAM,
  73:../../libDaisy//src/sys/system.h ****         QSPI,
  74:../../libDaisy//src/sys/system.h ****         INVALID_ADDRESS,
  75:../../libDaisy//src/sys/system.h ****     };
  76:../../libDaisy//src/sys/system.h **** 
  77:../../libDaisy//src/sys/system.h ****     System() {}
  78:../../libDaisy//src/sys/system.h ****     ~System() {}
  73              		.loc 7 78 5 is_stmt 1 view .LVU13
  74              		.loc 7 78 5 is_stmt 0 view .LVU14
  75              	.LBE126:
  76              		.loc 1 65 26 view .LVU15
  77 0000 7047     		bx	lr
  78              		.cfi_endproc
  79              	.LFE2529:
  81              		.weak	_ZN5daisy8patch_sm12DaisyPatchSMD1Ev
  82              		.thumb_set _ZN5daisy8patch_sm12DaisyPatchSMD1Ev,_ZN5daisy8patch_sm12DaisyPatchSMD2Ev
  83 0002 00BF     		.section	.text._Z13AudioCallbackPKPKfPPfj,"ax",%progbits
  84              		.align	1
  85              		.p2align 2,,3
  86              		.global	_Z13AudioCallbackPKPKfPPfj
  87              		.syntax unified
  88              		.thumb
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 10


  89              		.thumb_func
  90              		.fpu fpv5-d16
  92              	_Z13AudioCallbackPKPKfPPfj:
  93              	.LVL1:
  94              	.LFB4827:
  95              		.file 8 "FFT-testing.cpp"
   1:FFT-testing.cpp **** #include "daisy_patch_sm.h"
   2:FFT-testing.cpp **** #include "daisy.h"
   3:FFT-testing.cpp **** #include "daisysp.h"
   4:FFT-testing.cpp **** #include <arm_math.h>
   5:FFT-testing.cpp **** 
   6:FFT-testing.cpp **** using namespace daisy;
   7:FFT-testing.cpp **** using namespace patch_sm;
   8:FFT-testing.cpp **** 
   9:FFT-testing.cpp **** DaisyPatchSM hw;
  10:FFT-testing.cpp **** 
  11:FFT-testing.cpp **** // Define the FFT size and related arrays
  12:FFT-testing.cpp **** #define SAMPLES 1024
  13:FFT-testing.cpp **** #define FFT_SIZE SAMPLES / 2
  14:FFT-testing.cpp **** float32_t inputSignal[SAMPLES];
  15:FFT-testing.cpp **** float32_t outputBuffer[FFT_SIZE * 2]; // Complex output
  16:FFT-testing.cpp **** float32_t magnitudeBuffer[FFT_SIZE];   // Magnitude of complex output
  17:FFT-testing.cpp **** float32_t signalFrequency;
  18:FFT-testing.cpp **** 
  19:FFT-testing.cpp **** // Perform FFT
  20:FFT-testing.cpp **** arm_cfft_radix4_instance_f32 fftInstance;
  21:FFT-testing.cpp **** 
  22:FFT-testing.cpp **** // Function to calculate the frequency from an FFT bin index
  23:FFT-testing.cpp **** float32_t CalculateFrequency(uint32_t binIndex, float32_t samplingFrequency) {
  24:FFT-testing.cpp ****     return (float32_t)binIndex * samplingFrequency / (float32_t)FFT_SIZE;
  25:FFT-testing.cpp **** }
  26:FFT-testing.cpp **** 
  27:FFT-testing.cpp **** void AudioCallback(AudioHandle::InputBuffer in, AudioHandle::OutputBuffer out, size_t size)
  28:FFT-testing.cpp **** {
  96              		.loc 8 28 1 is_stmt 1 view -0
  97              		.cfi_startproc
  98              		@ args = 0, pretend = 0, frame = 0
  99              		@ frame_needed = 0, uses_anonymous_args = 0
  29:FFT-testing.cpp ****     hw.ProcessAllControls();
 100              		.loc 8 29 5 view .LVU17
 101              	.LBB127:
 102              	.LBI127:
  66:../../libDaisy//src/daisy_patch_sm.h **** 
  67:../../libDaisy//src/daisy_patch_sm.h ****         /** Initializes the memories, and core peripherals for the Daisy Patch SM */
  68:../../libDaisy//src/daisy_patch_sm.h ****         void Init();
  69:../../libDaisy//src/daisy_patch_sm.h **** 
  70:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts a non-interleaving audio callback */
  71:../../libDaisy//src/daisy_patch_sm.h ****         void StartAudio(AudioHandle::AudioCallback cb);
  72:../../libDaisy//src/daisy_patch_sm.h **** 
  73:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts an interleaving audio callback */
  74:../../libDaisy//src/daisy_patch_sm.h ****         void StartAudio(AudioHandle::InterleavingAudioCallback cb);
  75:../../libDaisy//src/daisy_patch_sm.h **** 
  76:../../libDaisy//src/daisy_patch_sm.h ****         /** Changes the callback that is executing.
  77:../../libDaisy//src/daisy_patch_sm.h ****          *  This may cause clicks if done while audio is processing.
  78:../../libDaisy//src/daisy_patch_sm.h ****          */
  79:../../libDaisy//src/daisy_patch_sm.h ****         void ChangeAudioCallback(AudioHandle::AudioCallback cb);
  80:../../libDaisy//src/daisy_patch_sm.h **** 
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 11


  81:../../libDaisy//src/daisy_patch_sm.h ****         /** Changes the callback that is executing.
  82:../../libDaisy//src/daisy_patch_sm.h ****          *  This may cause clicks if done while audio is processing.
  83:../../libDaisy//src/daisy_patch_sm.h ****          */
  84:../../libDaisy//src/daisy_patch_sm.h ****         void ChangeAudioCallback(AudioHandle::InterleavingAudioCallback cb);
  85:../../libDaisy//src/daisy_patch_sm.h **** 
  86:../../libDaisy//src/daisy_patch_sm.h ****         /** Stops the transmission of audio. */
  87:../../libDaisy//src/daisy_patch_sm.h ****         void StopAudio();
  88:../../libDaisy//src/daisy_patch_sm.h **** 
  89:../../libDaisy//src/daisy_patch_sm.h ****         /** Sets the number of samples processed in an audio callback. 
  90:../../libDaisy//src/daisy_patch_sm.h ****          *  This will only take effect on the next invocation of `StartAudio`
  91:../../libDaisy//src/daisy_patch_sm.h ****          */
  92:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioBlockSize(size_t size);
  93:../../libDaisy//src/daisy_patch_sm.h **** 
  94:../../libDaisy//src/daisy_patch_sm.h ****         /** Sets the samplerate for the audio engine 
  95:../../libDaisy//src/daisy_patch_sm.h ****          *  This will set it to the closest valid samplerate. Options being:
  96:../../libDaisy//src/daisy_patch_sm.h ****          *  8kHz, 16kHz, 32kHz, 48kHz, and 96kHz
  97:../../libDaisy//src/daisy_patch_sm.h ****          */
  98:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioSampleRate(float sr);
  99:../../libDaisy//src/daisy_patch_sm.h **** 
 100:../../libDaisy//src/daisy_patch_sm.h ****         void SetAudioSampleRate(SaiHandle::Config::SampleRate sample_rate);
 101:../../libDaisy//src/daisy_patch_sm.h **** 
 102:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the number of samples processed in an audio callback */
 103:../../libDaisy//src/daisy_patch_sm.h ****         size_t AudioBlockSize();
 104:../../libDaisy//src/daisy_patch_sm.h **** 
 105:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the audio engine's samplerate in Hz */
 106:../../libDaisy//src/daisy_patch_sm.h ****         float AudioSampleRate();
 107:../../libDaisy//src/daisy_patch_sm.h **** 
 108:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the rate at which the audio callback will be called in Hz */
 109:../../libDaisy//src/daisy_patch_sm.h ****         float AudioCallbackRate();
 110:../../libDaisy//src/daisy_patch_sm.h **** 
 111:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts the Control ADCs 
 112:../../libDaisy//src/daisy_patch_sm.h ****          * 
 113:../../libDaisy//src/daisy_patch_sm.h ****          *  This is started automatically when Init() is called.
 114:../../libDaisy//src/daisy_patch_sm.h ****          */
 115:../../libDaisy//src/daisy_patch_sm.h ****         void StartAdc();
 116:../../libDaisy//src/daisy_patch_sm.h **** 
 117:../../libDaisy//src/daisy_patch_sm.h ****         /** Stops the Control ADCs */
 118:../../libDaisy//src/daisy_patch_sm.h ****         void StopAdc();
 119:../../libDaisy//src/daisy_patch_sm.h **** 
 120:../../libDaisy//src/daisy_patch_sm.h ****         /** Reads and filters all of the analog control inputs */
 121:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessAnalogControls();
 122:../../libDaisy//src/daisy_patch_sm.h **** 
 123:../../libDaisy//src/daisy_patch_sm.h ****         /** Reads and debounces any of the digital control inputs 
 124:../../libDaisy//src/daisy_patch_sm.h ****          *  This does nothing on this board at this time.
 125:../../libDaisy//src/daisy_patch_sm.h ****          */
 126:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessDigitalControls();
 127:../../libDaisy//src/daisy_patch_sm.h **** 
 128:../../libDaisy//src/daisy_patch_sm.h ****         /** Does both of the above */
 129:../../libDaisy//src/daisy_patch_sm.h ****         void ProcessAllControls()
 103              		.loc 1 129 14 view .LVU18
 104              	.LBB128:
 130:../../libDaisy//src/daisy_patch_sm.h ****         {
 131:../../libDaisy//src/daisy_patch_sm.h ****             ProcessAnalogControls();
 105              		.loc 1 131 13 view .LVU19
 106              	.LBE128:
 107              	.LBE127:
  28:FFT-testing.cpp ****     hw.ProcessAllControls();
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 12


 108              		.loc 8 28 1 is_stmt 0 view .LVU20
 109 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 110              		.cfi_def_cfa_offset 24
 111              		.cfi_offset 3, -24
 112              		.cfi_offset 4, -20
 113              		.cfi_offset 5, -16
 114              		.cfi_offset 6, -12
 115              		.cfi_offset 7, -8
 116              		.cfi_offset 14, -4
  28:FFT-testing.cpp ****     hw.ProcessAllControls();
 117              		.loc 8 28 1 view .LVU21
 118 0002 1546     		mov	r5, r2
 119 0004 0646     		mov	r6, r0
 120              	.LBB131:
 121              	.LBB129:
 122              		.loc 1 131 34 view .LVU22
 123 0006 2D48     		ldr	r0, .L22
 124              	.LVL2:
 125              		.loc 1 131 34 view .LVU23
 126              	.LBE129:
 127              	.LBE131:
  28:FFT-testing.cpp ****     hw.ProcessAllControls();
 128              		.loc 8 28 1 view .LVU24
 129 0008 0F46     		mov	r7, r1
 130              	.LBB132:
 131              	.LBB130:
 132              		.loc 1 131 34 view .LVU25
 133 000a FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM21ProcessAnalogControlsEv
 134              	.LVL3:
 132:../../libDaisy//src/daisy_patch_sm.h ****             ProcessDigitalControls();
 135              		.loc 1 132 13 is_stmt 1 view .LVU26
 136              		.loc 1 132 35 is_stmt 0 view .LVU27
 137 000e 2B48     		ldr	r0, .L22
 138 0010 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM22ProcessDigitalControlsEv
 139              	.LVL4:
 140              		.loc 1 132 35 view .LVU28
 141              	.LBE130:
 142              	.LBE132:
  30:FFT-testing.cpp ****     
  31:FFT-testing.cpp ****     // Copy the input signal for FFT processing
  32:FFT-testing.cpp ****     for (size_t i = 0; i < size; i++)
 143              		.loc 8 32 5 is_stmt 1 view .LVU29
 144              	.LBB133:
 145              		.loc 8 32 26 view .LVU30
 146 0014 75B1     		cbz	r5, .L4
 147 0016 2A4A     		ldr	r2, .L22+4
 148 0018 D6E90031 		ldrd	r3, r1, [r6]
 149 001c 03EB8500 		add	r0, r3, r5, lsl #2
 150              	.LVL5:
 151              	.L5:
  33:FFT-testing.cpp ****     {
  34:FFT-testing.cpp ****         inputSignal[i] = IN_L[i]+IN_R[i]; // Assuming mono input, modify if stereo
 152              		.loc 8 34 9 discriminator 2 view .LVU31
 153              		.loc 8 34 32 is_stmt 0 discriminator 2 view .LVU32
 154 0020 F3EC017A 		vldmia.32	r3!, {s15}
 155              		.loc 8 34 40 discriminator 2 view .LVU33
 156 0024 B1EC017A 		vldmia.32	r1!, {s14}
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 13


  32:FFT-testing.cpp ****     {
 157              		.loc 8 32 26 discriminator 2 view .LVU34
 158 0028 8342     		cmp	r3, r0
 159              		.loc 8 34 33 discriminator 2 view .LVU35
 160 002a 77EE877A 		vadd.f32	s15, s15, s14
 161              		.loc 8 34 24 discriminator 2 view .LVU36
 162 002e E2EC017A 		vstmia.32	r2!, {s15}
  32:FFT-testing.cpp ****     {
 163              		.loc 8 32 5 is_stmt 1 discriminator 2 view .LVU37
  32:FFT-testing.cpp ****     {
 164              		.loc 8 32 26 discriminator 2 view .LVU38
 165 0032 F5D1     		bne	.L5
 166              	.L4:
 167              	.LBE133:
  35:FFT-testing.cpp ****         //inputSignal[i + size] = in[1][i]; // Assuming stereo input
  36:FFT-testing.cpp ****     }
  37:FFT-testing.cpp ****     
  38:FFT-testing.cpp ****     arm_cfft_radix4_f32(&fftInstance, inputSignal);
 168              		.loc 8 38 5 view .LVU39
  39:FFT-testing.cpp ****     
  40:FFT-testing.cpp ****     // Calculate magnitude of complex output
  41:FFT-testing.cpp ****     arm_cmplx_mag_f32(inputSignal, magnitudeBuffer, FFT_SIZE);
 169              		.loc 8 41 22 is_stmt 0 view .LVU40
 170 0034 234C     		ldr	r4, .L22+8
  38:FFT-testing.cpp ****     
 171              		.loc 8 38 24 view .LVU41
 172 0036 2249     		ldr	r1, .L22+4
 173 0038 2348     		ldr	r0, .L22+12
 174 003a FFF7FEFF 		bl	arm_cfft_radix4_f32
 175              	.LVL6:
 176              		.loc 8 41 5 is_stmt 1 view .LVU42
 177              		.loc 8 41 22 is_stmt 0 view .LVU43
 178 003e 2146     		mov	r1, r4
 179 0040 4FF40072 		mov	r2, #512
 180 0044 1E48     		ldr	r0, .L22+4
 181 0046 FFF7FEFF 		bl	arm_cmplx_mag_f32
 182              	.LVL7:
  42:FFT-testing.cpp ****     
  43:FFT-testing.cpp ****     // Find the maximum magnitude and its index
  44:FFT-testing.cpp ****     float32_t maxMagnitude = magnitudeBuffer[0];
 183              		.loc 8 44 5 is_stmt 1 view .LVU44
 184              		.loc 8 44 15 is_stmt 0 view .LVU45
 185 004a A446     		mov	ip, r4
 186              	.LBB134:
  45:FFT-testing.cpp ****     uint32_t maxIndex = 0;
  46:FFT-testing.cpp ****     for (uint32_t i = 1; i < FFT_SIZE; ++i) {
 187              		.loc 8 46 19 view .LVU46
 188 004c 0123     		movs	r3, #1
 189              	.LBE134:
  45:FFT-testing.cpp ****     uint32_t maxIndex = 0;
 190              		.loc 8 45 14 view .LVU47
 191 004e 0024     		movs	r4, #0
  44:FFT-testing.cpp ****     uint32_t maxIndex = 0;
 192              		.loc 8 44 15 view .LVU48
 193 0050 BCEC017A 		vldmia.32	ip!, {s14}
 194              	.LVL8:
  45:FFT-testing.cpp ****     uint32_t maxIndex = 0;
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 14


 195              		.loc 8 45 5 is_stmt 1 view .LVU49
 196              		.loc 8 46 5 view .LVU50
 197              	.LBB135:
 198              		.loc 8 46 28 view .LVU51
 199              	.L8:
  47:FFT-testing.cpp ****         if (magnitudeBuffer[i] > maxMagnitude) {
 200              		.loc 8 47 9 view .LVU52
 201              		.loc 8 47 30 is_stmt 0 view .LVU53
 202 0054 FCEC017A 		vldmia.32	ip!, {s15}
 203              		.loc 8 47 9 view .LVU54
 204 0058 F4EEC77A 		vcmpe.f32	s15, s14
 205 005c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 206 0060 02DD     		ble	.L6
  48:FFT-testing.cpp ****             maxMagnitude = magnitudeBuffer[i];
 207              		.loc 8 48 26 view .LVU55
 208 0062 B0EE677A 		vmov.f32	s14, s15
 209              	.LVL9:
  47:FFT-testing.cpp ****         if (magnitudeBuffer[i] > maxMagnitude) {
 210              		.loc 8 47 9 view .LVU56
 211 0066 1C46     		mov	r4, r3
 212              	.L6:
 213              	.LVL10:
  46:FFT-testing.cpp ****         if (magnitudeBuffer[i] > maxMagnitude) {
 214              		.loc 8 46 5 is_stmt 1 discriminator 2 view .LVU57
 215 0068 0133     		adds	r3, r3, #1
 216              	.LVL11:
  46:FFT-testing.cpp ****         if (magnitudeBuffer[i] > maxMagnitude) {
 217              		.loc 8 46 28 discriminator 2 view .LVU58
 218 006a B3F5007F 		cmp	r3, #512
 219 006e F1D1     		bne	.L8
 220              	.LBE135:
  49:FFT-testing.cpp ****             maxIndex = i;
  50:FFT-testing.cpp ****         }
  51:FFT-testing.cpp ****     }
  52:FFT-testing.cpp ****     
  53:FFT-testing.cpp ****     // Calculate the frequency corresponding to the maximum magnitude index
  54:FFT-testing.cpp ****     float32_t samplingFrequency = static_cast<float32_t>(hw.AudioSampleRate());
 221              		.loc 8 54 5 view .LVU59
 222              		.loc 8 54 76 is_stmt 0 view .LVU60
 223 0070 1248     		ldr	r0, .L22
 224 0072 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM15AudioSampleRateEv
 225              	.LVL12:
  55:FFT-testing.cpp ****     signalFrequency = CalculateFrequency(maxIndex, samplingFrequency);
 226              		.loc 8 55 5 is_stmt 1 view .LVU61
 227              	.LBB136:
 228              	.LBI136:
  23:FFT-testing.cpp ****     return (float32_t)binIndex * samplingFrequency / (float32_t)FFT_SIZE;
 229              		.loc 8 23 11 view .LVU62
 230              	.LBB137:
  24:FFT-testing.cpp **** }
 231              		.loc 8 24 5 view .LVU63
  24:FFT-testing.cpp **** }
 232              		.loc 8 24 12 is_stmt 0 view .LVU64
 233 0076 07EE904A 		vmov	s15, r4	@ int
  24:FFT-testing.cpp **** }
 234              		.loc 8 24 52 view .LVU65
 235 007a DFED146A 		vldr.32	s13, .L22+16
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 15


  24:FFT-testing.cpp **** }
 236              		.loc 8 24 65 view .LVU66
 237 007e B6EE007A 		vmov.f32	s14, #5.0e-1
  24:FFT-testing.cpp **** }
 238              		.loc 8 24 12 view .LVU67
 239 0082 F8EE677A 		vcvt.f32.u32	s15, s15
 240              	.LBE137:
 241              	.LBE136:
 242              		.loc 8 55 21 view .LVU68
 243 0086 124B     		ldr	r3, .L22+20
 244              	.LBB139:
 245              	.LBB138:
  24:FFT-testing.cpp **** }
 246              		.loc 8 24 32 view .LVU69
 247 0088 67EE807A 		vmul.f32	s15, s15, s0
  24:FFT-testing.cpp **** }
 248              		.loc 8 24 52 view .LVU70
 249 008c 67EEA67A 		vmul.f32	s15, s15, s13
  24:FFT-testing.cpp **** }
 250              		.loc 8 24 65 view .LVU71
 251 0090 67EE877A 		vmul.f32	s15, s15, s14
 252              	.LBE138:
 253              	.LBE139:
 254              		.loc 8 55 21 view .LVU72
 255 0094 C3ED007A 		vstr.32	s15, [r3]
  56:FFT-testing.cpp ****     
  57:FFT-testing.cpp ****     // Now 'signalFrequency' contains the estimated frequency of the input signal
  58:FFT-testing.cpp ****     
  59:FFT-testing.cpp ****     // Copy the input to the output
  60:FFT-testing.cpp ****     for (size_t i = 0; i < size; i++)
 256              		.loc 8 60 5 is_stmt 1 view .LVU73
 257              	.LVL13:
 258              	.LBB140:
 259              		.loc 8 60 26 view .LVU74
 260 0098 7DB1     		cbz	r5, .L3
 261 009a 3368     		ldr	r3, [r6]
 262 009c 3868     		ldr	r0, [r7]
 263 009e 7168     		ldr	r1, [r6, #4]
 264 00a0 03EB8505 		add	r5, r3, r5, lsl #2
 265              	.LVL14:
 266              		.loc 8 60 26 is_stmt 0 view .LVU75
 267 00a4 7A68     		ldr	r2, [r7, #4]
 268              	.LVL15:
 269              	.L10:
  61:FFT-testing.cpp ****     {
  62:FFT-testing.cpp ****         out[0][i] = in[0][i]; // Assuming mono input/output, modify if stereo
 270              		.loc 8 62 9 is_stmt 1 discriminator 2 view .LVU76
 271              		.loc 8 62 28 is_stmt 0 discriminator 2 view .LVU77
 272 00a6 53F8044B 		ldr	r4, [r3], #4	@ float
 273              		.loc 8 62 19 discriminator 2 view .LVU78
 274 00aa 40F8044B 		str	r4, [r0], #4	@ float
  63:FFT-testing.cpp ****         out[1][i] = in[1][i];
 275              		.loc 8 63 9 is_stmt 1 discriminator 2 view .LVU79
  60:FFT-testing.cpp ****     {
 276              		.loc 8 60 26 is_stmt 0 discriminator 2 view .LVU80
 277 00ae AB42     		cmp	r3, r5
 278              		.loc 8 63 28 discriminator 2 view .LVU81
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 16


 279 00b0 51F8044B 		ldr	r4, [r1], #4	@ float
 280              		.loc 8 63 19 discriminator 2 view .LVU82
 281 00b4 42F8044B 		str	r4, [r2], #4	@ float
  60:FFT-testing.cpp ****     {
 282              		.loc 8 60 5 is_stmt 1 discriminator 2 view .LVU83
  60:FFT-testing.cpp ****     {
 283              		.loc 8 60 26 discriminator 2 view .LVU84
 284 00b8 F5D1     		bne	.L10
 285              	.L3:
  60:FFT-testing.cpp ****     {
 286              		.loc 8 60 26 is_stmt 0 discriminator 2 view .LVU85
 287              	.LBE140:
  64:FFT-testing.cpp ****     }
  65:FFT-testing.cpp **** }
 288              		.loc 8 65 1 view .LVU86
 289 00ba F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 290              	.LVL16:
 291              	.L23:
 292              		.loc 8 65 1 view .LVU87
 293              		.align	2
 294              	.L22:
 295 00bc 00000000 		.word	.LANCHOR0
 296 00c0 00000000 		.word	inputSignal
 297 00c4 00000000 		.word	.LANCHOR2
 298 00c8 00000000 		.word	.LANCHOR1
 299 00cc 0000803A 		.word	981467136
 300 00d0 00000000 		.word	.LANCHOR3
 301              		.cfi_endproc
 302              	.LFE4827:
 304              		.section	.text._Z18CalculateFrequencymf,"ax",%progbits
 305              		.align	1
 306              		.p2align 2,,3
 307              		.global	_Z18CalculateFrequencymf
 308              		.syntax unified
 309              		.thumb
 310              		.thumb_func
 311              		.fpu fpv5-d16
 313              	_Z18CalculateFrequencymf:
 314              	.LVL17:
 315              	.LFB4826:
  23:FFT-testing.cpp ****     return (float32_t)binIndex * samplingFrequency / (float32_t)FFT_SIZE;
 316              		.loc 8 23 78 is_stmt 1 view -0
 317              		.cfi_startproc
 318              		@ args = 0, pretend = 0, frame = 0
 319              		@ frame_needed = 0, uses_anonymous_args = 0
 320              		@ link register save eliminated.
  24:FFT-testing.cpp **** }
 321              		.loc 8 24 5 view .LVU89
  24:FFT-testing.cpp **** }
 322              		.loc 8 24 12 is_stmt 0 view .LVU90
 323 0000 07EE900A 		vmov	s15, r0	@ int
  24:FFT-testing.cpp **** }
 324              		.loc 8 24 52 view .LVU91
 325 0004 DFED066A 		vldr.32	s13, .L25
  24:FFT-testing.cpp **** }
 326              		.loc 8 24 65 view .LVU92
 327 0008 B6EE007A 		vmov.f32	s14, #5.0e-1
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 17


  24:FFT-testing.cpp **** }
 328              		.loc 8 24 12 view .LVU93
 329 000c F8EE677A 		vcvt.f32.u32	s15, s15
  24:FFT-testing.cpp **** }
 330              		.loc 8 24 32 view .LVU94
 331 0010 27EE800A 		vmul.f32	s0, s15, s0
 332              	.LVL18:
  24:FFT-testing.cpp **** }
 333              		.loc 8 24 52 view .LVU95
 334 0014 20EE260A 		vmul.f32	s0, s0, s13
  25:FFT-testing.cpp **** 
 335              		.loc 8 25 1 view .LVU96
 336 0018 20EE070A 		vmul.f32	s0, s0, s14
 337 001c 7047     		bx	lr
 338              	.L26:
 339 001e 00BF     		.align	2
 340              	.L25:
 341 0020 0000803A 		.word	981467136
 342              		.cfi_endproc
 343              	.LFE4826:
 345              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 346              		.align	2
 347              	.LC0:
 348 0000 3100     		.ascii	"1\000"
 349              		.section	.text.startup.main,"ax",%progbits
 350              		.align	1
 351              		.p2align 2,,3
 352              		.global	main
 353              		.syntax unified
 354              		.thumb
 355              		.thumb_func
 356              		.fpu fpv5-d16
 358              	main:
 359              	.LFB4828:
  66:FFT-testing.cpp **** 
  67:FFT-testing.cpp **** int main(void)
  68:FFT-testing.cpp **** {
 360              		.loc 8 68 1 is_stmt 1 view -0
 361              		.cfi_startproc
 362              		@ Volatile: function does not return.
 363              		@ args = 0, pretend = 0, frame = 0
 364              		@ frame_needed = 0, uses_anonymous_args = 0
  69:FFT-testing.cpp ****     hw.Init();
 365              		.loc 8 69 5 view .LVU98
  68:FFT-testing.cpp ****     hw.Init();
 366              		.loc 8 68 1 is_stmt 0 view .LVU99
 367 0000 08B5     		push	{r3, lr}
 368              		.cfi_def_cfa_offset 8
 369              		.cfi_offset 3, -8
 370              		.cfi_offset 14, -4
 371              		.loc 8 69 12 view .LVU100
 372 0002 0E48     		ldr	r0, .L30
 373 0004 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM4InitEv
 374              	.LVL19:
  70:FFT-testing.cpp ****     hw.SetAudioBlockSize(4); // number of samples handled per callback
 375              		.loc 8 70 5 is_stmt 1 view .LVU101
 376              		.loc 8 70 25 is_stmt 0 view .LVU102
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 18


 377 0008 0421     		movs	r1, #4
 378 000a 0C48     		ldr	r0, .L30
 379 000c FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM17SetAudioBlockSizeEj
 380              	.LVL20:
  71:FFT-testing.cpp ****     hw.SetAudioSampleRate(SaiHandle::Config::SampleRate::SAI_48KHZ);
 381              		.loc 8 71 5 is_stmt 1 view .LVU103
 382              		.loc 8 71 26 is_stmt 0 view .LVU104
 383 0010 0321     		movs	r1, #3
 384 0012 0A48     		ldr	r0, .L30
 385 0014 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM18SetAudioSampleRateENS_9SaiHandle6Config10SampleRateE
 386              	.LVL21:
  72:FFT-testing.cpp **** 	hw.StartLog(true);
 387              		.loc 8 72 2 is_stmt 1 view .LVU105
 388              	.LBB141:
 389              	.LBI141:
 133:../../libDaisy//src/daisy_patch_sm.h ****         }
 134:../../libDaisy//src/daisy_patch_sm.h **** 
 135:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the current value for one of the ADCs */
 136:../../libDaisy//src/daisy_patch_sm.h ****         float GetAdcValue(int idx);
 137:../../libDaisy//src/daisy_patch_sm.h **** 
 138:../../libDaisy//src/daisy_patch_sm.h ****         /** Returns the STM32 port/pin combo for the desired pin (or an invalid pin for HW only pin
 139:../../libDaisy//src/daisy_patch_sm.h ****          *
 140:../../libDaisy//src/daisy_patch_sm.h ****          *  Macros at top of file can be used in place of separate arguments (i.e. GetPin(A4), etc.
 141:../../libDaisy//src/daisy_patch_sm.h ****          * 
 142:../../libDaisy//src/daisy_patch_sm.h ****          *  \param bank should be one of the PinBank options above
 143:../../libDaisy//src/daisy_patch_sm.h ****          *  \param idx pin number between 1 and 10 for each of the pins on each header.
 144:../../libDaisy//src/daisy_patch_sm.h ****          */
 145:../../libDaisy//src/daisy_patch_sm.h ****         dsy_gpio_pin GetPin(const PinBank bank, const int idx);
 146:../../libDaisy//src/daisy_patch_sm.h **** 
 147:../../libDaisy//src/daisy_patch_sm.h ****         /** Starts the DAC for the CV Outputs 
 148:../../libDaisy//src/daisy_patch_sm.h ****          * 
 149:../../libDaisy//src/daisy_patch_sm.h ****          *  By default this starts by running the 
 150:../../libDaisy//src/daisy_patch_sm.h ****          *  internal callback at 48kHz, which will 
 151:../../libDaisy//src/daisy_patch_sm.h ****          *  update the values based on the SetCvOut 
 152:../../libDaisy//src/daisy_patch_sm.h ****          *  function.
 153:../../libDaisy//src/daisy_patch_sm.h ****          * 
 154:../../libDaisy//src/daisy_patch_sm.h ****          *  This is started automatically when Init() is called.
 155:../../libDaisy//src/daisy_patch_sm.h ****          */
 156:../../libDaisy//src/daisy_patch_sm.h ****         void StartDac(DacHandle::DacCallback callback = nullptr);
 157:../../libDaisy//src/daisy_patch_sm.h **** 
 158:../../libDaisy//src/daisy_patch_sm.h ****         /** Stop the DAC from updating. 
 159:../../libDaisy//src/daisy_patch_sm.h ****          *  This will suspend the CV Outputs from changing 
 160:../../libDaisy//src/daisy_patch_sm.h ****          */
 161:../../libDaisy//src/daisy_patch_sm.h ****         void StopDac();
 162:../../libDaisy//src/daisy_patch_sm.h **** 
 163:../../libDaisy//src/daisy_patch_sm.h ****         /** Sets specified DAC channel to the target voltage. 
 164:../../libDaisy//src/daisy_patch_sm.h ****          *  This may not be 100% accurate without calibration. 
 165:../../libDaisy//src/daisy_patch_sm.h ****          *  
 166:../../libDaisy//src/daisy_patch_sm.h ****          *  \todo Add Calibration to CV Outputs
 167:../../libDaisy//src/daisy_patch_sm.h ****          * 
 168:../../libDaisy//src/daisy_patch_sm.h ****          *  \param channel desired channel to update. 0 is both, otherwise 1 or 2 are valid.
 169:../../libDaisy//src/daisy_patch_sm.h ****          *  \param voltage value in Volts that you'd like to write to the DAC. The valid range is 0
 170:../../libDaisy//src/daisy_patch_sm.h ****          */
 171:../../libDaisy//src/daisy_patch_sm.h ****         void WriteCvOut(const int channel, float voltage);
 172:../../libDaisy//src/daisy_patch_sm.h **** 
 173:../../libDaisy//src/daisy_patch_sm.h ****         /** Here are some wrappers around libDaisy Static functions 
 174:../../libDaisy//src/daisy_patch_sm.h ****          *  to provide simpler syntax to those who prefer it. */
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 19


 175:../../libDaisy//src/daisy_patch_sm.h **** 
 176:../../libDaisy//src/daisy_patch_sm.h ****         /** Delays for a specified number of milliseconds */
 177:../../libDaisy//src/daisy_patch_sm.h ****         inline void Delay(uint32_t milliseconds)
 178:../../libDaisy//src/daisy_patch_sm.h ****         {
 179:../../libDaisy//src/daisy_patch_sm.h ****             System::Delay(milliseconds);
 180:../../libDaisy//src/daisy_patch_sm.h ****         }
 181:../../libDaisy//src/daisy_patch_sm.h **** 
 182:../../libDaisy//src/daisy_patch_sm.h ****         /** Gets a random 32-bit value */
 183:../../libDaisy//src/daisy_patch_sm.h ****         inline uint32_t GetRandomValue() { return Random::GetValue(); }
 184:../../libDaisy//src/daisy_patch_sm.h **** 
 185:../../libDaisy//src/daisy_patch_sm.h ****         /** Gets a random floating point value between the specified minimum, and maxmimum */
 186:../../libDaisy//src/daisy_patch_sm.h ****         inline float GetRandomFloat(float min = 0.f, float max = 1.f)
 187:../../libDaisy//src/daisy_patch_sm.h ****         {
 188:../../libDaisy//src/daisy_patch_sm.h ****             return Random::GetFloat(min, max);
 189:../../libDaisy//src/daisy_patch_sm.h ****         }
 190:../../libDaisy//src/daisy_patch_sm.h **** 
 191:../../libDaisy//src/daisy_patch_sm.h ****         void SetLed(bool state);
 192:../../libDaisy//src/daisy_patch_sm.h **** 
 193:../../libDaisy//src/daisy_patch_sm.h ****         /** Print formatted debug log message
 194:../../libDaisy//src/daisy_patch_sm.h ****          */
 195:../../libDaisy//src/daisy_patch_sm.h ****         template <typename... VA>
 196:../../libDaisy//src/daisy_patch_sm.h ****         static void Print(const char* format, VA... va)
 197:../../libDaisy//src/daisy_patch_sm.h ****         {
 198:../../libDaisy//src/daisy_patch_sm.h ****             Log::Print(format, va...);
 199:../../libDaisy//src/daisy_patch_sm.h ****         }
 200:../../libDaisy//src/daisy_patch_sm.h **** 
 201:../../libDaisy//src/daisy_patch_sm.h ****         /** Print formatted debug log message with automatic line termination
 202:../../libDaisy//src/daisy_patch_sm.h ****          */
 203:../../libDaisy//src/daisy_patch_sm.h ****         template <typename... VA>
 204:../../libDaisy//src/daisy_patch_sm.h ****         static void PrintLine(const char* format, VA... va)
 205:../../libDaisy//src/daisy_patch_sm.h ****         {
 206:../../libDaisy//src/daisy_patch_sm.h ****             Log::PrintLine(format, va...);
 207:../../libDaisy//src/daisy_patch_sm.h ****         }
 208:../../libDaisy//src/daisy_patch_sm.h **** 
 209:../../libDaisy//src/daisy_patch_sm.h ****         /** Start the logging session. Optionally wait for terminal connection before proceeding.
 210:../../libDaisy//src/daisy_patch_sm.h ****          */
 211:../../libDaisy//src/daisy_patch_sm.h ****         static void StartLog(bool wait_for_pc = false)
 390              		.loc 1 211 21 view .LVU106
 391              	.LBB142:
 212:../../libDaisy//src/daisy_patch_sm.h ****         {
 213:../../libDaisy//src/daisy_patch_sm.h ****             Log::StartLog(wait_for_pc);
 392              		.loc 1 213 13 view .LVU107
 393              		.loc 1 213 26 is_stmt 0 view .LVU108
 394 0018 0120     		movs	r0, #1
 395 001a FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
 396              	.LVL22:
 397              		.loc 1 213 26 view .LVU109
 398              	.LBE142:
 399              	.LBE141:
  73:FFT-testing.cpp **** 	arm_cfft_radix4_init_f32(&fftInstance, FFT_SIZE, 0, 1);
 400              		.loc 8 73 2 is_stmt 1 view .LVU110
 401              		.loc 8 73 26 is_stmt 0 view .LVU111
 402 001e 4FF40071 		mov	r1, #512
 403 0022 0123     		movs	r3, #1
 404 0024 0022     		movs	r2, #0
 405 0026 0648     		ldr	r0, .L30+4
 406 0028 FFF7FEFF 		bl	arm_cfft_radix4_init_f32
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 20


 407              	.LVL23:
  74:FFT-testing.cpp ****     
  75:FFT-testing.cpp ****     hw.StartAudio(AudioCallback);
 408              		.loc 8 75 5 is_stmt 1 view .LVU112
 409              		.loc 8 75 18 is_stmt 0 view .LVU113
 410 002c 0549     		ldr	r1, .L30+8
 411 002e 0348     		ldr	r0, .L30
 412 0030 FFF7FEFF 		bl	_ZN5daisy8patch_sm12DaisyPatchSM10StartAudioEPFvPKPKfPPfjE
 413              	.LVL24:
 414              	.L28:
  76:FFT-testing.cpp ****     while (1) 
 415              		.loc 8 76 5 is_stmt 1 discriminator 1 view .LVU114
  77:FFT-testing.cpp **** 	{ hw.PrintLine("1");}
 416              		.loc 8 77 4 discriminator 1 view .LVU115
 417              	.LBB143:
 418              	.LBI143:
 204:../../libDaisy//src/daisy_patch_sm.h ****         {
 419              		.loc 1 204 21 discriminator 1 view .LVU116
 420              	.LBB144:
 206:../../libDaisy//src/daisy_patch_sm.h ****         }
 421              		.loc 1 206 27 is_stmt 0 discriminator 1 view .LVU117
 422 0034 0448     		ldr	r0, .L30+12
 423 0036 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 424              	.LVL25:
 425 003a FBE7     		b	.L28
 426              	.L31:
 427              		.align	2
 428              	.L30:
 429 003c 00000000 		.word	.LANCHOR0
 430 0040 00000000 		.word	.LANCHOR1
 431 0044 00000000 		.word	_Z13AudioCallbackPKPKfPPfj
 432 0048 00000000 		.word	.LC0
 433              	.LBE144:
 434              	.LBE143:
 435              		.cfi_endproc
 436              	.LFE4828:
 438              		.section	.text.startup._GLOBAL__sub_I_hw,"ax",%progbits
 439              		.align	1
 440              		.p2align 2,,3
 441              		.syntax unified
 442              		.thumb
 443              		.thumb_func
 444              		.fpu fpv5-d16
 446              	_GLOBAL__sub_I_hw:
 447              	.LFB5389:
  78:FFT-testing.cpp **** }
 448              		.loc 8 78 1 is_stmt 1 view -0
 449              		.cfi_startproc
 450              		@ args = 0, pretend = 0, frame = 0
 451              		@ frame_needed = 0, uses_anonymous_args = 0
 452              		@ link register save eliminated.
 453              	.LBB173:
 454              	.LBI173:
 455              		.loc 8 78 1 view .LVU119
 456              	.LVL26:
 457              	.LBB174:
 458              	.LBB175:
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 21


 459              	.LBI175:
  64:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
 460              		.loc 1 64 9 view .LVU120
 461              	.LBB176:
 462              	.LBB177:
 463              	.LBI177:
  77:../../libDaisy//src/sys/system.h ****     ~System() {}
 464              		.loc 7 77 5 view .LVU121
  77:../../libDaisy//src/sys/system.h ****     ~System() {}
 465              		.loc 7 77 5 is_stmt 0 view .LVU122
 466              	.LBE177:
 467              	.LBB178:
 468              	.LBI178:
 469              		.file 9 "../../libDaisy//src/per/qspi.h"
   1:../../libDaisy//src/per/qspi.h **** #ifndef DSY_QSPI
   2:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../../libDaisy//src/per/qspi.h **** 
   4:../../libDaisy//src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../../libDaisy//src/per/qspi.h **** 
   6:../../libDaisy//src/per/qspi.h **** #include <cstdint>
   7:../../libDaisy//src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../../libDaisy//src/per/qspi.h **** 
   9:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  10:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  11:../../libDaisy//src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  14:../../libDaisy//src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../../libDaisy//src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../../libDaisy//src/per/qspi.h ****     __attribute__((section( \
  17:../../libDaisy//src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../../libDaisy//src/per/qspi.h **** 
  19:../../libDaisy//src/per/qspi.h **** namespace daisy
  20:../../libDaisy//src/per/qspi.h **** {
  21:../../libDaisy//src/per/qspi.h **** /** @addtogroup serial
  22:../../libDaisy//src/per/qspi.h **** @{
  23:../../libDaisy//src/per/qspi.h **** */
  24:../../libDaisy//src/per/qspi.h **** 
  25:../../libDaisy//src/per/qspi.h **** /** 
  26:../../libDaisy//src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../../libDaisy//src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../../libDaisy//src/per/qspi.h ****     * IS25LP080D
  29:../../libDaisy//src/per/qspi.h **** */
  30:../../libDaisy//src/per/qspi.h **** class QSPIHandle
  31:../../libDaisy//src/per/qspi.h **** {
  32:../../libDaisy//src/per/qspi.h ****   public:
  33:../../libDaisy//src/per/qspi.h ****     enum Result
  34:../../libDaisy//src/per/qspi.h ****     {
  35:../../libDaisy//src/per/qspi.h ****         OK = 0,
  36:../../libDaisy//src/per/qspi.h ****         ERR
  37:../../libDaisy//src/per/qspi.h ****     };
  38:../../libDaisy//src/per/qspi.h **** 
  39:../../libDaisy//src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../../libDaisy//src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../../libDaisy//src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../../libDaisy//src/per/qspi.h ****          * 
  43:../../libDaisy//src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 22


  44:../../libDaisy//src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../../libDaisy//src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../../libDaisy//src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../../libDaisy//src/per/qspi.h ****          */
  48:../../libDaisy//src/per/qspi.h ****     enum Status
  49:../../libDaisy//src/per/qspi.h ****     {
  50:../../libDaisy//src/per/qspi.h ****         GOOD = 0,
  51:../../libDaisy//src/per/qspi.h ****         E_HAL_ERROR,
  52:../../libDaisy//src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../../libDaisy//src/per/qspi.h ****         E_INVALID_MODE,
  54:../../libDaisy//src/per/qspi.h ****     };
  55:../../libDaisy//src/per/qspi.h **** 
  56:../../libDaisy//src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  57:../../libDaisy//src/per/qspi.h ****     struct Config
  58:../../libDaisy//src/per/qspi.h ****     {
  59:../../libDaisy//src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  60:../../libDaisy//src/per/qspi.h ****         enum Device
  61:../../libDaisy//src/per/qspi.h ****         {
  62:../../libDaisy//src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../../libDaisy//src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../../libDaisy//src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../../libDaisy//src/per/qspi.h ****         };
  66:../../libDaisy//src/per/qspi.h **** 
  67:../../libDaisy//src/per/qspi.h ****         /** 
  68:../../libDaisy//src/per/qspi.h ****         Modes of operation.
  69:../../libDaisy//src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../../libDaisy//src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../../libDaisy//src/per/qspi.h ****         possible in this mode. \n 
  72:../../libDaisy//src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../../libDaisy//src/per/qspi.h ****         */
  74:../../libDaisy//src/per/qspi.h ****         enum Mode
  75:../../libDaisy//src/per/qspi.h ****         {
  76:../../libDaisy//src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../../libDaisy//src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  78:../../libDaisy//src/per/qspi.h ****             MODE_LAST,
  79:../../libDaisy//src/per/qspi.h ****         };
  80:../../libDaisy//src/per/qspi.h **** 
  81:../../libDaisy//src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../../libDaisy//src/per/qspi.h ****         struct
  83:../../libDaisy//src/per/qspi.h ****         {
  84:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../../libDaisy//src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../../libDaisy//src/per/qspi.h ****         } pin_config;
  91:../../libDaisy//src/per/qspi.h **** 
  92:../../libDaisy//src/per/qspi.h ****         Device device;
  93:../../libDaisy//src/per/qspi.h ****         Mode   mode;
  94:../../libDaisy//src/per/qspi.h ****     };
  95:../../libDaisy//src/per/qspi.h **** 
  96:../../libDaisy//src/per/qspi.h ****     /** 
  97:../../libDaisy//src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../../libDaisy//src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../../libDaisy//src/per/qspi.h ****         */
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 23


 101:../../libDaisy//src/per/qspi.h ****     Result Init(const Config& config);
 102:../../libDaisy//src/per/qspi.h **** 
 103:../../libDaisy//src/per/qspi.h ****     /** Returns the current config. */
 104:../../libDaisy//src/per/qspi.h ****     const Config& GetConfig() const;
 105:../../libDaisy//src/per/qspi.h **** 
 106:../../libDaisy//src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 107:../../libDaisy//src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../../libDaisy//src/per/qspi.h ****     /** 
 109:../../libDaisy//src/per/qspi.h ****         Deinitializes the peripheral
 110:../../libDaisy//src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 112:../../libDaisy//src/per/qspi.h ****         */
 113:../../libDaisy//src/per/qspi.h ****     Result DeInit();
 114:../../libDaisy//src/per/qspi.h **** 
 115:../../libDaisy//src/per/qspi.h ****     /** 
 116:../../libDaisy//src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 117:../../libDaisy//src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 119:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 120:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 121:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../../libDaisy//src/per/qspi.h ****         */
 123:../../libDaisy//src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 124:../../libDaisy//src/per/qspi.h **** 
 125:../../libDaisy//src/per/qspi.h ****     /** 
 126:../../libDaisy//src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../../libDaisy//src/per/qspi.h ****         \param address Address to write to
 128:../../libDaisy//src/per/qspi.h ****         \param size Buffer size
 129:../../libDaisy//src/per/qspi.h ****         \param buffer Buffer to write
 130:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../../libDaisy//src/per/qspi.h ****         */
 132:../../libDaisy//src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../../libDaisy//src/per/qspi.h **** 
 134:../../libDaisy//src/per/qspi.h ****     /** 
 135:../../libDaisy//src/per/qspi.h ****         Erases the area specified on the chip.
 136:../../libDaisy//src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../../libDaisy//src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../../libDaisy//src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../../libDaisy//src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../../libDaisy//src/per/qspi.h ****         */
 142:../../libDaisy//src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../../libDaisy//src/per/qspi.h **** 
 144:../../libDaisy//src/per/qspi.h ****     /**  
 145:../../libDaisy//src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../../libDaisy//src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../../libDaisy//src/per/qspi.h ****         \param address Address of sector to erase
 148:../../libDaisy//src/per/qspi.h ****         \return Result::OK or Result::ERR
 149:../../libDaisy//src/per/qspi.h ****         */
 150:../../libDaisy//src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../../libDaisy//src/per/qspi.h **** 
 152:../../libDaisy//src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../../libDaisy//src/per/qspi.h ****      *  \returns Status
 154:../../libDaisy//src/per/qspi.h ****      */
 155:../../libDaisy//src/per/qspi.h ****     Status GetStatus();
 156:../../libDaisy//src/per/qspi.h **** 
 157:../../libDaisy//src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 24


 158:../../libDaisy//src/per/qspi.h ****      *  The memory at this address is read-only
 159:../../libDaisy//src/per/qspi.h ****      *  to write to it use the Write function.
 160:../../libDaisy//src/per/qspi.h ****      * 
 161:../../libDaisy//src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../../libDaisy//src/per/qspi.h ****      *                many bytes into the memory
 163:../../libDaisy//src/per/qspi.h ****     */
 164:../../libDaisy//src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../../libDaisy//src/per/qspi.h **** 
 166:../../libDaisy//src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 470              		.loc 9 166 5 is_stmt 1 view .LVU123
 471              	.LBB179:
 472              	.LBB180:
 473              		.loc 9 166 34 is_stmt 0 view .LVU124
 474 0000 0448     		ldr	r0, .L33
 475 0002 0023     		movs	r3, #0
 476              	.LBE180:
 477              	.LBE179:
 478              	.LBE178:
 479              	.LBE176:
 480              	.LBE175:
   9:FFT-testing.cpp **** 
 481              		.loc 8 9 14 view .LVU125
 482 0004 044A     		ldr	r2, .L33+4
 483 0006 0549     		ldr	r1, .L33+8
 484              	.LBB202:
 485              	.LBB200:
 486              	.LBB181:
 487              	.LBB182:
 488              	.LBB183:
 489              	.LBB184:
 490              	.LBB185:
 491              		.file 10 "../../libDaisy//src/per/i2c.h"
   1:../../libDaisy//src/per/i2c.h **** #pragma once
   2:../../libDaisy//src/per/i2c.h **** #include "daisy_core.h"
   3:../../libDaisy//src/per/i2c.h **** 
   4:../../libDaisy//src/per/i2c.h **** namespace daisy
   5:../../libDaisy//src/per/i2c.h **** {
   6:../../libDaisy//src/per/i2c.h **** /** A handle for interacting with an I2C peripheral. This is a dumb
   7:../../libDaisy//src/per/i2c.h ****  *  gateway that internally points to one of the four I2C peripherals
   8:../../libDaisy//src/per/i2c.h ****  *  after it was initialised. It can then be copied and passed around.
   9:../../libDaisy//src/per/i2c.h ****  *  Use an I2CHandle like this:
  10:../../libDaisy//src/per/i2c.h ****  *  
  11:../../libDaisy//src/per/i2c.h ****  *      // setup the configuration
  12:../../libDaisy//src/per/i2c.h ****  *      I2CHandle::Config i2c_conf;
  13:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.periph = I2CHandle::Config::Peripheral::I2C_1;
  14:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.speed  = I2CHandle::Config::Speed::I2C_400KHZ;
  15:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.mode   = I2CHandle::Config::Mode::Master;
  16:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.pin_config.scl  = {DSY_GPIOB, 8};
  17:../../libDaisy//src/per/i2c.h ****  *      i2c_conf.pin_config.sda  = {DSY_GPIOB, 9};
  18:../../libDaisy//src/per/i2c.h ****  *      // initialise the peripheral
  19:../../libDaisy//src/per/i2c.h ****  *      I2CHandle i2c;
  20:../../libDaisy//src/per/i2c.h ****  *      i2c.Init(i2c_conf);
  21:../../libDaisy//src/per/i2c.h ****  *      // now i2c points to the corresponding peripheral and can be used.
  22:../../libDaisy//src/per/i2c.h ****  *      i2c.TransmitBlocking( ... );
  23:../../libDaisy//src/per/i2c.h ****  */
  24:../../libDaisy//src/per/i2c.h **** class I2CHandle
  25:../../libDaisy//src/per/i2c.h **** {
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 25


  26:../../libDaisy//src/per/i2c.h ****   public:
  27:../../libDaisy//src/per/i2c.h ****     /** Contains settings for initialising an I2C interface. */
  28:../../libDaisy//src/per/i2c.h ****     struct Config
  29:../../libDaisy//src/per/i2c.h ****     {
  30:../../libDaisy//src/per/i2c.h ****         /** Specifies whether the interface will operate in master or slave mode. */
  31:../../libDaisy//src/per/i2c.h ****         enum class Mode
  32:../../libDaisy//src/per/i2c.h ****         {
  33:../../libDaisy//src/per/i2c.h ****             I2C_MASTER,
  34:../../libDaisy//src/per/i2c.h ****             I2C_SLAVE,
  35:../../libDaisy//src/per/i2c.h ****         };
  36:../../libDaisy//src/per/i2c.h **** 
  37:../../libDaisy//src/per/i2c.h ****         /** Specifices the internal peripheral to use (these are mapped to different pins on the ha
  38:../../libDaisy//src/per/i2c.h ****         enum class Peripheral
  39:../../libDaisy//src/per/i2c.h ****         {
  40:../../libDaisy//src/per/i2c.h ****             I2C_1 = 0, /**< & */
  41:../../libDaisy//src/per/i2c.h ****             I2C_2,     /**< & */
  42:../../libDaisy//src/per/i2c.h ****             I2C_3,     /**< & */
  43:../../libDaisy//src/per/i2c.h ****             I2C_4,     /**< & */
  44:../../libDaisy//src/per/i2c.h ****         };
  45:../../libDaisy//src/per/i2c.h **** 
  46:../../libDaisy//src/per/i2c.h ****         /** Rate at which the clock/data will be sent/received. The device being used will have max
  47:../../libDaisy//src/per/i2c.h ****          *  1MHZ Mode is currently 886kHz
  48:../../libDaisy//src/per/i2c.h ****          */
  49:../../libDaisy//src/per/i2c.h ****         enum class Speed
  50:../../libDaisy//src/per/i2c.h ****         {
  51:../../libDaisy//src/per/i2c.h ****             I2C_100KHZ, /**< & */
  52:../../libDaisy//src/per/i2c.h ****             I2C_400KHZ, /**< & */
  53:../../libDaisy//src/per/i2c.h ****             I2C_1MHZ,   /**< & */
  54:../../libDaisy//src/per/i2c.h ****         };
  55:../../libDaisy//src/per/i2c.h **** 
  56:../../libDaisy//src/per/i2c.h ****         Peripheral periph; /**< & */
  57:../../libDaisy//src/per/i2c.h ****         struct
  58:../../libDaisy//src/per/i2c.h ****         {
  59:../../libDaisy//src/per/i2c.h ****             dsy_gpio_pin scl; /**< & */
  60:../../libDaisy//src/per/i2c.h ****             dsy_gpio_pin sda; /**< & */
  61:../../libDaisy//src/per/i2c.h ****         } pin_config;         /**< & */
  62:../../libDaisy//src/per/i2c.h **** 
  63:../../libDaisy//src/per/i2c.h ****         Speed speed; /**< & */
  64:../../libDaisy//src/per/i2c.h ****         Mode  mode;  /**< & */
  65:../../libDaisy//src/per/i2c.h ****         // 0x10 is chosen as a default to avoid conflicts with reserved addresses
  66:../../libDaisy//src/per/i2c.h ****         uint8_t address = 0x10; /**< & */
  67:../../libDaisy//src/per/i2c.h ****     };
  68:../../libDaisy//src/per/i2c.h **** 
  69:../../libDaisy//src/per/i2c.h ****     /** Return values for I2C functions. */
  70:../../libDaisy//src/per/i2c.h ****     enum class Result
  71:../../libDaisy//src/per/i2c.h ****     {
  72:../../libDaisy//src/per/i2c.h ****         OK, /**< & */
  73:../../libDaisy//src/per/i2c.h ****         ERR /**< & */
  74:../../libDaisy//src/per/i2c.h ****     };
  75:../../libDaisy//src/per/i2c.h **** 
  76:../../libDaisy//src/per/i2c.h ****     enum class Direction
  77:../../libDaisy//src/per/i2c.h ****     {
  78:../../libDaisy//src/per/i2c.h ****         TRANSMIT, /**< & */
  79:../../libDaisy//src/per/i2c.h ****         RECEIVE,  /**< & */
  80:../../libDaisy//src/per/i2c.h ****     };
  81:../../libDaisy//src/per/i2c.h **** 
  82:../../libDaisy//src/per/i2c.h ****     I2CHandle() : pimpl_(nullptr) {}
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 26


 492              		.loc 10 82 33 view .LVU126
 493 0008 0362     		str	r3, [r0, #32]
 494              	.LBE185:
 495              	.LBE184:
 496              	.LBE183:
 497              	.LBE182:
 498              	.LBE181:
 499              	.LBB188:
 500              	.LBB189:
 501              	.LBB190:
 502              		.file 11 "../../libDaisy//src/per/dac.h"
   1:../../libDaisy//src/per/dac.h **** #pragma once
   2:../../libDaisy//src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../libDaisy//src/per/dac.h **** #define DSY_DAC_H
   4:../../libDaisy//src/per/dac.h **** 
   5:../../libDaisy//src/per/dac.h **** #include "daisy_core.h"
   6:../../libDaisy//src/per/dac.h **** 
   7:../../libDaisy//src/per/dac.h **** namespace daisy
   8:../../libDaisy//src/per/dac.h **** {
   9:../../libDaisy//src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../../libDaisy//src/per/dac.h ****  *  @ingroup per_analog
  11:../../libDaisy//src/per/dac.h ****  ** 
  12:../../libDaisy//src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../../libDaisy//src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../../libDaisy//src/per/dac.h ****  **
  15:../../libDaisy//src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../../libDaisy//src/per/dac.h ****  **
  17:../../libDaisy//src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../../libDaisy//src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../../libDaisy//src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../../libDaisy//src/per/dac.h ****  ***/
  21:../../libDaisy//src/per/dac.h **** class DacHandle
  22:../../libDaisy//src/per/dac.h **** {
  23:../../libDaisy//src/per/dac.h ****   public:
  24:../../libDaisy//src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../../libDaisy//src/per/dac.h ****     enum class Result
  26:../../libDaisy//src/per/dac.h ****     {
  27:../../libDaisy//src/per/dac.h ****         OK,
  28:../../libDaisy//src/per/dac.h ****         ERR,
  29:../../libDaisy//src/per/dac.h ****     };
  30:../../libDaisy//src/per/dac.h **** 
  31:../../libDaisy//src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../../libDaisy//src/per/dac.h ****     enum class Channel
  33:../../libDaisy//src/per/dac.h ****     {
  34:../../libDaisy//src/per/dac.h ****         ONE,
  35:../../libDaisy//src/per/dac.h ****         TWO,
  36:../../libDaisy//src/per/dac.h ****         BOTH,
  37:../../libDaisy//src/per/dac.h ****     };
  38:../../libDaisy//src/per/dac.h **** 
  39:../../libDaisy//src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../../libDaisy//src/per/dac.h ****      **
  41:../../libDaisy//src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../../libDaisy//src/per/dac.h ****      **
  43:../../libDaisy//src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../../libDaisy//src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../../libDaisy//src/per/dac.h ****      ***/
  46:../../libDaisy//src/per/dac.h ****     enum class Mode
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 27


  47:../../libDaisy//src/per/dac.h ****     {
  48:../../libDaisy//src/per/dac.h ****         POLLING,
  49:../../libDaisy//src/per/dac.h ****         DMA,
  50:../../libDaisy//src/per/dac.h ****     };
  51:../../libDaisy//src/per/dac.h **** 
  52:../../libDaisy//src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../../libDaisy//src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../../libDaisy//src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../../libDaisy//src/per/dac.h ****      ***/
  56:../../libDaisy//src/per/dac.h ****     enum class BitDepth
  57:../../libDaisy//src/per/dac.h ****     {
  58:../../libDaisy//src/per/dac.h ****         BITS_8,
  59:../../libDaisy//src/per/dac.h ****         BITS_12
  60:../../libDaisy//src/per/dac.h ****     };
  61:../../libDaisy//src/per/dac.h **** 
  62:../../libDaisy//src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../../libDaisy//src/per/dac.h ****     enum class BufferState
  64:../../libDaisy//src/per/dac.h ****     {
  65:../../libDaisy//src/per/dac.h ****         ENABLED,
  66:../../libDaisy//src/per/dac.h ****         DISABLED,
  67:../../libDaisy//src/per/dac.h ****     };
  68:../../libDaisy//src/per/dac.h **** 
  69:../../libDaisy//src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../../libDaisy//src/per/dac.h ****     struct Config
  71:../../libDaisy//src/per/dac.h ****     {
  72:../../libDaisy//src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../../libDaisy//src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../../libDaisy//src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../../libDaisy//src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../../libDaisy//src/per/dac.h ****         uint32_t target_samplerate;
  77:../../libDaisy//src/per/dac.h **** 
  78:../../libDaisy//src/per/dac.h ****         Channel     chn;
  79:../../libDaisy//src/per/dac.h ****         Mode        mode;
  80:../../libDaisy//src/per/dac.h ****         BitDepth    bitdepth;
  81:../../libDaisy//src/per/dac.h ****         BufferState buff_state;
  82:../../libDaisy//src/per/dac.h ****     };
  83:../../libDaisy//src/per/dac.h **** 
  84:../../libDaisy//src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 503              		.loc 11 84 33 view .LVU127
 504 000a 8362     		str	r3, [r0, #40]
 505              	.LBE190:
 506              	.LBE189:
 507              	.LBE188:
 508              	.LBB191:
 509              	.LBB192:
 510              	.LBB193:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 511              		.loc 6 95 35 view .LVU128
 512 000c C0E90333 		strd	r3, r3, [r0, #12]
 513              	.LVL27:
  95:../../libDaisy//src/hid/audio.h ****     ~AudioHandle() {}
 514              		.loc 6 95 35 view .LVU129
 515              	.LBE193:
 516              	.LBE192:
 517              	.LBE191:
 518              	.LBB194:
 519              	.LBI194:
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 28


  92:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 520              		.loc 5 92 5 is_stmt 1 view .LVU130
  92:../../libDaisy//src/per/adc.h ****     ~AdcHandle() {}
 521              		.loc 5 92 5 is_stmt 0 view .LVU131
 522              	.LBE194:
 523              	.LBB195:
 524              	.LBI195:
  40:../../libDaisy//src/hid/usb.h **** 
 525              		.loc 4 40 5 is_stmt 1 view .LVU132
  40:../../libDaisy//src/hid/usb.h **** 
 526              		.loc 4 40 5 is_stmt 0 view .LVU133
 527              	.LBE195:
 528              	.LBB196:
 529              	.LBI181:
  28:../../libDaisy//src/dev/codec_pcm3060.h ****     ~Pcm3060() {}
 530              		.loc 3 28 5 is_stmt 1 view .LVU134
 531              	.LBB187:
 532              	.LBB186:
 533              	.LBI183:
 534              		.loc 10 82 5 view .LVU135
 535              		.loc 10 82 5 is_stmt 0 view .LVU136
 536              	.LBE186:
 537              	.LBE187:
 538              	.LBE196:
 539              	.LBB197:
 540              	.LBI188:
 541              		.loc 11 84 5 is_stmt 1 view .LVU137
 542              		.loc 11 84 5 is_stmt 0 view .LVU138
 543              	.LBE197:
 544              	.LBE200:
 545              	.LBE202:
 546              	.LBE174:
 547              	.LBE173:
  64:../../libDaisy//src/daisy_patch_sm.h ****         ~DaisyPatchSM() {}
 548              		.loc 1 64 24 is_stmt 1 view .LVU139
 549              	.LBB205:
 550              	.LBB204:
 551              	.LBB203:
 552              	.LBB201:
 553              	.LBB198:
 554              	.LBI198:
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 555              		.loc 2 20 5 view .LVU140
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 556              		.loc 2 20 5 is_stmt 0 view .LVU141
 557              	.LBE198:
 558              	.LBB199:
 559              	.LBI199:
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 560              		.loc 2 20 5 is_stmt 1 view .LVU142
  20:../../libDaisy//src/hid/gatein.h ****     /** GateIn~
 561              		.loc 2 20 5 is_stmt 0 view .LVU143
 562              	.LBE199:
 563              	.LBE201:
 564              	.LBE203:
   9:FFT-testing.cpp **** 
 565              		.loc 8 9 14 view .LVU144
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 29


 566 0010 FFF7FEBF 		b	__aeabi_atexit
 567              	.LVL28:
 568              	.L34:
 569              		.align	2
 570              	.L33:
 571 0014 00000000 		.word	.LANCHOR0
 572 0018 00000000 		.word	__dso_handle
 573 001c 00000000 		.word	_ZN5daisy8patch_sm12DaisyPatchSMD1Ev
 574              	.LBE204:
 575              	.LBE205:
 576              		.cfi_endproc
 577              	.LFE5389:
 579              		.section	.init_array,"aw",%init_array
 580              		.align	2
 581 0000 00000000 		.word	_GLOBAL__sub_I_hw(target1)
 582              		.global	fftInstance
 583              		.global	signalFrequency
 584              		.global	magnitudeBuffer
 585              		.global	outputBuffer
 586              		.global	inputSignal
 587              		.global	hw
 588              		.section	.bss.fftInstance,"aw",%nobits
 589              		.align	2
 590              		.set	.LANCHOR1,. + 0
 593              	fftInstance:
 594 0000 00000000 		.space	20
 594      00000000 
 594      00000000 
 594      00000000 
 594      00000000 
 595              		.section	.bss.hw,"aw",%nobits
 596              		.align	2
 597              		.set	.LANCHOR0,. + 0
 600              	hw:
 601 0000 00000000 		.space	464
 601      00000000 
 601      00000000 
 601      00000000 
 601      00000000 
 602              		.section	.bss.inputSignal,"aw",%nobits
 603              		.align	2
 606              	inputSignal:
 607 0000 00000000 		.space	4096
 607      00000000 
 607      00000000 
 607      00000000 
 607      00000000 
 608              		.section	.bss.magnitudeBuffer,"aw",%nobits
 609              		.align	2
 610              		.set	.LANCHOR2,. + 0
 613              	magnitudeBuffer:
 614 0000 00000000 		.space	2048
 614      00000000 
 614      00000000 
 614      00000000 
 614      00000000 
 615              		.section	.bss.outputBuffer,"aw",%nobits
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 30


 616              		.align	2
 619              	outputBuffer:
 620 0000 00000000 		.space	4096
 620      00000000 
 620      00000000 
 620      00000000 
 620      00000000 
 621              		.section	.bss.signalFrequency,"aw",%nobits
 622              		.align	2
 623              		.set	.LANCHOR3,. + 0
 626              	signalFrequency:
 627 0000 00000000 		.space	4
 628              		.text
 629              	.Letext0:
 630              		.file 12 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/machine/_d
 631              		.file 13 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/sys/_stdin
 632              		.file 14 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/stdint.h"
 633              		.file 15 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/lib/gcc/arm-none-eabi/10.3.1/inc
 634              		.file 16 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 635              		.file 17 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 636              		.file 18 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 637              		.file 19 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 638              		.file 20 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 639              		.file 21 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 640              		.file 22 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 641              		.file 23 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 642              		.file 24 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 643              		.file 25 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 644              		.file 26 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 645              		.file 27 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 646              		.file 28 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 647              		.file 29 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 648              		.file 30 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 649              		.file 31 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 650              		.file 32 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 651              		.file 33 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 652              		.file 34 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/sys/_types
 653              		.file 35 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/sys/reent.
 654              		.file 36 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/sys/lock.h
 655              		.file 37 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/math.h"
 656              		.file 38 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/stdlib.h"
 657              		.file 39 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 658              		.file 40 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/c++/10.3.1
 659              		.file 41 "../../libDaisy//src/daisy_core.h"
 660              		.file 42 "../../libDaisy//src/per/tim.h"
 661              		.file 43 "../../libDaisy//src/per/sai.h"
 662              		.file 44 "../../libDaisy//src/hid/ctrl.h"
 663              		.file 45 "../../libDaisy//src/hid/logger_impl.h"
 664              		.file 46 "../../libDaisy//src/util/wav_format.h"
 665              		.file 47 "../../libDaisy//src/dev/max11300.h"
 666              		.file 48 "../../libDaisy//src/hid/logger.h"
 667              		.file 49 "../../libDaisy//src/per/gpio.h"
 668              		.file 50 "../../libDaisy//src/dev/sdram.h"
 669              		.file 51 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/lib/gcc/arm-none-eabi/10.3.1/inc
 670              		.file 52 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/stdio.h"
 671              		.file 53 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/string.h"
 672              		.file 54 "../../DaisySP/Source/Control/adenv.h"
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 31


 673              		.file 55 "../../DaisySP/Source/Utility/dsp.h"
 674              		.file 56 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/wchar.h"
 675              		.file 57 "/opt/homebrew/Cellar/arm-none-eabi-gcc/10.3-2021.07/gcc/arm-none-eabi/include/locale.h"
 676              		.file 58 "../../libDaisy//Drivers/CMSIS/DSP/Include/arm_math.h"
 677              		.file 59 "<built-in>"
 678              		.file 60 "../../libDaisy//src/dev/sr_595.h"
ARM GAS  /var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s 			page 32


DEFINED SYMBOLS
                            *ABS*:0000000000000000 FFT-testing.cpp
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:17     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:0000000000000000 $t
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:26     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:0000000000000000 _ZN5daisy8patch_sm12DaisyPatchSMD2Ev
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:26     .text._ZN5daisy8patch_sm12DaisyPatchSMD2Ev:0000000000000000 _ZN5daisy8patch_sm12DaisyPatchSMD1Ev
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:84     .text._Z13AudioCallbackPKPKfPPfj:0000000000000000 $t
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:92     .text._Z13AudioCallbackPKPKfPPfj:0000000000000000 _Z13AudioCallbackPKPKfPPfj
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:295    .text._Z13AudioCallbackPKPKfPPfj:00000000000000bc $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:606    .bss.inputSignal:0000000000000000 inputSignal
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:305    .text._Z18CalculateFrequencymf:0000000000000000 $t
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:313    .text._Z18CalculateFrequencymf:0000000000000000 _Z18CalculateFrequencymf
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:341    .text._Z18CalculateFrequencymf:0000000000000020 $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:346    .rodata.main.str1.4:0000000000000000 $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:350    .text.startup.main:0000000000000000 $t
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:358    .text.startup.main:0000000000000000 main
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:429    .text.startup.main:000000000000003c $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:439    .text.startup._GLOBAL__sub_I_hw:0000000000000000 $t
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:446    .text.startup._GLOBAL__sub_I_hw:0000000000000000 _GLOBAL__sub_I_hw
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:571    .text.startup._GLOBAL__sub_I_hw:0000000000000014 $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:580    .init_array:0000000000000000 $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:593    .bss.fftInstance:0000000000000000 fftInstance
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:626    .bss.signalFrequency:0000000000000000 signalFrequency
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:613    .bss.magnitudeBuffer:0000000000000000 magnitudeBuffer
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:619    .bss.outputBuffer:0000000000000000 outputBuffer
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:600    .bss.hw:0000000000000000 hw
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:589    .bss.fftInstance:0000000000000000 $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:596    .bss.hw:0000000000000000 $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:603    .bss.inputSignal:0000000000000000 $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:609    .bss.magnitudeBuffer:0000000000000000 $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:616    .bss.outputBuffer:0000000000000000 $d
/var/folders/hl/qgbwny5j0fd895c2c41bk3tw0000gp/T//ccZcNgxA.s:622    .bss.signalFrequency:0000000000000000 $d
                           .group:0000000000000000 _ZN5daisy8patch_sm12DaisyPatchSMD5Ev

UNDEFINED SYMBOLS
_ZN5daisy8patch_sm12DaisyPatchSM21ProcessAnalogControlsEv
_ZN5daisy8patch_sm12DaisyPatchSM22ProcessDigitalControlsEv
arm_cfft_radix4_f32
arm_cmplx_mag_f32
_ZN5daisy8patch_sm12DaisyPatchSM15AudioSampleRateEv
_ZN5daisy8patch_sm12DaisyPatchSM4InitEv
_ZN5daisy8patch_sm12DaisyPatchSM17SetAudioBlockSizeEj
_ZN5daisy8patch_sm12DaisyPatchSM18SetAudioSampleRateENS_9SaiHandle6Config10SampleRateE
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
arm_cfft_radix4_init_f32
_ZN5daisy8patch_sm12DaisyPatchSM10StartAudioEPFvPKPKfPPfjE
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
__aeabi_atexit
__dso_handle
